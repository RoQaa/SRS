"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4101],{95029:function(e,t,n){var a=n(2265),s=n(40718),i=n.n(s),r=n(36760),l=n.n(r),o=n(28137);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"];function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f={children:i().node,type:i().string,size:i().oneOfType([i().number,i().string]),bsSize:i().string,valid:i().bool,invalid:i().bool,tag:o.iC,innerRef:i().oneOfType([i().object,i().func,i().string]),plaintext:i().bool,addon:i().bool,className:i().string,cssModule:i().object},x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(i,e);var t,n,s=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=h(i);return e=t?Reflect.construct(n,arguments,h(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return m(e)}(this,e)});function i(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,i),(t=s.call(this,e)).getRef=t.getRef.bind(m(t)),t.focus=t.focus.bind(m(t)),t}return n=[{key:"getRef",value:function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e}},{key:"focus",value:function(){this.ref&&this.ref.focus()}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.cssModule,s=e.type,i=void 0===s?"text":s,r=e.bsSize,c=e.valid,p=e.invalid,m=e.tag,h=e.addon,f=e.plaintext,x=e.innerRef,b=function(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n,a,s={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}(e,d),j=["switch","radio","checkbox"].indexOf(i)>-1,g="textarea"===i,v="select"===i,y="range"===i,N=m||(v||g?i:"input"),Z="form-control";f?(Z="".concat(Z,"-plaintext"),N=m||"input"):y?Z="form-range":v?Z="form-select":j&&(Z=h?null:"form-check-input"),b.size&&/\D/g.test(b.size)&&((0,o.O4)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),r=b.size,delete b.size);var w=(0,o.mx)(l()(t,p&&"is-invalid",c&&"is-valid",!!r&&(v?"form-select-".concat(r):"form-control-".concat(r)),Z),n);return("input"===N||m&&"function"==typeof m)&&(b.type="switch"===i?"checkbox":i),b.children&&!(f||"select"===i||"string"!=typeof N||"select"===N)&&((0,o.O4)('Input with a type of "'.concat(i,'" cannot have children. Please use "value"/"defaultValue" instead.')),delete b.children),a.createElement(N,u({},b,{ref:x,className:w,"aria-invalid":p}))}}],function(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(a.Component);x.propTypes=f,t.Z=x},91799:function(e,t,n){n.r(t),n.d(t,{default:function(){return H}});var a=n(57437),s=n(71008),i=n(99914),r=n(50288),l=n(98723),o=n(65051),c=n(75722),d=n(73215),u=n(79205),p=n(17851),m=n(45394),h=n(90736),f=n(5551),x=n(53514),b=n(12121),j=()=>{let{navId:e}=(0,m.C)(e=>e.addNews),t=(0,m.T)();return(0,a.jsx)(l.Z,{xxl:"3",xl:"4",className:"box-col-4e sidebar-left-wrapper mb-2 add-product-tab",children:(0,a.jsx)(f.Z,{pills:!0,className:"sidebar-left-icons border-0",tabs:!0,children:p.Id.map((n,s)=>(0,a.jsx)(x.Z,{children:(0,a.jsxs)(b.Z,{className:"border-0",active:e===n.id,onClick:()=>t((0,h.YB)(n.id)),children:[(0,a.jsx)("div",{className:"nav-rounded",children:(0,a.jsx)("div",{className:"product-icons",children:(0,a.jsx)(u.Z,{className:"stroke-icon",iconId:n.icon})})}),(0,a.jsxs)("div",{className:"product-tab-content",children:[(0,a.jsx)("h5",{children:n.title}),(0,a.jsx)("p",{children:n.detail})]})]})},s))})})},g=n(67061),v=n(62302),y=n(50720),N=n(82097),Z=n(95029),w=n(2265),O=n(31538),P=n(97458),k=n.n(P),_=e=>{let{contentName:t,lang:n="en"}=e,{formValue:i}=(0,m.C)(e=>e.addNews),r=(0,m.T)();return(0,a.jsx)(o.Z,{children:(0,a.jsxs)(d.Z,{children:[(0,a.jsxs)(N.Z,{className:"mb-1",check:!0,children:["ar"===n?s.Uhw:s.L2y,(0,a.jsx)("span",{className:"txt-danger",children:" *"})]}),(0,a.jsx)("div",{style:{width:"100%",height:"400px",overflow:"auto"},children:(0,a.jsx)(O.vM,{editor:k(),data:i[t],onChange:(e,n)=>{let a=n.getData();r((0,h.my)({name:t,value:a}))}})})]})})},C=e=>{let{titleName:t="title",contentName:n="content",lang:i="en"}=e,{formValue:o}=(0,m.C)(e=>e.addNews),c=(0,m.T)();return(0,a.jsx)("div",{className:"sidebar-body",children:(0,a.jsx)(y.Z,{children:(0,a.jsxs)(r.Z,{className:"g-2",children:[(0,a.jsx)(l.Z,{xs:"12",children:(0,a.jsxs)(N.Z,{className:"m-0",check:!0,children:["ar"===i?s.RST:s.KPX,(0,a.jsx)("span",{className:"txt-danger",children:" *"})]})}),(0,a.jsx)(l.Z,{xs:"12",children:(0,a.jsx)("div",{className:"custom-input",children:(0,a.jsx)(Z.Z,{className:""!==o[t]?"valid":"is-invalid",type:"text",required:!0,name:t,onChange:e=>c((0,h.my)({name:t,value:e.target.value}))})})}),(0,a.jsx)(_,{contentName:n,lang:i})]})})})},I=n(94926),q=()=>{let[e,t]=(0,w.useState)([]),n=(0,m.T)(),s=e=>{t(e);let a=e.filter(e=>e.valid).map(e=>e.file);n((0,h.my)({name:"images",value:a}))},i=n=>{t(e.filter(e=>e.id!==n))};return(0,a.jsxs)("div",{className:"product-upload",children:[(0,a.jsxs)("p",{children:["News Gallery",(0,a.jsx)("span",{className:"txt-danger",children:" *"})]}),(0,a.jsxs)(I.fh,{onChange:e=>s(e),value:e,maxFiles:5,header:!1,footer:!1,minHeight:"80px",name:"images",children:[e.map(e=>(0,a.jsx)(I.Q$,{...e,onDelete:i,info:!0,preview:!0},e.id)),0===e.length&&(0,a.jsxs)("div",{className:"dz-message needsclick",children:[(0,a.jsx)(u.Z,{iconId:"file-upload1"}),(0,a.jsx)("h5",{children:"Drag Images here"}),(0,a.jsx)("span",{className:"note needsclick",children:"Add News Gallery Images"})]})]})]})},S=n(27648),T=()=>{let[e,t]=(0,w.useState)([]),n=(0,m.T)(),i=e=>{t(e);let a=e.filter(e=>!0===e.valid);n((0,h.my)({name:"thumbnail",value:a[0].file}))},r=n=>{t(e.filter(e=>e.id!==n))};return(0,a.jsxs)("div",{className:"sidebar-body",children:[(0,a.jsxs)("div",{className:"product-upload",children:[(0,a.jsxs)("p",{children:["News Thumbnail",(0,a.jsx)("span",{className:"txt-danger",children:" *"})," "]}),(0,a.jsxs)(I.fh,{onChange:e=>i(e),value:e,maxFiles:1,header:!1,footer:!1,minHeight:"80px",name:"thumbnail",children:[e.map(e=>(0,a.jsx)(I.Q$,{...e,onDelete:r,info:!0,preview:!0},e.id)),0===e.length&&(0,a.jsxs)("div",{className:"dz-message needsclick",children:[(0,a.jsx)(u.Z,{iconId:"file-upload"}),(0,a.jsxs)("h5",{children:["Drag your image here, or",(0,a.jsx)(S.default,{className:"txt-primary",href:s.zOc,children:"\xa0browser"})]}),(0,a.jsx)("span",{className:"note needsclick",children:"SVG,PNG,JPG or GIF"})]})]})]}),(0,a.jsx)(q,{})]})},z=()=>{let e=(0,m.T)(),t=t=>{e((0,h.my)({name:"published",value:t}))};return(0,a.jsx)(l.Z,{sm:"6",children:(0,a.jsx)(r.Z,{children:(0,a.jsxs)(l.Z,{xs:"12",children:[(0,a.jsxs)(N.Z,{for:"validationServer01",check:!0,children:["Publish",(0,a.jsx)("span",{className:"txt-danger",children:" *"})]}),(0,a.jsxs)(Z.Z,{type:"select",name:"published",onChange:e=>t(e.target.value),children:[(0,a.jsx)("option",{value:"true",children:"Publish"}),(0,a.jsx)("option",{value:"false",children:"UnPublish"})]}),(0,a.jsx)("p",{className:"f-light",children:"Choose the status"})]})})})},R=n(85994),A=n.n(R),D=()=>{let e=(0,m.T)(),{formValue:t}=(0,m.C)(e=>e.addNews),[n,s]=(0,w.useState)(new Date);return(0,a.jsx)(l.Z,{sm:"6",children:(0,a.jsx)(r.Z,{children:(0,a.jsxs)(l.Z,{xs:"12",children:[(0,a.jsx)(N.Z,{for:"validationServer01",check:!0,children:"Date"}),(0,a.jsx)("div",{className:"input-group flatpicker-calender product-date",children:(0,a.jsx)(A(),{className:"form-control flatpickr-input",selected:t.date,onChange:t=>{s(t),e((0,h.my)({name:"date",value:t}))}})})]})})})},E=()=>(0,a.jsx)("div",{className:"sidebar-body",children:(0,a.jsx)(y.Z,{children:(0,a.jsxs)(r.Z,{className:"g-lg-4 g-3",children:[(0,a.jsx)(l.Z,{xs:"12",children:(0,a.jsx)(r.Z,{className:"g-3",children:(0,a.jsx)(z,{})})}),(0,a.jsx)(l.Z,{children:(0,a.jsx)(r.Z,{children:(0,a.jsx)(D,{})})})]})})}),B=n(99376),F=n(18206),V=n(80201),Y=n(64131),G=n(42586),Q=()=>{let{navId:e,formValue:t,tabId:n}=(0,m.C)(e=>e.addNews),i=(0,m.T)(),r=(0,B.useRouter)(),l=(0,G.useLocale)(),o=async e=>{try{let t=await fetch("".concat("https://stagingsrv.gazala.net/api","/edit-website/news/"),{method:"POST",headers:{Authorization:"Bearer ".concat(Y.Z.get("auth_token"))},body:e});if(t.ok)F.Am.success("Item added successfully!"),r.push("/".concat(l,"/dashboard/news/")),i((0,h.Fx)()),i((0,h.YB)(1));else{let e=await t.json();F.Am.error((null==e?void 0:e.message)||"Failed to submit data.")}}catch(e){F.Am.error("Error submitting data. Please try again.")}},c=()=>1!==e||t.title&&t.content?2!==e||t.title_ar&&t.content_ar?3!==e||t.thumbnail&&t.images?4!==e||!!t.date&&!!t.published||(F.Am.error("Please select a date and status."),!1):(F.Am.error("Please upload a thumbnail and images."),!1):(F.Am.error("Please fill all fields in Arabic details."),!1):(F.Am.error("Please fill all fields in English details."),!1);return(0,a.jsxs)("div",{className:"product-buttons border-0",children:[e>1&&(0,a.jsx)(V.Z,{color:"transparent",onClick:()=>{e>1&&(n>1?i((0,h.dH)(n-1)):i((0,h.YB)(e-1)))},children:(0,a.jsxs)("div",{className:"d-flex align-items-center gap-sm-2 gap-1",children:[(0,a.jsx)(u.Z,{iconId:"back-arrow"}),s.L$3]})}),(0,a.jsx)(V.Z,{color:"transparent",className:"ms-2",onClick:()=>{if(c()){if(1===e)i((0,h.YB)(2));else if(2===e)i((0,h.YB)(3));else if(3===e)i((0,h.YB)(4));else if(4===e){let e=new FormData;e.append("title",t.title),e.append("title_ar",t.title_ar),e.append("description",t.content),e.append("description_ar",t.content_ar),e.append("date",t.date),e.append("published",t.published),t.thumbnail&&e.append("thumbnail",t.thumbnail),Array.isArray(t.images)&&t.images.forEach(t=>{t&&e.append("images",t)}),o(e)}}},children:(0,a.jsxs)("div",{className:"d-flex align-items-center gap-sm-2 gap-1",children:[4===e?"Submit":"Next",(0,a.jsx)(u.Z,{iconId:"front-arrow"})]})})]})},L=()=>{let{navId:e}=(0,m.C)(e=>e.addNews);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Z,{xxl:"9",xl:"8",className:"box-col-8 position-relative",children:(0,a.jsxs)(g.Z,{activeTab:e,children:[(0,a.jsx)(v.Z,{tabId:1,children:(0,a.jsx)(C,{titleName:"title",contentName:"content",lang:"en"})}),(0,a.jsx)(v.Z,{tabId:2,children:(0,a.jsx)(C,{titleName:"title_ar",contentName:"content_ar",lang:"ar"})}),(0,a.jsx)(v.Z,{tabId:3,children:(0,a.jsx)(T,{})}),(0,a.jsx)(v.Z,{tabId:4,children:(0,a.jsx)(E,{})})]})}),(0,a.jsx)(Q,{})]})},M=w.memo(()=>(0,a.jsxs)(r.Z,{className:"g-xl-5 g-3",children:[(0,a.jsx)(j,{}),(0,a.jsx)(L,{})]})),H=()=>(0,a.jsx)(i.Z,{fluid:!0,children:(0,a.jsx)(r.Z,{children:(0,a.jsx)(l.Z,{xs:"12",children:(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(c.Z,{children:(0,a.jsx)("h5",{children:s.zJ$})}),(0,a.jsx)(d.Z,{children:(0,a.jsx)(M,{})})]})})})})},90736:function(e,t,n){n.d(t,{Fx:function(){return c},YB:function(){return r},dH:function(){return o},my:function(){return l}});var a=n(1455);let s={navId:1,tabId:1,formValue:{title:"",title_ar:"",content:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Culpa id ea quaerat distinctio saepe dolor esse quae inventore quasi magni reiciendis adipisci fuga illo quod assumenda omnis alias, delectus laborum Quae quod est neque consequatur id ea provident assumenda minus ipsam! Quos dolorem magnam dolores molestiae sequi, facilis voluptatibus impedit accusantium inventore, repellat quibusdam nemo tempora explicabo, praesentium quis modi",content_ar:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Culpa id ea quaerat distinctio saepe dolor esse quae inventore quasi magni reiciendis adipisci fuga illo quod assumenda omnis alias, delectus laborum Quae quod est neque consequatur id ea provident assumenda minus ipsam! Quos dolorem magnam dolores molestiae sequi, facilis voluptatibus impedit accusantium inventore, repellat quibusdam nemo tempora explicabo, praesentium quis modi",thumbnail:"",images:"",published:!0,date:new Date,features:[],features_ar:[]}},i=(0,a.oM)({name:"addProduct",initialState:s,reducers:{setNavId:(e,t)=>{e.navId=t.payload},setTabId:(e,t)=>{e.tabId=t.payload},setFormValue:(e,t)=>{e.formValue[t.payload.name]=t.payload.value},resetForm(e){e.formValue=s.formValue}}}),{setNavId:r,setFormValue:l,setTabId:o,resetForm:c}=i.actions;t.ZP=i.reducer},85533:function(e,t,n){n.d(t,{Z:function(){return a}});function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}}}]);