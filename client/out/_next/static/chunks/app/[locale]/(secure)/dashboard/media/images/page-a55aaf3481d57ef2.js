(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5741],{90854:function(e,t,a){Promise.resolve().then(a.bind(a,68716))},34760:function(e,t,a){"use strict";var i=a(57437),r=a(2265),n=a(75722);t.Z=e=>{let{title:t,span:a,headClass:d,icon:l,tagClass:s,children:c}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(n.Z,{className:d||"",children:[(0,i.jsxs)("div",{className:"d-flex flex-column flex-sm-row justify-content-between align-items-start align-items-sm-center",children:[(0,i.jsxs)("h4",{className:s||"",children:[l&&l," ",t]}),c&&(0,i.jsx)("div",{children:c})]}),a&&(0,i.jsx)("p",{className:"f-m-light mt-1",children:a.map((e,t)=>(0,i.jsxs)(r.Fragment,{children:[null==e?void 0:e.text," ",e.code&&(0,i.jsx)("code",{children:e.code}),e.mark&&(0,i.jsx)("mark",{children:e.mark})]},t))})]})})}},68716:function(e,t,a){"use strict";a.d(t,{default:function(){return I}});var i=a(57437),r=a(99914),n=a(50288),d=a(98723),l=a(65051),s=a(80201),c=a(73215),o=a(42391),u=a(99376),m=a(34760),h=a(27648),f=a(80029),x=a(2265),p=a(45394),g=a(5515),j=a.n(g),v=a(41221),y=a(45288);let C=()=>{let e=(0,p.T)(),{loading:t}=(0,p.C)(e=>e.media);(0,x.useEffect)(()=>{e((0,y.D6)())},[e]);let a=(0,p.C)((0,y.iT)("Image")),r=async t=>{try{await e((0,y.hV)(t)).unwrap(),j().fire({icon:"success",text:"Item has been deleted!",confirmButtonColor:"#3085d6"})}catch(e){j().fire({icon:"error",title:"Error!",text:"Failed to delete the item."})}},n=e=>{j().fire({icon:"warning",title:"Are you sure?",text:"Once deleted, this item cannot be recovered!",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete"}).then(t=>{t.isConfirmed&&r(e)})},d={width:"350px",height:"400px",margin:"10px",overflow:"hidden",position:"relative"},l={width:"100%",height:"200px",objectFit:"cover",borderBottom:"1px solid #ddd"};return(0,i.jsx)(f.ri,{withCaption:!0,children:t?(0,i.jsx)(c.Z,{className:"text-center mt-2 mb-5 p-2",children:(0,i.jsx)(v.Z,{color:"primary"})}):(null==a?void 0:a.length)>0?a.map((e,t)=>(0,i.jsx)("figure",{className:"col-xl-3 col-md-4 col-sm-6 m-0",itemProp:"caption description",style:d,children:(0,i.jsx)(f.ck,{original:"".concat(null==e?void 0:e.full),width:"1500",height:"850",caption:e.title,children:t=>{let{ref:a,open:r}=t;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{children:(0,i.jsxs)(h.default,{href:"#",onClick:e=>e.preventDefault(),children:[(0,i.jsx)("img",{onClick:r,className:"img-thumbnail border-bottom-0 p-2 rounded-0 rounded-top-1",ref:a,src:"".concat("https://stagingsrv.gazala.net/api","/").concat(null==e?void 0:e.thumbnail),style:l,alt:"media-item-img"}),(0,i.jsxs)("div",{className:"caption border-top-0 p-2",children:[(0,i.jsx)("h4",{children:null==e?void 0:e.title}),(0,i.jsx)("ul",{className:"action simple-list d-flex flex-row",children:(0,i.jsx)("li",{className:"delete",style:{cursor:"pointer"},children:(0,i.jsx)("a",{onClick:()=>n(null==e?void 0:e._id),children:(0,i.jsx)(s.Z,{className:"btn btn-sm btn-danger",color:"danger",size:"sm",children:"Delete"})})})})]})]})})})}})},t)):(0,i.jsx)(c.Z,{className:"text-center mt-2 mb-5 p-2",children:(0,i.jsx)("p",{children:"No media items available to display."})})})};var b=a(42586),I=()=>{let e=(0,u.useRouter)(),t=(0,b.useLocale)();return(0,i.jsx)(r.Z,{fluid:!0,children:(0,i.jsx)(n.Z,{children:(0,i.jsx)(d.Z,{sm:"12",children:(0,i.jsxs)(l.Z,{children:[(0,i.jsx)(m.Z,{title:"Media Images",children:(0,i.jsxs)(s.Z,{color:"primary",onClick:()=>{e.push("/".concat(t,"/dashboard/media/images/add"))},className:"d-flex align-items-center mt-sm-0 mt-2",children:[(0,i.jsx)(o.Z,{className:"me-2"}),"Add Image"]})}),(0,i.jsx)(c.Z,{className:"my-gallery gallery-with-description",children:(0,i.jsx)(n.Z,{className:"justify-content-center justify-content-md-start",children:(0,i.jsx)(C,{})})})]})})})})}},45394:function(e,t,a){"use strict";a.d(t,{C:function(){return n},T:function(){return r}});var i=a(68575);let r=i.I0,n=i.v9},45288:function(e,t,a){"use strict";a.d(t,{D6:function(){return s},hV:function(){return u},iT:function(){return h},ph:function(){return o}});var i=a(1455),r=a(83464),n=a(43577),d=a(64131);let l="".concat("https://stagingsrv.gazala.net/api","/edit-website/media"),s=(0,i.hg)("media/fetchMediaItems",async(e,t)=>{let{rejectWithValue:a}=t;try{return(await r.default.get(l,{headers:{Authorization:"Bearer ".concat(d.Z.get("auth_token"))}})).data.data}catch(e){if(e instanceof n.d7){var i;return a((null==e?void 0:null===(i=e.response)||void 0===i?void 0:i.data)||"Failed to fetch media items")}}}),c=(0,i.hg)("media/fetchMediaItemById",async(e,t)=>{let{rejectWithValue:a}=t;try{return(await r.default.get("".concat(l,"/").concat(e),{headers:{Authorization:"Bearer ".concat(d.Z.get("auth_token"))}})).data.data}catch(e){if(e instanceof n.d7){var i;return a((null==e?void 0:null===(i=e.response)||void 0===i?void 0:i.data)||"Failed to fetch media by ID")}}}),o=(0,i.hg)("media/addMediaItem",async(e,t)=>{let{rejectWithValue:a}=t;try{return(await r.default.post(l,e,{headers:{Authorization:"Bearer ".concat(d.Z.get("auth_token"))}})).data}catch(e){if(e instanceof n.d7){var i;return a((null==e?void 0:null===(i=e.response)||void 0===i?void 0:i.data)||"Failed to add media item")}}}),u=(0,i.hg)("media/deleteMediaItem",async(e,t)=>{let{dispatch:a,rejectWithValue:i}=t;try{return await r.default.delete("".concat(l,"/").concat(e),{headers:{Authorization:"Bearer ".concat(d.Z.get("auth_token"))}}),a(p(e)),e}catch(e){if(e instanceof Error)return i(e.message||"Failed to delete media item")}}),m=(0,i.oM)({name:"media",initialState:{mediaItems:[],currentMediaItem:null,loading:!1,error:null},reducers:{resetError(e){e.error=null},clearCurrentMediaItem(e){e.currentMediaItem=null},removeMediaItem:(e,t)=>{e.mediaItems=e.mediaItems.filter(e=>e._id!==t.payload)}},extraReducers:e=>{e.addCase(s.pending,e=>{e.loading=!0,e.error=null}).addCase(s.fulfilled,(e,t)=>{e.loading=!1,e.mediaItems=t.payload}).addCase(s.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(c.pending,e=>{e.loading=!0,e.error=null}).addCase(c.fulfilled,(e,t)=>{e.loading=!1,e.currentMediaItem=t.payload}).addCase(c.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(o.pending,e=>{e.loading=!0,e.error=null}).addCase(o.fulfilled,(e,t)=>{e.mediaItems.push(t.payload)}).addCase(o.rejected,(e,t)=>{e.error=t.payload})}}),h=e=>t=>t.media.mediaItems.filter(t=>t.type===e),{resetError:f,clearCurrentMediaItem:x,removeMediaItem:p}=m.actions;t.ZP=m.reducer},43577:function(e,t,a){"use strict";a.d(t,{d7:function(){return r}});let{Axios:i,AxiosError:r,CanceledError:n,isCancel:d,CancelToken:l,VERSION:s,all:c,Cancel:o,isAxiosError:u,spread:m,toFormData:h,AxiosHeaders:f,HttpStatusCode:x,formToJSON:p,getAdapter:g,mergeConfig:j}=a(83464).default}},function(e){e.O(0,[9461,3740,2292,2586,3464,7648,3537,177,2971,2117,1744],function(){return e(e.s=90854)}),_N_E=e.O()}]);