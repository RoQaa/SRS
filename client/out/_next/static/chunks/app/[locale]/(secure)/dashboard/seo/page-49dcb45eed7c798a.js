(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{87611:function(e,a,t){Promise.resolve().then(t.bind(t,43775))},13768:function(e,a,t){"use strict";var r=t(57437),n=t(2265),l=t(75722);a.Z=e=>{let{title:a,span:t,headClass:o,icon:d,tagClass:s}=e;return(0,r.jsxs)(l.Z,{className:o||"",children:[(0,r.jsxs)("h4",{className:s||"",children:[d&&d,a]}),t&&(0,r.jsx)("p",{className:"f-m-light mt-1",children:t.map((e,a)=>(0,r.jsxs)(n.Fragment,{children:[null==e?void 0:e.text," ",e.code&&(0,r.jsx)("code",{children:e.code})," ",e.mark&&(0,r.jsx)("mark",{children:e.mark})]},a))})]})}},72248:function(e,a,t){"use strict";t.d(a,{Z:function(){return f}});var r=t(57437),n=t(2265),l=t(82097),o=t(95029),d=t(65051),s=t(73215),i=t(91105),c=t(71008),u=t(13768),h=e=>{let{data:a,columns:t,filterKey:h,title:f}=e,[g,m]=(0,n.useState)(""),p=Array.isArray(a)&&a.filter(e=>{var a;return null===(a=e[h])||void 0===a?void 0:a.toString().toLowerCase().includes(g.toLowerCase())}),v=(0,n.useMemo)(()=>(0,r.jsxs)("div",{id:"basic-1_filter",className:"dataTables_filter d-flex align-items-center",children:[(0,r.jsxs)(l.Z,{className:"me-1",children:[c.cCG,":"]}),(0,r.jsx)(o.Z,{onChange:e=>m(e.target.value),type:"search",value:g})]}),[g]);return(0,r.jsxs)(d.Z,{className:"basic-data-table",children:[(0,r.jsx)(u.Z,{title:f,headClass:"pb-0 card-no-border"}),(0,r.jsx)(s.Z,{children:(0,r.jsx)("div",{className:"table-responsive",children:(0,r.jsx)(i.ZP,{className:"theme-scrollbar",data:p||[],columns:t,striped:!0,highlightOnHover:!0,pagination:!0,subHeader:!0,subHeaderComponent:v})})})]})},f=e=>{let{title:a,data:t,columns:n,filterKey:l}=e;return(0,r.jsx)(h,{data:t,columns:n,filterKey:l,title:a})}},43775:function(e,a,t){"use strict";var r=t(57437),n=t(2265),l=t(99914),o=t(50288),d=t(98723),s=t(41221),i=t(80201),c=t(5515),u=t.n(c),h=t(72248),f=t(45394),g=t(47327),m=t(27648),p=t(42586);a.default=()=>{let e=(0,f.T)(),{allSeoData:a,loading:t}=(0,f.C)(e=>e.seo),c=(0,p.useLocale)();(0,n.useEffect)(()=>{(async()=>{await e((0,g.Af)())})()},[e]);let v=a=>{u().fire({icon:"warning",title:"Are you sure?",text:"Once deleted, this item cannot be recovered!",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete"}).then(t=>{t.isConfirmed&&e((0,g.KF)(a)).unwrap().then(()=>{u().fire({icon:"success",text:"Item has been deleted!",confirmButtonColor:"#3085d6"})}).catch(e=>{u().fire({icon:"error",title:"Error!",text:e.message||"Failed to delete the item."})})})},x=[{name:"Page",selector:e=>e.page,sortable:!0},{name:"Title (EN)",selector:e=>e.title_en,sortable:!0},{name:"Meta Description (EN)",selector:e=>e.meta_description_en?e.meta_description_en.slice(0,48)+"...":"N/A",sortable:!0},{name:"Action",cell:e=>(0,r.jsxs)("ul",{className:"action simple-list d-flex flex-row",children:[(0,r.jsx)("li",{className:"edit",children:(0,r.jsx)(m.default,{prefetch:!1,href:"".concat("https://stagingsrv.gazala.net","/").concat(c,"/dashboard/seo/edit?page=").concat(e.page),children:(0,r.jsx)("i",{className:"icon-pencil-alt"})})}),(0,r.jsx)("li",{className:"delete",style:{cursor:"pointer"},children:(0,r.jsx)("a",{onClick:()=>v(e.page),children:(0,r.jsx)("i",{className:"icon-trash"})})})]}),sortable:!1}];return(0,r.jsx)(l.Z,{fluid:!0,children:(0,r.jsx)(o.Z,{children:t?(0,r.jsxs)(d.Z,{sm:"12",className:"text-center",children:[(0,r.jsx)(s.Z,{color:"primary"}),(0,r.jsx)("p",{children:"Loading SEO data..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Z,{sm:"12",className:"mb-3 d-flex justify-content-end",children:(0,r.jsx)(m.default,{href:"".concat("https://stagingsrv.gazala.net","/").concat(c,"/dashboard/seo/add"),children:(0,r.jsx)(i.Z,{size:"md",color:"primary",children:"Create SEO"})})}),(0,r.jsx)(d.Z,{sm:"12",children:(0,r.jsx)(h.Z,{data:a||[],columns:x,filterKey:"page",title:"SEO Pages"})})]})})})}},45394:function(e,a,t){"use strict";t.d(a,{C:function(){return l},T:function(){return n}});var r=t(68575);let n=r.I0,l=r.v9},47327:function(e,a,t){"use strict";t.d(a,{Af:function(){return s},KF:function(){return h},Ri:function(){return i},cg:function(){return u},pL:function(){return c}});var r=t(1455),n=t(83464),l=t(43577),o=t(64131);let d="".concat("https://stagingsrv.gazala.net/api","/seo"),s=(0,r.hg)("seo/fetchAllSeoPages",async(e,a)=>{let{rejectWithValue:t}=a;try{return(await n.default.get("".concat(d),{headers:{Authorization:"Bearer ".concat(o.Z.get("auth_token"))}})).data.data}catch(e){if(e instanceof l.d7){var r;return t((null==e?void 0:null===(r=e.response)||void 0===r?void 0:r.data)||"Failed to fetch SEO data")}}}),i=(0,r.hg)("seo/fetchSeoByPage",async(e,a)=>{let{rejectWithValue:t}=a;try{return(await n.default.get("".concat(d,"/findByPage/").concat(e),{headers:{Authorization:"Bearer ".concat(o.Z.get("auth_token"))}})).data.data}catch(e){if(e instanceof l.d7){var r;return t((null===(r=e.response)||void 0===r?void 0:r.data)||"Failed to fetch SEO data")}}}),c=(0,r.hg)("seo/addSeo",async(e,a)=>{let{rejectWithValue:t}=a;try{return(await n.default.post("".concat(d),e,{headers:{Authorization:"Bearer ".concat(o.Z.get("auth_token"))}})).data}catch(e){if(e instanceof l.d7){var r;return t((null==e?void 0:null===(r=e.response)||void 0===r?void 0:r.data)||"Failed to add SEO data")}}}),u=(0,r.hg)("seo/updateSeo",async(e,a)=>{let{formData:t,page:r}=e,{rejectWithValue:s}=a;try{return(await n.default.patch("".concat(d,"/findByPage/").concat(r),t,{headers:{Authorization:"Bearer ".concat(o.Z.get("auth_token"))}})).data}catch(e){if(e instanceof l.d7){var i;return s((null==e?void 0:null===(i=e.response)||void 0===i?void 0:i.data)||"Failed to update SEO data")}}}),h=(0,r.hg)("seo/deleteSeoByPage",async(e,a)=>{let{dispatch:t,rejectWithValue:r}=a;try{let a=await n.default.delete("".concat(d,"/findByPage/").concat(e),{headers:{Authorization:"Bearer ".concat(o.Z.get("auth_token"))}});return t(m(e)),a.data}catch(e){if(e instanceof l.d7){var s;return r((null===(s=e.response)||void 0===s?void 0:s.data)||"Failed to delete SEO data")}}}),f=(0,r.oM)({name:"seo",initialState:{allSeoData:null,seoData:null,loading:!1,error:null},reducers:{resetSeoState:e=>{e.allSeoData=null,e.seoData=null,e.loading=!1,e.error=null},removeSeo:(e,a)=>{var t,r;e.allSeoData=null!==(r=null===(t=e.allSeoData)||void 0===t?void 0:t.filter(e=>e.page!==a.payload))&&void 0!==r?r:null}},extraReducers:e=>{e.addCase(s.pending,e=>{e.loading=!0,e.error=null}).addCase(s.fulfilled,(e,a)=>{e.loading=!1,e.allSeoData=a.payload}).addCase(s.rejected,(e,a)=>{var t;e.loading=!1,e.error=null!==(t=a.error.message)&&void 0!==t?t:"Failed to fetch all SEO data"}).addCase(i.pending,e=>{e.loading=!0,e.error=null}).addCase(i.fulfilled,(e,a)=>{e.loading=!1,console.log("action.payload",a.payload),e.seoData=a.payload}).addCase(i.rejected,(e,a)=>{var t;e.loading=!1,e.error=null!==(t=a.error.message)&&void 0!==t?t:"Failed to fetch SEO data"}).addCase(c.pending,e=>{e.loading=!0,e.error=null}).addCase(c.fulfilled,(e,a)=>{var t;e.loading=!1,e.allSeoData=[...null!==(t=e.allSeoData)&&void 0!==t?t:[],a.payload]}).addCase(c.rejected,(e,a)=>{var t;e.loading=!1,e.error=null!==(t=a.error.message)&&void 0!==t?t:"Failed to add SEO data"}).addCase(u.pending,e=>{e.loading=!0,e.error=null}).addCase(u.fulfilled,(e,a)=>{var t,r;e.loading=!1,e.allSeoData=null!==(r=null===(t=e.allSeoData)||void 0===t?void 0:t.map(e=>e.page===a.payload.page?a.payload:e))&&void 0!==r?r:[]}).addCase(u.rejected,(e,a)=>{var t;e.loading=!1,e.error=null!==(t=a.error.message)&&void 0!==t?t:"Failed to update SEO data"})}}),{resetSeoState:g,removeSeo:m}=f.actions;a.ZP=f.reducer}},function(e){e.O(0,[9461,2292,2586,3464,7648,3537,3547,6797,1008,2971,2117,1744],function(){return e(e.s=87611)}),_N_E=e.O()}]);