(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7709],{48866:function(e,a,r){Promise.resolve().then(r.bind(r,5895))},34760:function(e,a,r){"use strict";var t=r(57437),n=r(2265),l=r(75722);a.Z=e=>{let{title:a,span:r,headClass:i,icon:s,tagClass:o,children:c}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(l.Z,{className:i||"",children:[(0,t.jsxs)("div",{className:"d-flex flex-column flex-sm-row justify-content-between align-items-start align-items-sm-center",children:[(0,t.jsxs)("h4",{className:o||"",children:[s&&s," ",a]}),c&&(0,t.jsx)("div",{children:c})]}),r&&(0,t.jsx)("p",{className:"f-m-light mt-1",children:r.map((e,a)=>(0,t.jsxs)(n.Fragment,{children:[null==e?void 0:e.text," ",e.code&&(0,t.jsx)("code",{children:e.code}),e.mark&&(0,t.jsx)("mark",{children:e.mark})]},a))})]})})}},5895:function(e,a,r){"use strict";r.d(a,{default:function(){return w}});var t=r(57437),n=r(99914),l=r(50288),i=r(98723),s=r(65051),o=r(80201),c=r(73215),d=r(27648),u=r(80029),h=r(2265),m=r(45394),f=r(5515),p=r.n(f),x=r(626),g=r(99376),C=r(41221),j=r(42586);let y=()=>{let e=(0,g.useRouter)(),a=(0,m.T)(),r=(0,j.useLocale)(),{mainCarousels:n,loading:l}=(0,m.C)(e=>e.mainCarousels);(0,h.useEffect)(()=>{a((0,x.nI)())},[a]);let i=async e=>{try{await a((0,x.vy)(e)).unwrap(),a((0,x.nI)()),p().fire({icon:"success",text:"Item has been deleted!",confirmButtonColor:"#3085d6"})}catch(e){p().fire({icon:"error",title:"Error!",text:"Failed to delete the item."})}},s=e=>{p().fire({icon:"warning",title:"Are you sure?",text:"Once deleted, this item cannot be recovered!",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete"}).then(a=>{a.isConfirmed&&i(e)})},o={width:"350px",height:"400px",margin:"10px",overflow:"hidden",position:"relative"},f={width:"100%",height:"200px",objectFit:"cover",borderBottom:"1px solid #ddd"};return(0,t.jsx)(u.ri,{withCaption:!0,children:l?(0,t.jsx)(c.Z,{className:"text-center mt-2 mb-5 p-2",children:(0,t.jsx)(C.Z,{color:"primary"})}):(null==n?void 0:n.length)>0?n.map((a,n)=>(0,t.jsx)("figure",{className:"col-xl-3 col-md-4 col-sm-6 m-0",itemProp:"caption description",style:o,children:(0,t.jsx)(u.ck,{original:"".concat(a.image),width:"1500",height:"850",caption:a.title,children:n=>{let{ref:l,open:i}=n;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{children:(0,t.jsxs)(d.default,{href:"#",onClick:e=>e.preventDefault(),children:[(0,t.jsx)("img",{onClick:i,className:"img-thumbnail border-bottom-0 p-2 rounded-0 rounded-top-1",ref:l,src:"".concat("https://stagingsrv.gazala.net/api","/").concat(null==a?void 0:a.image),style:f,alt:"carousel-img"}),(0,t.jsxs)("div",{className:"caption border-top-0 p-2",children:[(0,t.jsx)("h4",{children:null==a?void 0:a.title}),(0,t.jsx)("p",{children:null==a?void 0:a.description}),(0,t.jsxs)("ul",{className:"action simple-list d-flex flex-row",children:[(0,t.jsx)("li",{className:"edit",children:(0,t.jsx)("a",{onClick:()=>e.push("/".concat(r,"/dashboard/edit-home/main-carousels/edit?id=").concat(null==a?void 0:a._id)),href:"#",style:{cursor:"pointer"},children:(0,t.jsx)("i",{className:"icon-pencil-alt"})})}),(0,t.jsx)("li",{className:"delete",style:{cursor:"pointer"},children:(0,t.jsx)("a",{onClick:()=>s(null==a?void 0:a._id),children:(0,t.jsx)("i",{className:"icon-trash"})})})]})]})]})})})}})},n)):(0,t.jsx)(c.Z,{className:"text-center mt-2 mb-5 p-2",children:(0,t.jsx)("p",{children:"No Carousels available to display."})})})};var v=r(42391),N=r(34760),w=()=>{let e=(0,g.useRouter)(),a=(0,j.useLocale)();return(0,t.jsx)(n.Z,{fluid:!0,children:(0,t.jsx)(l.Z,{children:(0,t.jsx)(i.Z,{sm:"12",children:(0,t.jsxs)(s.Z,{children:[(0,t.jsx)(N.Z,{title:"Main Carousels",children:(0,t.jsxs)(o.Z,{color:"primary",onClick:()=>{e.push("/".concat(a,"/dashboard/edit-home/main-carousels/add"))},className:"d-flex align-items-center mt-sm-0 mt-2",children:[(0,t.jsx)(v.Z,{className:"me-2"}),"Add Carousel"]})}),(0,t.jsx)(c.Z,{className:"my-gallery gallery-with-description ",children:(0,t.jsx)(l.Z,{className:"justify-content-center justify-content-md-start",children:(0,t.jsx)(y,{})})})]})})})})}},45394:function(e,a,r){"use strict";r.d(a,{C:function(){return l},T:function(){return n}});var t=r(68575);let n=t.I0,l=t.v9},626:function(e,a,r){"use strict";r.d(a,{Ey:function(){return f},Jj:function(){return u},LS:function(){return p},cS:function(){return d},nI:function(){return o},q5:function(){return c},vy:function(){return h}});var t=r(1455),n=r(83464),l=r(64131);let i="".concat("https://stagingsrv.gazala.net/api","/edit-website/slide"),s=l.Z.get("auth_token"),o=(0,t.hg)("carousel/fetchMainCarousels",async(e,a)=>{let{rejectWithValue:r}=a;try{return(await n.default.get("".concat(i,"/?type=MainCarousel"),{headers:{Authorization:"Bearer ".concat(s)}})).data.data}catch(e){if(e instanceof Error)return r((null==e?void 0:e.message)||"Failed to fetch main carousels")}}),c=(0,t.hg)("carousel/fetchMainCarouselById",async(e,a)=>{let{rejectWithValue:r}=a;try{return(await n.default.get("".concat(i,"/").concat(e),{headers:{Authorization:"Bearer ".concat(s)}})).data.data}catch(e){if(e instanceof Error)return r((null==e?void 0:e.message)||"Failed to fetch carousel")}}),d=(0,t.hg)("carousel/addMainCarousel",async(e,a)=>{let{rejectWithValue:r}=a;try{return(await n.default.post(i,e,{headers:{Authorization:"Bearer ".concat(s)}})).data}catch(e){if(e instanceof Error)return r((null==e?void 0:e.message)||"Failed to add main carousel")}}),u=(0,t.hg)("carousel/updateMainCarousel",async(e,a)=>{let{id:r,updatedItem:t}=e,{rejectWithValue:l}=a;try{return(await n.default.patch("".concat(i,"/").concat(r),t,{headers:{Authorization:"Bearer ".concat(s)}})).data}catch(e){if(e instanceof Error)return l((null==e?void 0:e.message)||"Failed to Update carousel")}}),h=(0,t.hg)("carousel/deleteMainCarousel",async(e,a)=>{let{dispatch:r,rejectWithValue:t}=a;try{return await n.default.delete("".concat(i,"/").concat(e),{headers:{Authorization:"Bearer ".concat(s)}}),r(C(e)),e}catch(e){if(e instanceof Error)return t((null==e?void 0:e.message)||"Failed to delete carousel")}}),m=(0,t.oM)({name:"carousel",initialState:{mainCarousels:[],currentCarousel:null,loading:!1,error:null},reducers:{resetError(e){e.error=null},clearCurrentCarousel(e){e.currentCarousel=null},removeMainCarousel:(e,a)=>{e.mainCarousels=e.mainCarousels.filter(e=>e._id!==a.payload)}},extraReducers:e=>{e.addCase(o.pending,e=>{e.loading=!0,e.error=null}).addCase(o.fulfilled,(e,a)=>{e.loading=!1,e.mainCarousels=a.payload}).addCase(o.rejected,(e,a)=>{e.loading=!1,e.error=a.payload}).addCase(c.pending,e=>{e.loading=!0,e.error=null}).addCase(c.fulfilled,(e,a)=>{e.loading=!1,e.currentCarousel=a.payload}).addCase(c.rejected,(e,a)=>{e.loading=!1,e.error=a.payload}).addCase(d.pending,e=>{e.loading=!0,e.error=null}).addCase(d.fulfilled,(e,a)=>{e.mainCarousels.push(a.payload)}).addCase(d.rejected,(e,a)=>{e.error=a.payload}).addCase(u.pending,e=>{e.loading=!0,e.error=null}).addCase(u.fulfilled,(e,a)=>{let r=e.mainCarousels.findIndex(e=>e.id===a.payload.id);-1!==r&&(e.mainCarousels[r]=a.payload)}).addCase(u.rejected,(e,a)=>{e.error=a.payload})}}),f=e=>e.mainCarousels.currentCarousel,p=e=>e.mainCarousels.loading,{resetError:x,clearCurrentCarousel:g,removeMainCarousel:C}=m.actions;a.ZP=m.reducer}},function(e){e.O(0,[9461,3740,2292,2586,3464,7648,3537,177,2971,2117,1744],function(){return e(e.s=48866)}),_N_E=e.O()}]);