(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1546],{64638:function(e,t,r){Promise.resolve().then(r.bind(r,72011))},80551:function(e,t,r){"use strict";var a=r(2265),n=r(40718),s=r.n(n);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var o=(0,a.forwardRef)(function(e,t){var r=e.color,n=e.size,s=void 0===n?24:n,o=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,["color","size"]);return a.createElement("svg",c({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o),a.createElement("circle",{cx:"12",cy:"12",r:"10"}),a.createElement("circle",{cx:"12",cy:"12",r:"6"}),a.createElement("circle",{cx:"12",cy:"12",r:"2"}))});o.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},o.displayName="Target",t.Z=o},32300:function(e,t,r){"use strict";var a=r(2265),n=r(40718),s=r.n(n),c=r(36760),o=r.n(c),l=r(28137),i=["className","cssModule","color","innerRef","pill","tag"];function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var u={children:s().node,className:s().string,color:s().string,cssModule:s().object,innerRef:s().oneOfType([s().object,s().func,s().string]),pill:s().bool,tag:l.iC};function p(e){var t=e.className,r=e.cssModule,n=e.color,s=e.innerRef,c=e.pill,u=e.tag,p=void 0===u?"span":u,h=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,i),f=(0,l.mx)(o()(t,"badge","bg-"+(void 0===n?"secondary":n),!!(void 0!==c&&c)&&"rounded-pill"),r);return h.href&&"span"===p&&(p="a"),a.createElement(p,d({},h,{className:f,ref:s}))}p.propTypes=u,t.Z=p},13768:function(e,t,r){"use strict";var a=r(57437),n=r(2265),s=r(75722);t.Z=e=>{let{title:t,span:r,headClass:c,icon:o,tagClass:l}=e;return(0,a.jsxs)(s.Z,{className:c||"",children:[(0,a.jsxs)("h4",{className:l||"",children:[o&&o,t]}),r&&(0,a.jsx)("p",{className:"f-m-light mt-1",children:r.map((e,t)=>(0,a.jsxs)(n.Fragment,{children:[null==e?void 0:e.text," ",e.code&&(0,a.jsx)("code",{children:e.code})," ",e.mark&&(0,a.jsx)("mark",{children:e.mark})]},t))})]})}},72248:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var a=r(57437),n=r(2265),s=r(82097),c=r(95029),o=r(65051),l=r(73215),i=r(91105),d=r(71008),u=r(13768),p=e=>{let{data:t,columns:r,filterKey:p,title:h}=e,[f,m]=(0,n.useState)(""),g=Array.isArray(t)&&t.filter(e=>{var t;return null===(t=e[p])||void 0===t?void 0:t.toString().toLowerCase().includes(f.toLowerCase())}),x=(0,n.useMemo)(()=>(0,a.jsxs)("div",{id:"basic-1_filter",className:"dataTables_filter d-flex align-items-center",children:[(0,a.jsxs)(s.Z,{className:"me-1",children:[d.cCG,":"]}),(0,a.jsx)(c.Z,{onChange:e=>m(e.target.value),type:"search",value:f})]}),[f]);return(0,a.jsxs)(o.Z,{className:"basic-data-table",children:[(0,a.jsx)(u.Z,{title:h,headClass:"pb-0 card-no-border"}),(0,a.jsx)(l.Z,{children:(0,a.jsx)("div",{className:"table-responsive",children:(0,a.jsx)(i.ZP,{className:"theme-scrollbar",data:g||[],columns:r,striped:!0,highlightOnHover:!0,pagination:!0,subHeader:!0,subHeaderComponent:x})})})]})},h=e=>{let{title:t,data:r,columns:n,filterKey:s}=e;return(0,a.jsx)(p,{data:r,columns:n,filterKey:s,title:t})}},72011:function(e,t,r){"use strict";r.d(t,{default:function(){return k}});var a=r(57437),n=r(2265),s=r(32300),c=r(99914),o=r(50288),l=r(98723),i=r(41221),d=r(60729),u=r(5515),p=r.n(u),h=r(45394),f=r(64301),m=r(42586),g=r(27648),x=r(80551),v=r(97231),j=r(62383),b=r(42391),y=r(65051),Z=r(5551),C=r(53514),N=r(12121),w=e=>{let{activeTab:t}=e,r=(0,h.T)(),n=(0,m.useLocale)();return(0,a.jsx)(y.Z,{children:(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(l.Z,{md:"6",className:"p-0 d-flex",children:(0,a.jsxs)(Z.Z,{tabs:!0,className:"border-tab",id:"top-tab",children:[(0,a.jsx)(C.Z,{children:(0,a.jsxs)(N.Z,{href:"#",className:"1"===t?"active":"",onClick:()=>r((0,f.r7)("1")),children:[(0,a.jsx)(x.Z,{}),"All"]})}),(0,a.jsx)(C.Z,{children:(0,a.jsxs)(N.Z,{href:"#",className:"2"===t?"active":"",onClick:()=>r((0,f.r7)("2")),children:[(0,a.jsx)(v.Z,{}),"Published"]})}),(0,a.jsx)(C.Z,{children:(0,a.jsxs)(N.Z,{href:"#",className:"3"===t?"active":"",onClick:()=>r((0,f.r7)("3")),children:[(0,a.jsx)(j.Z,{}),"Unpublished"]})})]})}),(0,a.jsx)(l.Z,{md:"6",className:"text-end",children:(0,a.jsxs)(g.default,{className:"btn btn-primary",href:"/".concat(n,"/dashboard/edit-scope/add"),children:[(0,a.jsx)(b.Z,{}),"Create Scope"]})})]})})},O=r(72248),k=()=>{let e=(0,h.T)(),t=(0,m.useLocale)(),{scopesData:r,activeTab:u,loading:x,error:v}=(0,h.C)(e=>e.scopes);(0,n.useEffect)(()=>{e((0,f.qL)())},[e]);let j=t=>{p().fire({icon:"warning",title:"Are you sure?",text:"Once deleted, this item cannot be recovered!",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete"}).then(r=>{r.isConfirmed&&e((0,f.kQ)(t)).unwrap().then(()=>{p().fire({icon:"success",text:"Item has been deleted!",confirmButtonColor:"#3085d6"})}).catch(e=>{p().fire({icon:"error",title:"Error!",text:e.message||"Failed to delete the item."})})})},b=Array.isArray(r)&&r.filter(e=>"1"===u||("2"===u?e.published:"3"!==u||!e.published));return(0,a.jsx)(c.Z,{fluid:!0,children:(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(l.Z,{md:"12",className:"project-list",children:(0,a.jsx)(w,{activeTab:u})}),x?(0,a.jsxs)(l.Z,{sm:"12",className:"text-center",children:[(0,a.jsx)(i.Z,{color:"primary"}),(0,a.jsx)("p",{children:"Loading scope data..."})]}):v?(0,a.jsx)(l.Z,{sm:"12",children:(0,a.jsx)(d.Z,{color:"danger",children:v||"An error occurred while fetching scope data."})}):(0,a.jsx)(l.Z,{sm:"12",children:(0,a.jsx)(O.Z,{data:b||[],columns:[{name:"Service",selector:e=>e.service,sortable:!0},{name:"Details",selector:e=>e.details.slice(0,48)+"...",sortable:!0},{name:"Icon",selector:e=>(0,a.jsx)("img",{src:"https://stagingsrv.gazala.net/api/"+e.iconImg,alt:"Scope Image",width:50}),sortable:!1},{name:"Status",cell:e=>(0,a.jsx)(s.Z,{pill:!0,color:e.published?"success":"danger",children:e.published?"Published":"Unpublished"}),sortable:!0},{name:"Action",cell:e=>(0,a.jsxs)("ul",{className:"action simple-list d-flex flex-row",children:[(0,a.jsx)("li",{className:"edit",children:(0,a.jsx)(g.default,{prefetch:!1,href:"".concat("https://stagingsrv.gazala.net","/").concat(t,"/dashboard/edit-scope/edit?id=").concat(e._id),children:(0,a.jsx)("i",{className:"icon-pencil-alt"})})}),(0,a.jsx)("li",{className:"delete",style:{cursor:"pointer"},children:(0,a.jsx)("a",{onClick:()=>j(e._id),children:(0,a.jsx)("i",{className:"icon-trash"})})})]}),sortable:!1}],filterKey:"service",title:"Scopes"})})]})})}},45394:function(e,t,r){"use strict";r.d(t,{C:function(){return s},T:function(){return n}});var a=r(68575);let n=a.I0,s=a.v9},64301:function(e,t,r){"use strict";r.d(t,{Eb:function(){return i},kQ:function(){return d},qL:function(){return l},r7:function(){return h},zd:function(){return u}});var a=r(1455),n=r(83464),s=r(43577),c=r(64131);let o="".concat("https://stagingsrv.gazala.net/api","/edit-website/scopes"),l=(0,a.hg)("scopes/fetchScopes",async(e,t)=>{let{rejectWithValue:r}=t;try{let e=await n.default.get(o,{headers:{Authorization:"Bearer ".concat(c.Z.get("auth_token"))}});if(200!==e.status)return console.error("Error: ".concat(e.status," - ").concat(e.statusText)),[];return e.data.data}catch(e){if(console.error("Fetch scopes error:",e),e instanceof s.d7){var a;return r((null==e?void 0:null===(a=e.response)||void 0===a?void 0:a.data)||"Failed to fetch scopes")}return[]}}),i=(0,a.hg)("scopes/fetchScopeById",async(e,t)=>{let{rejectWithValue:r}=t;try{let t=await n.default.get("".concat(o,"/").concat(e),{headers:{Authorization:"Bearer ".concat(c.Z.get("auth_token"))}});if(200!==t.status)return r(t.data.message||"Failed to fetch scope item.");return t.data.data}catch(e){if(e instanceof s.d7){var a;return r((null==e?void 0:null===(a=e.response)||void 0===a?void 0:a.data)||"An unexpected error occurred.")}}}),d=(0,a.hg)("scopes/deleteScope",async(e,t)=>{let{dispatch:r,rejectWithValue:a}=t;try{let t=await n.default.delete("".concat(o,"/").concat(e),{headers:{Authorization:"Bearer ".concat(c.Z.get("auth_token"))}});if(200!==t.status)return a(t.data.message||"Failed to delete scope item.");return r(f(e)),e}catch(e){if(e instanceof s.d7){var l;return a((null==e?void 0:null===(l=e.response)||void 0===l?void 0:l.data)||"An unexpected error occurred.")}}}),u=(0,a.hg)("scopes/updateScope",async(e,t)=>{let{updatedScope:r,id:a}=e,{dispatch:l,rejectWithValue:i}=t;try{let e=await n.default.patch("".concat(o,"/").concat(a),r,{headers:{Authorization:"Bearer ".concat(c.Z.get("auth_token"))}});if(200!==e.status)return i(e.data.message||"Failed to update scope item.");let t=e.data;return l(m(t)),t}catch(e){if(e instanceof s.d7){var d;return i((null==e?void 0:null===(d=e.response)||void 0===d?void 0:d.data)||"An unexpected error occurred.")}}}),p=(0,a.oM)({name:"scopes",initialState:{scopesData:[],activeTab:"1",currentScope:null,loading:!1,error:null},reducers:{setActiveTab:(e,t)=>{e.activeTab=t.payload},removeScope:(e,t)=>{e.scopesData=e.scopesData.filter(e=>e._id!==t.payload)},setCurrentScope:(e,t)=>{e.currentScope=t.payload},clearCurrentScope:e=>{e.currentScope=null}},extraReducers:e=>{e.addCase(l.pending,e=>{e.loading=!0,e.error=null}).addCase(l.fulfilled,(e,t)=>{e.loading=!1,e.scopesData=t.payload}).addCase(l.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to load scopes data."}).addCase(i.pending,e=>{e.loading=!0,e.error=null}).addCase(i.fulfilled,(e,t)=>{e.loading=!1,e.currentScope=t.payload}).addCase(i.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Unknown error"}).addCase(u.pending,e=>{e.loading=!0,e.error=null}).addCase(u.fulfilled,(e,t)=>{e.loading=!1;let r=e.scopesData.findIndex(e=>e._id===t.payload._id);-1!==r&&(e.scopesData[r]=t.payload),e.currentScope=t.payload}).addCase(u.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to update scope item."})}}),{setActiveTab:h,removeScope:f,setCurrentScope:m,clearCurrentScope:g}=p.actions;t.ZP=p.reducer}},function(e){e.O(0,[9461,2292,2586,3464,7648,3537,897,2897,3547,1008,2971,2117,1744],function(){return e(e.s=64638)}),_N_E=e.O()}]);