(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3526],{10353:function(e,r,t){Promise.resolve().then(t.bind(t,96740))},80551:function(e,r,t){"use strict";var n=t(2265),a=t(40718),s=t.n(a);function l(){return(l=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var i=(0,n.forwardRef)(function(e,r){var t=e.color,a=e.size,s=void 0===a?24:a,i=function(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}(e,["color","size"]);return n.createElement("svg",l({ref:r,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:void 0===t?"currentColor":t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),n.createElement("circle",{cx:"12",cy:"12",r:"10"}),n.createElement("circle",{cx:"12",cy:"12",r:"6"}),n.createElement("circle",{cx:"12",cy:"12",r:"2"}))});i.propTypes={color:s().string,size:s().oneOfType([s().string,s().number])},i.displayName="Target",r.Z=i},32300:function(e,r,t){"use strict";var n=t(2265),a=t(40718),s=t.n(a),l=t(36760),i=t.n(l),c=t(28137),o=["className","cssModule","color","innerRef","pill","tag"];function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var u={children:s().node,className:s().string,color:s().string,cssModule:s().object,innerRef:s().oneOfType([s().object,s().func,s().string]),pill:s().bool,tag:c.iC};function h(e){var r=e.className,t=e.cssModule,a=e.color,s=e.innerRef,l=e.pill,u=e.tag,h=void 0===u?"span":u,f=function(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}(e,o),p=(0,c.mx)(i()(r,"badge","bg-"+(void 0===a?"secondary":a),!!(void 0!==l&&l)&&"rounded-pill"),t);return f.href&&"span"===h&&(h="a"),n.createElement(h,d({},f,{className:p,ref:s}))}h.propTypes=u,r.Z=h},13768:function(e,r,t){"use strict";var n=t(57437),a=t(2265),s=t(75722);r.Z=e=>{let{title:r,span:t,headClass:l,icon:i,tagClass:c}=e;return(0,n.jsxs)(s.Z,{className:l||"",children:[(0,n.jsxs)("h4",{className:c||"",children:[i&&i,r]}),t&&(0,n.jsx)("p",{className:"f-m-light mt-1",children:t.map((e,r)=>(0,n.jsxs)(a.Fragment,{children:[null==e?void 0:e.text," ",e.code&&(0,n.jsx)("code",{children:e.code})," ",e.mark&&(0,n.jsx)("mark",{children:e.mark})]},r))})]})}},72248:function(e,r,t){"use strict";t.d(r,{Z:function(){return f}});var n=t(57437),a=t(2265),s=t(82097),l=t(95029),i=t(65051),c=t(73215),o=t(91105),d=t(71008),u=t(13768),h=e=>{let{data:r,columns:t,filterKey:h,title:f}=e,[p,m]=(0,a.useState)(""),g=Array.isArray(r)&&r.filter(e=>{var r;return null===(r=e[h])||void 0===r?void 0:r.toString().toLowerCase().includes(p.toLowerCase())}),x=(0,a.useMemo)(()=>(0,n.jsxs)("div",{id:"basic-1_filter",className:"dataTables_filter d-flex align-items-center",children:[(0,n.jsxs)(s.Z,{className:"me-1",children:[d.cCG,":"]}),(0,n.jsx)(l.Z,{onChange:e=>m(e.target.value),type:"search",value:p})]}),[p]);return(0,n.jsxs)(i.Z,{className:"basic-data-table",children:[(0,n.jsx)(u.Z,{title:f,headClass:"pb-0 card-no-border"}),(0,n.jsx)(c.Z,{children:(0,n.jsx)("div",{className:"table-responsive",children:(0,n.jsx)(o.ZP,{className:"theme-scrollbar",data:g||[],columns:t,striped:!0,highlightOnHover:!0,pagination:!0,subHeader:!0,subHeaderComponent:x})})})]})},f=e=>{let{title:r,data:t,columns:a,filterKey:s}=e;return(0,n.jsx)(h,{data:t,columns:a,filterKey:s,title:r})}},45394:function(e,r,t){"use strict";t.d(r,{C:function(){return s},T:function(){return a}});var n=t(68575);let a=n.I0,s=n.v9},7299:function(e,r,t){"use strict";t.d(r,{aL:function(){return c},jB:function(){return h},kN:function(){return u},r7:function(){return p},sv:function(){return o}});var n=t(1455),a=t(83464),s=t(43577),l=t(64131);let i="".concat("https://stagingsrv.gazala.net/api","/edit-website/news"),c=(0,n.hg)("news/fetchNews",async()=>{try{return(await a.default.get(i,{headers:{Authorization:"Bearer ".concat(l.Z.get("auth_token"))}})).data.data}catch(r){if(console.error("Fetch news error:",r),r instanceof s.d7){var e;return(null==r?void 0:null===(e=r.response)||void 0===e?void 0:e.data)||"An unexpected error occurred."}}}),o=(0,n.hg)("news/fetchNewsById",async(e,r)=>{let{rejectWithValue:t}=r;try{let r=await a.default.get("".concat(i,"/").concat(e),{headers:{Authorization:"Bearer ".concat(l.Z.get("auth_token"))}});if(200!==r.status)return t(r.data.message||"Failed to fetch news item.");return r.data}catch(e){if(e instanceof s.d7){var n;return t((null==e?void 0:null===(n=e.response)||void 0===n?void 0:n.data)||"An unexpected error occurred.")}}}),d=(0,n.hg)("news/fetchNewsBySlug",async(e,r)=>{let{rejectWithValue:t}=r;try{let r=await a.default.get("".concat(i,"/").concat(e),{headers:{Authorization:"Bearer ".concat(l.Z.get("auth_token"))}});if(200!==r.status)return t(r.data.message||"Failed to fetch news item.");return r.data}catch(e){if(e instanceof s.d7){var n;return t((null==e?void 0:null===(n=e.response)||void 0===n?void 0:n.data)||"An unexpected error occurred.")}}}),u=(0,n.hg)("news/deleteNews",async(e,r)=>{let{dispatch:t,rejectWithValue:n}=r;try{let r=await a.default.delete("".concat(i,"/").concat(e),{headers:{Authorization:"Bearer ".concat(l.Z.get("auth_token"))}});if(200!==r.status){let e=r.data;return n(e.message||"Failed to delete news item.")}return t(m(e)),e}catch(e){if(e instanceof s.d7){var c;return n((null===(c=e.response)||void 0===c?void 0:c.data)||"An unexpected error occurred.")}}}),h=(0,n.hg)("news/updateNews",async(e,r)=>{let{updatedNews:t,id:n}=e,{dispatch:c,rejectWithValue:o}=r;try{let e=await a.default.patch("".concat(i,"/").concat(n),t,{headers:{Authorization:"Bearer ".concat(l.Z.get("auth_token"))}});if(200!==e.status){let r=e.data;return o(r.message||"Failed to update news item.")}let r=e.data;return c(g(r)),r}catch(e){if(e instanceof s.d7){var d;return o((null===(d=e.response)||void 0===d?void 0:d.data)||"An unexpected error occurred.")}}}),f=(0,n.oM)({name:"news",initialState:{newsData:[],activeTab:"1",currentNews:null,loading:!1,error:null},reducers:{setActiveTab:(e,r)=>{e.activeTab=r.payload},removeNews:(e,r)=>{e.newsData=e.newsData.filter(e=>e._id!==r.payload)},setCurrentNews:(e,r)=>{e.currentNews=r.payload},clearCurrentNews:e=>{e.currentNews=null}},extraReducers:e=>{e.addCase(c.pending,e=>{e.loading=!0,e.error=null}).addCase(c.fulfilled,(e,r)=>{e.loading=!1,e.newsData=r.payload}).addCase(c.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message||"Failed to load news data."}).addCase(o.pending,e=>{e.loading=!0,e.error=null}).addCase(o.fulfilled,(e,r)=>{e.loading=!1,e.currentNews=r.payload.data}).addCase(o.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message||"Unknown error"}).addCase(h.pending,e=>{e.loading=!0,e.error=null}).addCase(h.fulfilled,(e,r)=>{e.loading=!1;let t=e.newsData.findIndex(e=>e._id===r.payload._id);-1!==t&&(e.newsData[t]=r.payload),e.currentNews=r.payload}).addCase(h.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message||"Failed to update news item."}).addCase(d.pending,e=>{e.loading=!0,e.error=null}).addCase(d.fulfilled,(e,r)=>{e.loading=!1,e.currentNews=r.payload}).addCase(d.rejected,(e,r)=>{e.loading=!1,e.error=r.error.message||"Unknown error"})}}),{setActiveTab:p,removeNews:m,setCurrentNews:g,clearCurrentNews:x}=f.actions;r.ZP=f.reducer},96740:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return _}});var n=t(57437),a=t(2265),s=t(32300),l=t(99914),i=t(50288),c=t(98723),o=t(41221),d=t(60729),u=t(5515),h=t.n(u),f=t(45394),p=t(7299),m=t(42586),g=t(27648),x=t(80551),j=t(97231),v=t(62383),w=t(42391),b=t(65051),y=t(5551),N=t(53514),Z=t(12121),C=e=>{let{activeTab:r}=e,t=(0,f.T)(),a=(0,m.useLocale)();return(0,n.jsx)(b.Z,{children:(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(c.Z,{md:"6",className:"p-0 d-flex",children:(0,n.jsxs)(y.Z,{tabs:!0,className:"border-tab",id:"top-tab",children:[(0,n.jsx)(N.Z,{children:(0,n.jsxs)(Z.Z,{href:"#",className:"1"===r?"active":"",onClick:()=>t((0,p.r7)("1")),children:[(0,n.jsx)(x.Z,{}),"All"]})}),(0,n.jsx)(N.Z,{children:(0,n.jsxs)(Z.Z,{href:"#",className:"2"===r?"active":"",onClick:()=>t((0,p.r7)("2")),children:[(0,n.jsx)(j.Z,{}),"Published"]})}),(0,n.jsx)(N.Z,{children:(0,n.jsxs)(Z.Z,{href:"#",className:"3"===r?"active":"",onClick:()=>t((0,p.r7)("3")),children:[(0,n.jsx)(v.Z,{}),"Unpublished"]})})]})}),(0,n.jsx)(c.Z,{md:"6",className:"text-end",children:(0,n.jsxs)(g.default,{className:"btn btn-primary",href:"/".concat(a,"/dashboard/news/add"),children:[(0,n.jsx)(w.Z,{}),"Create News"]})})]})})},O=t(72248),k=t(88302),A=()=>{let e=(0,f.T)(),r=(0,m.useLocale)(),{newsData:t,activeTab:u,loading:x,error:j}=(0,f.C)(e=>e.news);(0,a.useEffect)(()=>{e((0,p.aL)())},[e]);let v=r=>{h().fire({icon:"warning",title:"Are you sure?",text:"Once deleted, this item cannot be recovered!",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete"}).then(t=>{t.isConfirmed&&e((0,p.kN)(r)).unwrap().then(()=>{h().fire({icon:"success",text:"Item has been deleted!",confirmButtonColor:"#3085d6"})}).catch(e=>{h().fire({icon:"error",title:"Error!",text:e.message||"Failed to delete the item."})})})},w=Array.isArray(t)&&t.filter(e=>"1"===u||("2"===u?e.published:"3"!==u||!e.published));return(0,n.jsx)(l.Z,{fluid:!0,children:(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(c.Z,{md:"12",className:"project-list",children:(0,n.jsx)(C,{activeTab:u})}),x?(0,n.jsxs)(c.Z,{sm:"12",className:"text-center",children:[(0,n.jsx)(o.Z,{color:"primary"}),(0,n.jsx)("p",{children:"Loading news data..."})]}):j?(0,n.jsx)(c.Z,{sm:"12",children:(0,n.jsx)(d.Z,{color:"danger",children:j||"An error occurred while fetching news data."})}):(0,n.jsx)(c.Z,{sm:"12",children:(0,n.jsx)(O.Z,{data:w||[],columns:[{name:"Title",selector:e=>e.title,sortable:!0},{name:"Content",selector:e=>(0,k.j)(e.description).slice(0,48)+"...",sortable:!0},{name:"Image",selector:e=>(0,n.jsx)("img",{src:"https://stagingsrv.gazala.net/api/"+e.thumbnail,alt:"News Image",width:50}),sortable:!1},{name:"Status",cell:e=>(0,n.jsx)(s.Z,{pill:!0,color:e.published?"success":"danger",children:e.published?"Published":"Unpublished"}),sortable:!0},{name:"Action",cell:e=>(0,n.jsxs)("ul",{className:"action simple-list d-flex flex-row",children:[(0,n.jsx)("li",{className:"edit",children:(0,n.jsx)(g.default,{href:"".concat("https://stagingsrv.gazala.net","/").concat(r,"/dashboard/news/edit?id=").concat(e._id),children:(0,n.jsx)("i",{className:"icon-pencil-alt"})})}),(0,n.jsx)("li",{className:"delete",style:{cursor:"pointer"},children:(0,n.jsx)("a",{onClick:()=>v(e._id),children:(0,n.jsx)("i",{className:"icon-trash"})})})]}),sortable:!1}],filterKey:"title",title:"News"})})]})})},_=()=>(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(A,{})})},88302:function(e,r,t){"use strict";t.d(r,{j:function(){return n}});let n=e=>e?e.replace(/<[^>]*>?/gm,""):""}},function(e){e.O(0,[9461,2292,2586,3464,7648,3537,897,2897,3547,1008,2971,2117,1744],function(){return e(e.s=10353)}),_N_E=e.O()}]);