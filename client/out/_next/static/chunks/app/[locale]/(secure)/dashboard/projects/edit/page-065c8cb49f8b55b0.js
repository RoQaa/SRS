(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4334],{92016:function(e,t,r){Promise.resolve().then(r.bind(r,89122))},41221:function(e,t,r){"use strict";var a=r(2265),n=r(40718),s=r.n(n),o=r(36760),c=r.n(o),i=r(28137),d=["className","cssModule","type","size","color","children","tag"];function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var u={tag:i.iC,type:s().oneOf(["border","grow"]),size:s().oneOf(["sm"]),color:s().oneOf(["primary","secondary","success","danger","warning","info","light","dark"]),className:s().string,cssModule:s().object,children:s().string};function p(e){var t=e.className,r=e.cssModule,n=e.type,s=void 0===n?"border":n,o=e.size,u=e.color,p=e.children,h=void 0===p?"Loading...":p,g=e.tag,m=function(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,d),f=(0,i.mx)(c()(t,!!o&&"spinner-".concat(s,"-").concat(o),"spinner-".concat(s),!!u&&"text-".concat(u)),r);return a.createElement(void 0===g?"div":g,l({role:"status"},m,{className:f}),h&&a.createElement("span",{className:(0,i.mx)("visually-hidden",r)},h))}p.propTypes=u,t.Z=p},79205:function(e,t,r){"use strict";var a=r(57437);r(2265),t.Z=e=>{let{iconId:t,className:r,style:n}=e;return(0,a.jsx)("svg",{className:r,style:n,children:(0,a.jsx)("use",{href:"/assets/svg/icon-sprite.svg#".concat(t)})})}},89122:function(e,t,r){"use strict";r.d(t,{default:function(){return T}});var a=r(57437),n=r(99914),s=r(50288),o=r(98723),c=r(65051),i=r(73215),d=r(77314),l=r(99376),u=r(43207),p=r(82097),h=r(71008);let g=e=>{let{lang:t="en"}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{children:(0,a.jsx)(o.Z,{children:(0,a.jsxs)(u.Z,{children:[(0,a.jsx)(p.Z,{check:!0,children:"en"===t?h.vUb:h.vUb+" (Arabic)"}),(0,a.jsx)(d.gN,{name:"en"===t?"title":"title_ar",type:"text",className:"form-control",placeholder:h.RQC}),"en"===t?(0,a.jsx)(d.Bc,{name:"title",component:"span",className:"text-danger"}):(0,a.jsx)(d.Bc,{name:"title_ar",component:"span",className:"text-danger"})]})})}),(0,a.jsx)(s.Z,{children:(0,a.jsx)(o.Z,{children:(0,a.jsxs)(u.Z,{children:[(0,a.jsx)(p.Z,{check:!0,children:"en"===t?h.wgh:h.wgh+" (Arabic)"}),(0,a.jsx)(d.gN,{name:"en"===t?"client":"client_ar",className:"form-control",type:"text",placeholder:h.URb}),"en"===t?(0,a.jsx)(d.Bc,{name:"client",component:"span",className:"text-danger"}):(0,a.jsx)(d.Bc,{name:"client_ar",component:"span",className:"text-danger"})]})})})]})},m=()=>(0,a.jsxs)(s.Z,{children:[(0,a.jsx)(o.Z,{sm:"4",children:(0,a.jsxs)(u.Z,{children:[(0,a.jsx)(p.Z,{check:!0,children:h.A8N}),(0,a.jsx)(d.gN,{name:"projectProgress",className:"form-control",type:"number",placeholder:h.PY8})]})}),(0,a.jsx)(o.Z,{sm:"4",children:(0,a.jsxs)(u.Z,{children:[(0,a.jsx)(p.Z,{check:!0,children:h.kJM}),(0,a.jsxs)(d.gN,{name:"status",as:"select",className:"form-control form-select",children:[(0,a.jsx)("option",{value:"pending",children:"Pending"}),(0,a.jsx)("option",{value:"in progress",children:"In Progress"}),(0,a.jsx)("option",{value:"completed",children:"Completed"})]})]})}),(0,a.jsx)(o.Z,{sm:"4",children:(0,a.jsxs)(u.Z,{children:[(0,a.jsx)(p.Z,{children:"Publish"}),(0,a.jsxs)(d.gN,{name:"published",as:"select",className:"form-control form-select",children:[(0,a.jsx)("option",{value:"true",children:"Publish"}),(0,a.jsx)("option",{value:"false",children:"Un Publish"})]})]})})]});var f=r(85994),j=r.n(f);let x=e=>{let{startDate:t,endDate:r}=e,n=e=>{let t=new Date(e);return isNaN(t.getTime())?new Date:t};return(0,a.jsxs)(s.Z,{children:[(0,a.jsx)(o.Z,{sm:"6",children:(0,a.jsxs)(u.Z,{className:"d-flex flex-column align-items-stretch",children:[(0,a.jsx)(p.Z,{check:!0,children:"Start Date"}),(0,a.jsx)(d.gN,{name:"startDate",children:e=>{let{field:r,form:s}=e;return(0,a.jsx)(j(),{className:"datepicker-here form-control",selected:n(r.value||t),onChange:e=>{s.setFieldValue("startDate",e)}})}}),(0,a.jsx)(d.Bc,{name:"startDate",component:"span",className:"text-danger"})]})}),(0,a.jsx)(o.Z,{sm:"6",children:(0,a.jsxs)(u.Z,{className:"d-flex flex-column align-items-stretch",children:[(0,a.jsx)(p.Z,{check:!0,children:"End Date"}),(0,a.jsx)(d.gN,{name:"endDate",children:e=>{let{field:t,form:s}=e;return(0,a.jsx)(j(),{className:"datepicker-here form-control",selected:n(t.value||r),onChange:e=>{s.setFieldValue("endDate",e)}})}}),(0,a.jsx)(d.Bc,{name:"endDate",component:"span",className:"text-danger"})]})})]})},v=e=>{let{lang:t="en"}=e;return(0,a.jsx)(s.Z,{children:(0,a.jsx)(o.Z,{children:(0,a.jsxs)(u.Z,{children:[(0,a.jsx)(p.Z,{check:!0,children:"en"===t?h.mz3:h.mz3+" (Arabic)"}),(0,a.jsx)(d.gN,{name:"en"===t?"description":"description_ar",as:"textarea",className:"form-control",rows:3}),(0,a.jsx)(d.Bc,{name:"en"===t?"description":"description_ar",component:"span",className:"text-danger"})]})})})};var y=r(42586),_=r(27648),Z=r(80201);let b=e=>{let{slug:t=""}=e,r=(0,y.useLocale)();return(0,a.jsx)(s.Z,{children:(0,a.jsx)(o.Z,{children:(0,a.jsxs)("div",{className:"text-end",children:[(0,a.jsx)(Z.Z,{type:"submit",color:"success",className:"me-3",children:t?"Update":"Create"}),(0,a.jsx)(_.default,{className:"btn btn-danger",href:"".concat("https://stagingsrv.gazala.net","/").concat(r,"/dashboard/projects"),children:"Cancel"})]})})})};var P=r(45394),D=r(50984),N=r(2265),w=r(41221);let C=e=>{let{lang:t="en",category:r=!0}=e,n=(0,P.T)(),{productsData:c,loading:i}=(0,P.C)(e=>e.products);return(0,N.useEffect)(()=>{(async()=>{await n((0,D.t2)())})()},[n]),(0,a.jsx)(a.Fragment,{children:i?(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)(w.Z,{})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.Z,{children:(0,a.jsx)(o.Z,{sm:"12",children:(0,a.jsxs)(u.Z,{children:[(0,a.jsx)(p.Z,{check:!0,children:"en"===t?"Location":"Location (Arabic)"}),(0,a.jsx)(d.gN,{type:"text",name:"en"===t?"location":"location_ar",className:"form-control",placeholder:"Enter Location"})]})})}),(0,a.jsx)(s.Z,{children:r&&(0,a.jsx)(o.Z,{sm:"6",children:(0,a.jsxs)(u.Z,{children:[(0,a.jsx)(p.Z,{check:!0,children:"en"===t?"Category":"Category (Arabic)"}),(0,a.jsxs)(d.gN,{as:"select",name:"en"===t?"category":"category_ar",className:"form-control form-select",children:[(0,a.jsx)("option",{value:"",children:"Select Category"}),c.length>0&&c.map(e=>(0,a.jsx)("option",{value:e._id,children:e.name},e._id))]}),(0,a.jsx)(d.Bc,{name:"en"===t?"category":"category_ar",component:"span",className:"text-danger"})]})})})]})})};var q=r(94926),A=r(79205),k=r(180),F=r(48055),R=e=>{let{setFieldValue:t,oldImages:r=[]}=e,[n,s]=(0,N.useState)([]),o=e=>{s(e),t("images",e.filter(e=>e.valid).map(e=>e.file))},c=e=>{let r=n.filter(t=>t.id!==e);s(r),t("images",r.filter(e=>e.valid).map(e=>e.file))};return(0,N.useEffect)(()=>{s([]),(async()=>{r&&Array.isArray(r)&&s((await Promise.all(r.map(async e=>{try{let t=await (0,k.f)("".concat("https://stagingsrv.gazala.net/api","/").concat(e),(0,F.w)("".concat("https://stagingsrv.gazala.net/api","/").concat(e)));return{id:t.name,name:t.name,size:t.size,type:t.type,valid:!0,file:t,preview:!0}}catch(e){return console.error("Failed to convert image URL to file:",e),null}}))).filter(e=>null!==e))})()},[r]),(0,a.jsx)("div",{className:"sidebar-body",children:(0,a.jsxs)("div",{className:"product-upload",children:[(0,a.jsxs)("p",{children:["Project Image",(0,a.jsx)("span",{className:"txt-danger",children:" *"})]}),(0,a.jsxs)(q.fh,{onChange:e=>o(e),value:n,maxFiles:4,header:!1,footer:!1,minHeight:"80px",name:"images",children:[n.map(e=>(0,a.jsx)(q.Q$,{...e,onDelete:()=>c(e.id),info:!0,preview:!0},e.id)),0===n.length&&(0,a.jsxs)("div",{className:"dz-message needsclick",children:[(0,a.jsx)(A.Z,{iconId:"file-upload"}),(0,a.jsxs)("h5",{children:["Drag your image here, or",(0,a.jsx)("a",{className:"txt-primary",href:"#",children:"browse"})]}),(0,a.jsx)("span",{className:"note needsclick",children:"SVG, PNG, JPG or GIF"})]})]}),(0,a.jsx)(d.Bc,{name:"images",component:"span",className:"text-danger"})]})})},O=r(18206),E=r(34422),z=r(50023),B=e=>{var t,r,n,s,o,c,i,u,p,h,f,j,_,Z,D,q;let{slug:A=""}=e,k=(0,l.useRouter)(),F=(0,P.T)(),E=(0,y.useLocale)(),{currentProject:B,dataLoaded:T}=(0,P.C)(e=>e.project);(0,N.useEffect)(()=>{let e=async()=>{await F((0,z.tr)(A))};A&&e()},[F,A]);let S=A?{title:null!==(r=null==B?void 0:B.title)&&void 0!==r?r:"",description:null!==(n=null==B?void 0:B.description)&&void 0!==n?n:"",client:null!==(s=null==B?void 0:B.client)&&void 0!==s?s:"",location:null!==(o=null==B?void 0:B.location)&&void 0!==o?o:"",startDate:null!==(c=null==B?void 0:B.startDate)&&void 0!==c?c:new Date,endDate:null!==(i=null==B?void 0:B.endDate)&&void 0!==i?i:new Date(new Date).setDate(new Date().getDate()+1),images:null!==(u=null==B?void 0:B.images)&&void 0!==u?u:[],category:null!==(p=null==B?void 0:null===(t=B.category)||void 0===t?void 0:t._id)&&void 0!==p?p:"",status:null!==(h=null==B?void 0:B.status)&&void 0!==h?h:"pending",published:null!==(f=null==B?void 0:B.published)&&void 0!==f&&f,projectProgress:null!==(j=null==B?void 0:B.projectProgress)&&void 0!==j?j:0,title_ar:null!==(_=null==B?void 0:B.title_ar)&&void 0!==_?_:"",description_ar:null!==(Z=null==B?void 0:B.description_ar)&&void 0!==Z?Z:"",client_ar:null!==(D=null==B?void 0:B.client_ar)&&void 0!==D?D:"",location_ar:null!==(q=null==B?void 0:B.location_ar)&&void 0!==q?q:""}:{title:"",description:"",client:"",location:"",startDate:new Date,endDate:new Date(new Date).setDate(new Date().getDate()+1),images:[],category:"",status:"pending",published:!1,projectProgress:0,title_ar:"",description_ar:"",client_ar:"",location_ar:""},U=async e=>{let t=new FormData;if(Object.keys(e).forEach(r=>{"images"!==r&&void 0!==e[r]&&null!==e[r]&&t.append(r,String(e[r]))}),Array.isArray(e.images)&&e.images.forEach(e=>{t.append("images",e)}),A)try{(await F((0,z.ty)({updatedProject:t,slug:A})).unwrap()).status&&(O.Am.success("Project Updated successfully!"),k.push("/".concat(E,"/dashboard/projects/")))}catch(e){O.Am.error((null==e?void 0:e.message)||"Failed to Update Project."),console.error("Error Updating Project:",e)}else try{await F((0,z.$L)(t)).unwrap(),O.Am.success("Project Created successfully!"),k.push("/".concat(E,"/dashboard/projects/"))}catch(e){O.Am.error(null==e?void 0:e.message),console.error("Error Creating Project:",e)}};return(0,a.jsx)(a.Fragment,{children:!1===T?(0,a.jsx)("div",{className:"text-center py-5",children:(0,a.jsx)(w.Z,{color:"primary"})}):(0,a.jsx)(d.J9,{initialValues:S,validationSchema:A?I:L,onSubmit:U,children:e=>{let{setFieldValue:t,touched:r,errors:n}=e;return(0,a.jsxs)(d.l0,{className:"theme-form",children:[(0,a.jsx)(g,{lang:"en"}),(0,a.jsx)(m,{}),(0,a.jsx)(x,{setFieldValue:t,startDate:S.startDate,endDate:S.endDate}),(0,a.jsx)(v,{lang:"en"}),(0,a.jsx)(C,{lang:"en"}),(0,a.jsx)(R,{setFieldValue:t,oldImages:B&&B.images?B.images:[]}),(0,a.jsxs)("h3",{className:"py-2 my-3",children:[(0,a.jsx)("span",{className:"text-danger",children:"*"}),"Add Details In Arabic"]}),(0,a.jsx)(g,{lang:"ar"}),r.title_ar&&n.title_ar&&(0,a.jsx)("div",{className:"text-danger",children:n.title_ar}),(0,a.jsx)(v,{lang:"ar"}),(0,a.jsx)(C,{lang:"ar",category:!1}),(0,a.jsx)(b,{slug:A})]})}})})};let L=E.Ry().shape({title:E.Z_().required("Title is required"),title_ar:E.Z_().required("Title is required"),client:E.Z_().required("Client Name is required"),client_ar:E.Z_().required("Client Name is required"),description:E.Z_().required("Some Details is required"),description_ar:E.Z_().required("Some Details is required"),location:E.Z_().max(200,"Location can't be longer than 200 characters"),location_ar:E.Z_().max(200,"Location can't be longer than 200 characters"),startDate:E.hT().required("Start date is required"),endDate:E.hT().min(E.iH("startDate"),"End date must be after the start date").required("End date is required"),images:E.IX().required("At least one image is required"),projectProgress:E.Rx().min(0,"Progress cannot be less than 0").max(100,"Progress cannot exceed 100").required("Project progress is required"),category:E.Z_().required("Category is required"),status:E.Z_().oneOf(["pending","in progress","completed"],"Invalid status").required("Status is required"),published:E.O7().default(!1)}),I=E.Ry().shape({title:E.Z_().notRequired(),title_ar:E.Z_().notRequired(),client:E.Z_().notRequired(),client_ar:E.Z_().notRequired(),description:E.Z_().notRequired(),description_ar:E.Z_().notRequired(),location:E.Z_().max(200,"Location can't be longer than 200 characters").notRequired(),location_ar:E.Z_().max(200,"Location can't be longer than 200 characters").notRequired(),startDate:E.hT().required("Start date is required"),endDate:E.hT().min(E.iH("startDate"),"End date must be after the start date").required("End date is required"),images:E.IX().notRequired(),projectProgress:E.Rx().min(0,"Progress cannot be less than 0").max(100,"Progress cannot exceed 100").required("Project progress is required"),category:E.Z_().notRequired(),status:E.Z_().oneOf(["pending","in progress","completed"],"Invalid status").notRequired(),published:E.O7().notRequired()});var T=()=>{let e=(0,l.useSearchParams)().get("id");return(0,a.jsx)(n.Z,{fluid:!0,children:(0,a.jsx)(s.Z,{children:(0,a.jsx)(o.Z,{sm:"12",children:(0,a.jsx)(c.Z,{children:(0,a.jsx)(i.Z,{children:(0,a.jsx)(B,{slug:e})})})})})})}},45394:function(e,t,r){"use strict";r.d(t,{C:function(){return s},T:function(){return n}});var a=r(68575);let n=a.I0,s=a.v9},50984:function(e,t,r){"use strict";r.d(t,{Ir:function(){return p},dQ:function(){return d},nM:function(){return u},r7:function(){return v},ry:function(){return l},t2:function(){return i}});var a=r(1455),n=r(83464),s=r(43577),o=r(64131);let c="".concat("https://stagingsrv.gazala.net/api","/edit-website/products"),i=(0,a.hg)("products/fetchProducts",async(e,t)=>{let{rejectWithValue:r}=t;try{let e=await n.default.get(c,{headers:{Authorization:"Bearer ".concat(o.Z.get("auth_token"))}});if(200!==e.status)throw Error("Failed to fetch products. Status: ".concat(e.status));return e.data.data}catch(e){if(e instanceof s.d7){var a;return r((null==e?void 0:null===(a=e.response)||void 0===a?void 0:a.data)||"Failed to fetch products")}}}),d=(0,a.hg)("products/fetchProductBySlug",async(e,t)=>{let{rejectWithValue:r}=t;try{let t=await n.default.get("".concat(c,"/").concat(e),{headers:{Authorization:"Bearer ".concat(o.Z.get("auth_token"))}});if(200!==t.status)return r(t.data.message||"Failed to fetch product.");return t.data.data}catch(e){if(e instanceof s.d7){var a;return r((null==e?void 0:null===(a=e.response)||void 0===a?void 0:a.data)||"An unexpected error occurred.")}}}),l=(0,a.hg)("products/createProduct",async(e,t)=>{let{dispatch:r,rejectWithValue:a}=t;try{let t=await n.default.post(c,e,{headers:{Authorization:"Bearer ".concat(o.Z.get("auth_token"))}});if(201!==t.status)return a(t.data.message||"Failed to create product.");let s=t.data;return r(j(s)),s}catch(e){if(e instanceof s.d7){var i;return a((null==e?void 0:null===(i=e.response)||void 0===i?void 0:i.data)||"An unexpected error occurred.")}}}),u=(0,a.hg)("products/updateProduct",async(e,t)=>{let{formData:r,slug:a}=e,{rejectWithValue:i}=t;try{let e=await n.default.patch("".concat(c,"/").concat(a),r,{headers:{Authorization:"Bearer ".concat(o.Z.get("auth_token"))}});if(200!==e.status)return i(e.data.message||"Failed to update product.");return e.data}catch(e){if(e instanceof s.d7){var d;return i((null==e?void 0:null===(d=e.response)||void 0===d?void 0:d.data)||"An unexpected error occurred.")}}}),p=(0,a.hg)("products/deleteProduct",async(e,t)=>{let{dispatch:r,rejectWithValue:a}=t;try{let t=await n.default.delete("".concat(c,"/").concat(e),{headers:{Authorization:"Bearer ".concat(o.Z.get("auth_token"))}});if(200!==t.status)return a(t.data.message||"Failed to delete product.");return r(x(e)),e}catch(e){if(e instanceof s.d7){var i;return a((null==e?void 0:null===(i=e.response)||void 0===i?void 0:i.data)||"An unexpected error occurred.")}}}),h={productsData:[],currentProduct:null,loading:!1,error:null,activeTab:"1",formValues:{name:"",name_ar:"",description:"",description_ar:"",parentProductId:null,thumbnail:"",images:[],published:!1}},g=(0,a.oM)({name:"products",initialState:h,reducers:{setCurrentProduct:(e,t)=>{e.currentProduct=t.payload},clearCurrentProduct:e=>{e.currentProduct=null},addProduct:(e,t)=>{e.productsData.push(t.payload)},removeProduct:(e,t)=>{e.productsData=e.productsData.filter(e=>e._id!==t.payload)},setActiveTab:(e,t)=>{e.activeTab=t.payload},setFormValues:(e,t)=>{e.formValues=t.payload},clearFormValues:e=>{e.formValues=h.formValues}},extraReducers:e=>{e.addCase(i.pending,e=>{e.loading=!0,e.error=null}).addCase(i.fulfilled,(e,t)=>{e.loading=!1,e.productsData=t.payload}).addCase(i.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to load products data."}).addCase(d.pending,e=>{e.loading=!0,e.error=null}).addCase(d.fulfilled,(e,t)=>{e.loading=!1,e.currentProduct=t.payload,e.formValues={name:t.payload.name,name_ar:t.payload.name_ar,description:t.payload.description,description_ar:t.payload.description_ar,parentProductId:t.payload.parentProductId,thumbnail:t.payload.thumbnail,images:t.payload.images,published:t.payload.published}}).addCase(d.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to fetch product."}).addCase(u.pending,e=>{e.loading=!0,e.error=null}).addCase(u.fulfilled,(e,t)=>{e.loading=!1;let r=e.productsData.findIndex(e=>e._id===t.payload._id);-1!==r&&(e.productsData[r]=t.payload),e.currentProduct=t.payload}).addCase(u.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to update product."})}}),{setCurrentProduct:m,clearCurrentProduct:f,addProduct:j,removeProduct:x,setActiveTab:v,setFormValues:y,clearFormValues:_}=g.actions;t.ZP=g.reducer},50023:function(e,t,r){"use strict";r.d(t,{$B:function(){return f},$L:function(){return u},Bu:function(){return m},C2:function(){return c},bl:function(){return d},r7:function(){return j},th:function(){return p},tr:function(){return l},ty:function(){return h}});var a=r(1455),n=r(83464),s=r(43577),o=r(64131);let c=e=>[...e.project.projectsData].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),i="".concat("https://stagingsrv.gazala.net/api","/edit-website/projects"),d=(0,a.hg)("projects/fetchProjects",async(e,t)=>{let{rejectWithValue:r}=t;try{return(await n.default.get(i,{headers:{Authorization:"Bearer ".concat(o.Z.get("auth_token"))}})).data.data}catch(e){var a;return r(e instanceof s.d7?null===(a=e.response)||void 0===a?void 0:a.data:"An unexpected error occurred.")}}),l=(0,a.hg)("projects/fetchProjectById",async(e,t)=>{let{rejectWithValue:r}=t;try{return(await n.default.get("".concat(i,"/").concat(e),{headers:{Authorization:"Bearer ".concat(o.Z.get("auth_token"))}})).data.data}catch(e){var a;return r(e instanceof s.d7?null===(a=e.response)||void 0===a?void 0:a.data:"An unexpected error occurred.")}}),u=(0,a.hg)("projects/createProject",async(e,t)=>{let{rejectWithValue:r}=t;try{return(await n.default.post(i,e,{headers:{Authorization:"Bearer ".concat(o.Z.get("auth_token"))}})).data}catch(e){var a;return r(e instanceof s.d7?null==e?void 0:null===(a=e.response)||void 0===a?void 0:a.data:"Error Creating Project.")}}),p=(0,a.hg)("projects/deleteProject",async(e,t)=>{let{dispatch:r,rejectWithValue:a}=t;try{return await n.default.delete("".concat(i,"/").concat(e),{headers:{Authorization:"Bearer ".concat(o.Z.get("auth_token"))}}),r(x(e)),e}catch(e){var c;return a(e instanceof s.d7?null==e?void 0:null===(c=e.response)||void 0===c?void 0:c.data:"An unexpected error occurred.")}}),h=(0,a.hg)("projects/updateProject",async(e,t)=>{let{updatedProject:r,slug:a}=e,{dispatch:c,rejectWithValue:d}=t;try{let e=await n.default.patch("".concat(i,"/").concat(a),r,{headers:{Authorization:"Bearer ".concat(o.Z.get("auth_token"))}});return c(v(e.data.doc)),e.data}catch(e){var l;return d(e instanceof s.d7?null==e?void 0:null===(l=e.response)||void 0===l?void 0:l.data:"An unexpected error occurred.")}}),g=(0,a.oM)({name:"projects",initialState:{projectsData:[],activeTab:"1",currentProject:null,loading:!1,dataLoaded:!1,error:null},reducers:{setActiveTab:(e,t)=>{e.activeTab=t.payload},removeProject:(e,t)=>{e.projectsData=e.projectsData.filter(e=>e._id!==t.payload)},setCurrentProject:(e,t)=>{e.currentProject=t.payload},clearCurrentProject:e=>{e.currentProject=null}},extraReducers:e=>{e.addCase(d.pending,e=>{e.loading=!0,e.error=null}).addCase(d.fulfilled,(e,t)=>{e.loading=!1,e.projectsData=t.payload}).addCase(d.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to load projects data."}).addCase(l.pending,e=>{e.loading=!0,e.dataLoaded=!1,e.error=null}).addCase(l.fulfilled,(e,t)=>{e.loading=!1,e.dataLoaded=!0,e.currentProject=t.payload}).addCase(l.rejected,(e,t)=>{e.loading=!1,e.dataLoaded=!0,e.error=t.error.message||"Unknown error"}).addCase(u.pending,e=>{e.loading=!0,e.error=null}).addCase(u.fulfilled,(e,t)=>{e.loading=!1,e.projectsData.push(t.payload)}).addCase(u.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message}).addCase(h.pending,e=>{e.loading=!0,e.error=null}).addCase(h.fulfilled,(e,t)=>{e.loading=!1;let r=e.projectsData.findIndex(e=>e._id===t.payload._id);-1!==r&&(e.projectsData[r]=t.payload),e.currentProject=t.payload}).addCase(h.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to update project."})}}),m=e=>{var t;let r={pending:0,inProgress:0,completed:0};return(null===(t=e.project)||void 0===t?void 0:t.projectsData)&&e.project.projectsData.forEach(e=>{"pending"===e.status?r.pending+=1:"in progress"===e.status?r.inProgress+=1:"completed"===e.status&&(r.completed+=1)}),r},f=e=>{var t,r;return(null===(r=e.project)||void 0===r?void 0:null===(t=r.projectsData)||void 0===t?void 0:t.length)||0},{setActiveTab:j,removeProject:x,setCurrentProject:v,clearCurrentProject:y}=g.actions;t.ZP=g.reducer},180:function(e,t,r){"use strict";r.d(t,{f:function(){return a}});let a=async(e,t)=>{if(e instanceof File)return e;if(!e||"string"!=typeof e)throw Error("Invalid URL provided: "+e);try{let r=await fetch(e);if(!r.ok){if(404===r.status)return console.warn("File not found at URL: ".concat(e)),new File([],t);throw Error("Failed to fetch image from URL: ".concat(e))}let a=await r.blob();return new File([a],t,{type:a.type})}catch(e){return console.error("Error converting URL to file:",e),new File([],t)}}},48055:function(e,t,r){"use strict";r.d(t,{w:function(){return a}});let a=e=>{try{return new URL(e).pathname.split("/").pop()||"default_filename.png"}catch(t){return console.error("Invalid URL provided:",e),"default_filename.png"}}},85533:function(e,t,r){"use strict";function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,{Z:function(){return a}})},43577:function(e,t,r){"use strict";r.d(t,{d7:function(){return n}});let{Axios:a,AxiosError:n,CanceledError:s,isCancel:o,CancelToken:c,VERSION:i,all:d,Cancel:l,isAxiosError:u,spread:p,toFormData:h,AxiosHeaders:g,HttpStatusCode:m,formToJSON:f,getAdapter:j,mergeConfig:x}=r(83464).default}},function(e){e.O(0,[2292,2586,3464,7648,3537,8206,6474,4520,6752,5994,1008,2971,2117,1744],function(){return e(e.s=92016)}),_N_E=e.O()}]);