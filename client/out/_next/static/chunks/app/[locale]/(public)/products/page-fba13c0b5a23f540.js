(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7867],{15409:function(e,t,a){Promise.resolve().then(a.bind(a,7427))},33145:function(e,t,a){"use strict";a.d(t,{default:function(){return n.a}});var r=a(48461),n=a.n(r)},48461:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return i},getImageProps:function(){return c}});let r=a(47043),n=a(55346),o=a(65878),d=r._(a(5084));function c(e){let{props:t}=(0,n.getImgProps)(e,{defaultLoader:d.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let i=o.Image},25523:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return r}});let r=a(47043)._(a(2265)).default.createContext(null)},7427:function(e,t,a){"use strict";a.d(t,{default:function(){return l}});var r=a(57437),n=a(2265),o=a(92390),d=a(42586),c=a(33145),i=e=>{let{imgSrc:t,title:a,description:n,link:o,highlight:i=!1}=e,s=(0,d.useTranslations)("products");return(0,r.jsxs)("div",{className:"pro-sec-bx ".concat(i?"prod-proj-bx":""),children:[(0,r.jsx)("div",{className:"img-p-bx ".concat(i?"img-vis":""),children:(0,r.jsx)(c.default,{src:t,alt:a,width:80,height:80,style:{maxWidth:"100%"}})}),(0,r.jsx)("h4",{style:{color:i?"#F7941D":""},children:a}),(0,r.jsx)("p",{children:n}),(0,r.jsxs)("a",{href:o,children:[s("learn_more")," ",(0,r.jsx)("i",{className:"fa-solid fa-arrow-right"})]})]})},s=a(45394),u=a(50984),l=e=>{let{locale:t}=e,a=(0,s.T)(),{productsData:d}=(0,s.C)(e=>e.products),c=d.length>0&&d.filter(e=>e.published);return(0,n.useEffect)(()=>{d||a((0,u.t2)())},[a,d]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Z,{imgSrc:"/imgs/page-head/banner-product.jpg",title:"en"===t?"Products":"المنتجات"}),(0,r.jsx)("section",{className:"products-sect p-5",children:c&&c.map((e,a)=>(0,r.jsx)(i,{imgSrc:"".concat("https://stagingsrv.gazala.net/api","/").concat(e.thumbnail),title:"en"===t?e.name.toUpperCase():e.name_ar,description:"en"===t?e.description.slice(0,57)+"...":e.description_ar.slice(0,57)+"...",link:"/".concat(t,"/products/").concat("en"===t?"".concat(e.slug,"?id=").concat(null==e?void 0:e._id):"".concat(e.slug_ar,"?id=").concat(null==e?void 0:e._id)),highlight:e.highlight||!1},a))})]})}},92390:function(e,t,a){"use strict";var r=a(57437),n=a(35292),o=a(33145);t.Z=e=>{let{imgSrc:t,title:a="",mainPage:d=!0,slug:c="",locale:i}=e;return(0,r.jsxs)(r.Fragment,{children:[d&&(0,r.jsxs)("div",{className:"page-title-sec",children:[(0,r.jsx)("div",{className:"title-sec-overlay"}),(0,r.jsx)(o.default,{src:t,alt:"".concat(a," page image"),width:1920,height:600,quality:75,priority:!0}),(0,r.jsx)("div",{className:"pg-ttl-cont",children:(0,r.jsx)("h2",{children:(0,n.x)(a)})})]}),!d&&(0,r.jsxs)("div",{className:"project-bg-ttl",children:[(0,r.jsx)("div",{className:"proj-bg-overlay"}),(0,r.jsx)(o.default,{src:t,alt:c,width:1920,height:600,quality:75,priority:!0}),(0,r.jsxs)("div",{className:"en"===i?"project-pg-ttl-cont":"project-pg-ttl-cont ar",children:[(0,r.jsx)("h2",{children:a}),(0,r.jsx)("h1",{children:c})]})]})]})}},45394:function(e,t,a){"use strict";a.d(t,{C:function(){return o},T:function(){return n}});var r=a(68575);let n=r.I0,o=r.v9},50984:function(e,t,a){"use strict";a.d(t,{Ir:function(){return p},dQ:function(){return s},nM:function(){return l},r7:function(){return x},ry:function(){return u},t2:function(){return i}});var r=a(1455),n=a(83464),o=a(43577),d=a(64131);let c="".concat("https://stagingsrv.gazala.net/api","/edit-website/products"),i=(0,r.hg)("products/fetchProducts",async(e,t)=>{let{rejectWithValue:a}=t;try{let e=await n.default.get(c,{headers:{Authorization:"Bearer ".concat(d.Z.get("auth_token"))}});if(200!==e.status)throw Error("Failed to fetch products. Status: ".concat(e.status));return e.data.data}catch(e){if(e instanceof o.d7){var r;return a((null==e?void 0:null===(r=e.response)||void 0===r?void 0:r.data)||"Failed to fetch products")}}}),s=(0,r.hg)("products/fetchProductBySlug",async(e,t)=>{let{rejectWithValue:a}=t;try{let t=await n.default.get("".concat(c,"/").concat(e),{headers:{Authorization:"Bearer ".concat(d.Z.get("auth_token"))}});if(200!==t.status)return a(t.data.message||"Failed to fetch product.");return t.data.data}catch(e){if(e instanceof o.d7){var r;return a((null==e?void 0:null===(r=e.response)||void 0===r?void 0:r.data)||"An unexpected error occurred.")}}}),u=(0,r.hg)("products/createProduct",async(e,t)=>{let{dispatch:a,rejectWithValue:r}=t;try{let t=await n.default.post(c,e,{headers:{Authorization:"Bearer ".concat(d.Z.get("auth_token"))}});if(201!==t.status)return r(t.data.message||"Failed to create product.");let o=t.data;return a(v(o)),o}catch(e){if(e instanceof o.d7){var i;return r((null==e?void 0:null===(i=e.response)||void 0===i?void 0:i.data)||"An unexpected error occurred.")}}}),l=(0,r.hg)("products/updateProduct",async(e,t)=>{let{formData:a,slug:r}=e,{rejectWithValue:i}=t;try{let e=await n.default.patch("".concat(c,"/").concat(r),a,{headers:{Authorization:"Bearer ".concat(d.Z.get("auth_token"))}});if(200!==e.status)return i(e.data.message||"Failed to update product.");return e.data}catch(e){if(e instanceof o.d7){var s;return i((null==e?void 0:null===(s=e.response)||void 0===s?void 0:s.data)||"An unexpected error occurred.")}}}),p=(0,r.hg)("products/deleteProduct",async(e,t)=>{let{dispatch:a,rejectWithValue:r}=t;try{let t=await n.default.delete("".concat(c,"/").concat(e),{headers:{Authorization:"Bearer ".concat(d.Z.get("auth_token"))}});if(200!==t.status)return r(t.data.message||"Failed to delete product.");return a(y(e)),e}catch(e){if(e instanceof o.d7){var i;return r((null==e?void 0:null===(i=e.response)||void 0===i?void 0:i.data)||"An unexpected error occurred.")}}}),f={productsData:[],currentProduct:null,loading:!1,error:null,activeTab:"1",formValues:{name:"",name_ar:"",description:"",description_ar:"",parentProductId:null,thumbnail:"",images:[],published:!1}},h=(0,r.oM)({name:"products",initialState:f,reducers:{setCurrentProduct:(e,t)=>{e.currentProduct=t.payload},clearCurrentProduct:e=>{e.currentProduct=null},addProduct:(e,t)=>{e.productsData.push(t.payload)},removeProduct:(e,t)=>{e.productsData=e.productsData.filter(e=>e._id!==t.payload)},setActiveTab:(e,t)=>{e.activeTab=t.payload},setFormValues:(e,t)=>{e.formValues=t.payload},clearFormValues:e=>{e.formValues=f.formValues}},extraReducers:e=>{e.addCase(i.pending,e=>{e.loading=!0,e.error=null}).addCase(i.fulfilled,(e,t)=>{e.loading=!1,e.productsData=t.payload}).addCase(i.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to load products data."}).addCase(s.pending,e=>{e.loading=!0,e.error=null}).addCase(s.fulfilled,(e,t)=>{e.loading=!1,e.currentProduct=t.payload,e.formValues={name:t.payload.name,name_ar:t.payload.name_ar,description:t.payload.description,description_ar:t.payload.description_ar,parentProductId:t.payload.parentProductId,thumbnail:t.payload.thumbnail,images:t.payload.images,published:t.payload.published}}).addCase(s.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to fetch product."}).addCase(l.pending,e=>{e.loading=!0,e.error=null}).addCase(l.fulfilled,(e,t)=>{e.loading=!1;let a=e.productsData.findIndex(e=>e._id===t.payload._id);-1!==a&&(e.productsData[a]=t.payload),e.currentProduct=t.payload}).addCase(l.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to update product."})}}),{setCurrentProduct:g,clearCurrentProduct:m,addProduct:v,removeProduct:y,setActiveTab:x,setFormValues:j,clearFormValues:_}=h.actions;t.ZP=h.reducer},35292:function(e,t,a){"use strict";a.d(t,{x:function(){return r}});let r=e=>"string"==typeof e&&e?e.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()):""},43577:function(e,t,a){"use strict";a.d(t,{d7:function(){return n}});let{Axios:r,AxiosError:n,CanceledError:o,isCancel:d,CancelToken:c,VERSION:i,all:s,Cancel:u,isAxiosError:l,spread:p,toFormData:f,AxiosHeaders:h,HttpStatusCode:g,formToJSON:m,getAdapter:v,mergeConfig:y}=a(83464).default}},function(e){e.O(0,[2292,2586,3464,5878,2971,2117,1744],function(){return e(e.s=15409)}),_N_E=e.O()}]);