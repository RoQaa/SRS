(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4005,4649],{69516:function(e,t,a){Promise.resolve().then(a.bind(a,76840)),Promise.resolve().then(a.bind(a,27966))},76840:function(e,t,a){"use strict";a.d(t,{default:function(){return m}});var r=a(57437),n=a(74287),o=a(92390),c=a(54649),s=a(63524),d=e=>{let{product:t,locale:a,slug:n}=e;return(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-12 col-lg-9",children:(0,r.jsx)(s.Z,{locale:a,item:{product:t}})}),(0,r.jsx)("div",{className:"col-12 col-lg-3",children:(0,r.jsxs)("div",{className:"pro-side-menu",children:[(0,r.jsx)("h2",{children:"en"===a?"Other Products":"منتجات اخرى"}),(0,r.jsx)(c.default,{locale:a,currentProduct:t,slug:n,scope:!1})]})})]})},l=a(71307),i=a(33145),u=a(28202),p=a(45394),g=a(2265),h=a(50984),v=a(50023),f=a(42586),j=a(99376),m=e=>{let{locale:t,slug:a}=e,c=(0,f.useTranslations)("form"),s=(0,j.useSearchParams)().get("id"),{productsData:m,currentProduct:x}=(0,p.C)(e=>e.products),{projectsData:y}=(0,p.C)(e=>e.project),_=(0,p.T)();(0,g.useEffect)(()=>{_((0,h.dQ)(s)),_((0,h.t2)()),_((0,v.bl)())},[_,s]);let C=m&&m.filter(e=>e.published),b=y&&y.filter(e=>e.published).slice(0,4);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.Z,{mainPage:!1,title:"en"===t?"Products":"المنتجات",slug:x?"en"===t?x.name:x.name_ar:"",imgSrc:"/imgs/page-head/banner-steel-str.jpg",locale:t}),x&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Z,{images:x&&x.images||[]}),(0,r.jsx)("div",{className:"container",children:(0,r.jsx)(d,{product:x,locale:t,slug:a})}),(0,r.jsx)(u.Z,{projects:b,products:C}),(0,r.jsxs)("div",{className:"fluid-container form-container",style:{backgroundColor:"#eee",position:"relative",padding:"50px"},children:[(0,r.jsx)(i.default,{src:"/imgs/from-bg.jpg",alt:"",className:"form-bg",layout:"fill",objectFit:"cover"}),(0,r.jsx)(n.Z,{inner:!0,title:c("quick_enquiries")})]})]})]})}},28202:function(e,t,a){"use strict";var r=a(57437),n=a(23438),o=a(42586),c=a(33145),s=a(27648);t.Z=e=>{let{projects:t,products:a}=e,d=(0,o.useTranslations)("projects"),l=(0,o.useLocale)();return(0,r.jsxs)("div",{className:"rel-pr",children:[(0,r.jsx)("div",{className:"rel-pr-ttl",children:d("related")}),(0,r.jsx)("div",{className:"rel-pr-v-all",children:(0,r.jsx)(s.default,{href:"".concat("https://stagingsrv.gazala.net","/").concat(l,"/projects"),children:d("view_all")})}),(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row",children:(null==t?void 0:t.length)>0&&t.map((e,t)=>{var o;return(0,r.jsx)("div",{className:"col-12 col-lg-3 mb-3 mb-xl-0",children:(0,r.jsxs)("div",{className:"rel-pr-box",children:[(0,r.jsx)(c.default,{src:"".concat("https://stagingsrv.gazala.net/api","/").concat(null==e?void 0:e.images[0]),alt:"en"===l?e.title:e.title_ar||"Project Image",layout:"responsive",width:370,height:245,quality:80}),(0,r.jsxs)("div",{className:"rel-pr-over",children:[(0,r.jsx)("p",{children:(0,n.L)((null===(o=e.category)||void 0===o?void 0:o._id)||"",a||[],l).toUpperCase()}),(0,r.jsx)("p",{children:"en"===l?e.title.toUpperCase():e.title_ar}),(0,r.jsx)(s.default,{href:"".concat("https://stagingsrv.gazala.net","/").concat(l,"/projects/").concat("en"===l?"".concat(e.slug,"?id=").concat(e._id):"".concat(e.slug_ar,"?id=").concat(e._id)),children:d("more")})]})]})},t)})})})]})}},54649:function(e,t,a){"use strict";a.r(t);var r=a(57437),n=a(45394),o=a(50984),c=a(64301),s=a(27648),d=a(2265);t.default=e=>{let{locale:t,slug:a,scope:l=!0,currentProject:i,currentProduct:u}=e,{productsData:p}=(0,n.C)(e=>e.products),{scopesData:g}=(0,n.C)(e=>e.scopes),h=(0,n.T)();if((0,d.useEffect)(()=>{l?h((0,c.qL)()):(async()=>{p.length<1&&await h((0,o.t2)())})()},[h,p,l]),!t||!a)return console.error("Invalid locale or slug provided to SideMenu."),null;let v=p&&p.filter(e=>e.published),f=g.filter(e=>e.published);return(0,r.jsx)("ul",{children:(l?f:v||[]).map((e,n)=>{var o,c;return(0,r.jsx)("li",{className:l||u?"en"===t&&e.slug===a||"en"!==t&&e.slug_ar===a?"active":"":e._id===(null==i?void 0:null===(o=i.category)||void 0===o?void 0:o._id)?"active":"",children:(0,r.jsx)(s.default,{href:l?"/".concat(t,"/our-scopes/").concat("en"===t?"".concat(e.slug,"?id=").concat(e._id):"".concat(e.slug_ar,"?id=").concat(e._id)):"/".concat(t,"/products/").concat("en"===t?"".concat(e.slug,"?id=").concat(e._id):"".concat(e.slug_ar,"?id=").concat(e._id)),children:l?"en"===t?e.service.toUpperCase():e.service_ar:"en"===t?null===(c=e.name)||void 0===c?void 0:c.toUpperCase():e.name_ar})},n)})})}},71307:function(e,t,a){"use strict";var r=a(57437),n=a(33145),o=a(19764),c=a(85733);a(7354),a(86968),a(76889),t.Z=e=>{let{images:t}=e;return(0,r.jsx)("div",{className:"container my-5",children:(0,r.jsxs)(o.tq,{modules:[c.pt,c.W_,c.tl],spaceBetween:10,slidesPerView:1,autoplay:{delay:2500,disableOnInteraction:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{clickable:!0},className:"mySwiper swiper prSteelSwiper",loop:!0,children:[(null==t?void 0:t.length)>0&&t.map((e,t)=>(0,r.jsx)(o.o5,{children:(0,r.jsx)(n.default,{src:"".concat("https://stagingsrv.gazala.net/api","/").concat(e)||0,alt:"Product image ".concat(t+1)||0,layout:"responsive",width:1920,height:1080,quality:80,priority:!0})},t)),(0,r.jsx)("div",{className:"swiper-button-next",style:{zIndex:"10"}}),(0,r.jsx)("div",{className:"swiper-button-prev",style:{zIndex:"10"}}),(0,r.jsx)("div",{className:"swiper-pagination",style:{zIndex:"10"}})]})})}},50023:function(e,t,a){"use strict";a.d(t,{$B:function(){return f},$L:function(){return u},Bu:function(){return v},C2:function(){return s},bl:function(){return l},r7:function(){return j},th:function(){return p},tr:function(){return i},ty:function(){return g}});var r=a(1455),n=a(83464),o=a(43577),c=a(64131);let s=e=>[...e.project.projectsData].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),d="".concat("https://stagingsrv.gazala.net/api","/edit-website/projects"),l=(0,r.hg)("projects/fetchProjects",async(e,t)=>{let{rejectWithValue:a}=t;try{return(await n.default.get(d,{headers:{Authorization:"Bearer ".concat(c.Z.get("auth_token"))}})).data.data}catch(e){var r;return a(e instanceof o.d7?null===(r=e.response)||void 0===r?void 0:r.data:"An unexpected error occurred.")}}),i=(0,r.hg)("projects/fetchProjectById",async(e,t)=>{let{rejectWithValue:a}=t;try{return(await n.default.get("".concat(d,"/").concat(e),{headers:{Authorization:"Bearer ".concat(c.Z.get("auth_token"))}})).data.data}catch(e){var r;return a(e instanceof o.d7?null===(r=e.response)||void 0===r?void 0:r.data:"An unexpected error occurred.")}}),u=(0,r.hg)("projects/createProject",async(e,t)=>{let{rejectWithValue:a}=t;try{return(await n.default.post(d,e,{headers:{Authorization:"Bearer ".concat(c.Z.get("auth_token"))}})).data}catch(e){var r;return a(e instanceof o.d7?null==e?void 0:null===(r=e.response)||void 0===r?void 0:r.data:"Error Creating Project.")}}),p=(0,r.hg)("projects/deleteProject",async(e,t)=>{let{dispatch:a,rejectWithValue:r}=t;try{return await n.default.delete("".concat(d,"/").concat(e),{headers:{Authorization:"Bearer ".concat(c.Z.get("auth_token"))}}),a(m(e)),e}catch(e){var s;return r(e instanceof o.d7?null==e?void 0:null===(s=e.response)||void 0===s?void 0:s.data:"An unexpected error occurred.")}}),g=(0,r.hg)("projects/updateProject",async(e,t)=>{let{updatedProject:a,slug:r}=e,{dispatch:s,rejectWithValue:l}=t;try{let e=await n.default.patch("".concat(d,"/").concat(r),a,{headers:{Authorization:"Bearer ".concat(c.Z.get("auth_token"))}});return s(x(e.data.doc)),e.data}catch(e){var i;return l(e instanceof o.d7?null==e?void 0:null===(i=e.response)||void 0===i?void 0:i.data:"An unexpected error occurred.")}}),h=(0,r.oM)({name:"projects",initialState:{projectsData:[],activeTab:"1",currentProject:null,loading:!1,dataLoaded:!1,error:null},reducers:{setActiveTab:(e,t)=>{e.activeTab=t.payload},removeProject:(e,t)=>{e.projectsData=e.projectsData.filter(e=>e._id!==t.payload)},setCurrentProject:(e,t)=>{e.currentProject=t.payload},clearCurrentProject:e=>{e.currentProject=null}},extraReducers:e=>{e.addCase(l.pending,e=>{e.loading=!0,e.error=null}).addCase(l.fulfilled,(e,t)=>{e.loading=!1,e.projectsData=t.payload}).addCase(l.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to load projects data."}).addCase(i.pending,e=>{e.loading=!0,e.dataLoaded=!1,e.error=null}).addCase(i.fulfilled,(e,t)=>{e.loading=!1,e.dataLoaded=!0,e.currentProject=t.payload}).addCase(i.rejected,(e,t)=>{e.loading=!1,e.dataLoaded=!0,e.error=t.error.message||"Unknown error"}).addCase(u.pending,e=>{e.loading=!0,e.error=null}).addCase(u.fulfilled,(e,t)=>{e.loading=!1,e.projectsData.push(t.payload)}).addCase(u.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message}).addCase(g.pending,e=>{e.loading=!0,e.error=null}).addCase(g.fulfilled,(e,t)=>{e.loading=!1;let a=e.projectsData.findIndex(e=>e._id===t.payload._id);-1!==a&&(e.projectsData[a]=t.payload),e.currentProject=t.payload}).addCase(g.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to update project."})}}),v=e=>{var t;let a={pending:0,inProgress:0,completed:0};return(null===(t=e.project)||void 0===t?void 0:t.projectsData)&&e.project.projectsData.forEach(e=>{"pending"===e.status?a.pending+=1:"in progress"===e.status?a.inProgress+=1:"completed"===e.status&&(a.completed+=1)}),a},f=e=>{var t,a;return(null===(a=e.project)||void 0===a?void 0:null===(t=a.projectsData)||void 0===t?void 0:t.length)||0},{setActiveTab:j,removeProject:m,setCurrentProject:x,clearCurrentProject:y}=h.actions;t.ZP=h.reducer},64301:function(e,t,a){"use strict";a.d(t,{Eb:function(){return l},kQ:function(){return i},qL:function(){return d},r7:function(){return g},zd:function(){return u}});var r=a(1455),n=a(83464),o=a(43577),c=a(64131);let s="".concat("https://stagingsrv.gazala.net/api","/edit-website/scopes"),d=(0,r.hg)("scopes/fetchScopes",async(e,t)=>{let{rejectWithValue:a}=t;try{let e=await n.default.get(s,{headers:{Authorization:"Bearer ".concat(c.Z.get("auth_token"))}});if(200!==e.status)return console.error("Error: ".concat(e.status," - ").concat(e.statusText)),[];return e.data.data}catch(e){if(console.error("Fetch scopes error:",e),e instanceof o.d7){var r;return a((null==e?void 0:null===(r=e.response)||void 0===r?void 0:r.data)||"Failed to fetch scopes")}return[]}}),l=(0,r.hg)("scopes/fetchScopeById",async(e,t)=>{let{rejectWithValue:a}=t;try{let t=await n.default.get("".concat(s,"/").concat(e),{headers:{Authorization:"Bearer ".concat(c.Z.get("auth_token"))}});if(200!==t.status)return a(t.data.message||"Failed to fetch scope item.");return t.data.data}catch(e){if(e instanceof o.d7){var r;return a((null==e?void 0:null===(r=e.response)||void 0===r?void 0:r.data)||"An unexpected error occurred.")}}}),i=(0,r.hg)("scopes/deleteScope",async(e,t)=>{let{dispatch:a,rejectWithValue:r}=t;try{let t=await n.default.delete("".concat(s,"/").concat(e),{headers:{Authorization:"Bearer ".concat(c.Z.get("auth_token"))}});if(200!==t.status)return r(t.data.message||"Failed to delete scope item.");return a(h(e)),e}catch(e){if(e instanceof o.d7){var d;return r((null==e?void 0:null===(d=e.response)||void 0===d?void 0:d.data)||"An unexpected error occurred.")}}}),u=(0,r.hg)("scopes/updateScope",async(e,t)=>{let{updatedScope:a,id:r}=e,{dispatch:d,rejectWithValue:l}=t;try{let e=await n.default.patch("".concat(s,"/").concat(r),a,{headers:{Authorization:"Bearer ".concat(c.Z.get("auth_token"))}});if(200!==e.status)return l(e.data.message||"Failed to update scope item.");let t=e.data;return d(v(t)),t}catch(e){if(e instanceof o.d7){var i;return l((null==e?void 0:null===(i=e.response)||void 0===i?void 0:i.data)||"An unexpected error occurred.")}}}),p=(0,r.oM)({name:"scopes",initialState:{scopesData:[],activeTab:"1",currentScope:null,loading:!1,error:null},reducers:{setActiveTab:(e,t)=>{e.activeTab=t.payload},removeScope:(e,t)=>{e.scopesData=e.scopesData.filter(e=>e._id!==t.payload)},setCurrentScope:(e,t)=>{e.currentScope=t.payload},clearCurrentScope:e=>{e.currentScope=null}},extraReducers:e=>{e.addCase(d.pending,e=>{e.loading=!0,e.error=null}).addCase(d.fulfilled,(e,t)=>{e.loading=!1,e.scopesData=t.payload}).addCase(d.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to load scopes data."}).addCase(l.pending,e=>{e.loading=!0,e.error=null}).addCase(l.fulfilled,(e,t)=>{e.loading=!1,e.currentScope=t.payload}).addCase(l.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Unknown error"}).addCase(u.pending,e=>{e.loading=!0,e.error=null}).addCase(u.fulfilled,(e,t)=>{e.loading=!1;let a=e.scopesData.findIndex(e=>e._id===t.payload._id);-1!==a&&(e.scopesData[a]=t.payload),e.currentScope=t.payload}).addCase(u.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to update scope item."})}}),{setActiveTab:g,removeScope:h,setCurrentScope:v,clearCurrentScope:f}=p.actions;t.ZP=p.reducer},23438:function(e,t,a){"use strict";a.d(t,{L:function(){return r}});let r=(e,t,a)=>{let r=t.find(t=>t._id===e);return r?"en"===a?r.name:r.name_ar:""}}},function(e){e.O(0,[6957,2292,2586,3464,7648,5878,8752,5414,2971,2117,1744],function(){return e(e.s=69516)}),_N_E=e.O()}]);