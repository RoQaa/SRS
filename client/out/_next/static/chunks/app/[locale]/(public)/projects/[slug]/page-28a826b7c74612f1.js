(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1377],{87359:function(e,t,r){Promise.resolve().then(r.bind(r,98843)),Promise.resolve().then(r.bind(r,27966))},30166:function(e,t,r){"use strict";r.d(t,{default:function(){return n.a}});var a=r(55775),n=r.n(a)},55775:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let a=r(47043);r(57437),r(2265);let n=a._(r(15602));function l(e,t){var r;let a={loading:e=>{let{error:t,isLoading:r,pastDelay:a}=e;return null}};"function"==typeof e&&(a.loader=e);let l={...a,...t};return(0,n.default)({...l,modules:null==(r=l.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},81523:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let a=r(18993);function n(e){let{reason:t,children:r}=e;if("undefined"==typeof window)throw new a.BailoutToCSRError(t);return r}},15602:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let a=r(57437),n=r(2265),l=r(81523),o=r(70049);function d(e){return{default:e&&"default"in e?e.default:e}}let i={loader:()=>Promise.resolve(d(()=>null)),loading:null,ssr:!0},c=function(e){let t={...i,...e},r=(0,n.lazy)(()=>t.loader().then(d)),c=t.loading;function s(e){let d=c?(0,a.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,i=t.ssr?(0,a.jsxs)(a.Fragment,{children:["undefined"==typeof window?(0,a.jsx)(o.PreloadCss,{moduleIds:t.modules}):null,(0,a.jsx)(r,{...e})]}):(0,a.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(r,{...e})});return(0,a.jsx)(n.Suspense,{fallback:d,children:i})}return s.displayName="LoadableComponent",s}},70049:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return l}});let a=r(57437),n=r(20544);function l(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let r=(0,n.getExpectedRequestStore)("next/dynamic css"),l=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files.filter(e=>e.endsWith(".css"));l.push(...t)}}return 0===l.length?null:(0,a.jsx)(a.Fragment,{children:l.map(e=>(0,a.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:r.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},28202:function(e,t,r){"use strict";var a=r(57437),n=r(23438),l=r(42586),o=r(33145),d=r(27648);t.Z=e=>{let{projects:t,products:r}=e,i=(0,l.useTranslations)("projects"),c=(0,l.useLocale)();return(0,a.jsxs)("div",{className:"rel-pr",children:[(0,a.jsx)("div",{className:"rel-pr-ttl",children:i("related")}),(0,a.jsx)("div",{className:"rel-pr-v-all",children:(0,a.jsx)(d.default,{href:"".concat("https://stagingsrv.gazala.net","/").concat(c,"/projects"),children:i("view_all")})}),(0,a.jsx)("div",{className:"container",children:(0,a.jsx)("div",{className:"row",children:(null==t?void 0:t.length)>0&&t.map((e,t)=>{var l;return(0,a.jsx)("div",{className:"col-12 col-lg-3 mb-3 mb-xl-0",children:(0,a.jsxs)("div",{className:"rel-pr-box",children:[(0,a.jsx)(o.default,{src:"".concat("https://stagingsrv.gazala.net/api","/").concat(null==e?void 0:e.images[0]),alt:"en"===c?e.title:e.title_ar||"Project Image",layout:"responsive",width:370,height:245,quality:80}),(0,a.jsxs)("div",{className:"rel-pr-over",children:[(0,a.jsx)("p",{children:(0,n.L)((null===(l=e.category)||void 0===l?void 0:l._id)||"",r||[],c).toUpperCase()}),(0,a.jsx)("p",{children:"en"===c?e.title.toUpperCase():e.title_ar}),(0,a.jsx)(d.default,{href:"".concat("https://stagingsrv.gazala.net","/").concat(c,"/projects/").concat("en"===c?"".concat(e.slug,"?id=").concat(e._id):"".concat(e.slug_ar,"?id=").concat(e._id)),children:i("more")})]})]})},t)})})})]})}},98843:function(e,t,r){"use strict";var a=r(57437),n=r(74287),l=r(92390),o=r(33145),d=r(28202),i=r(63524),c=r(42586),s=r(45394),u=r(2265),p=r(50023),f=r(50984),g=r(23438),j=r(30166),v=r(99376);t.default=e=>{var t;let{slug:h,locale:m}=e,y=(0,v.useSearchParams)().get("id"),x=(0,c.useTranslations)("products"),{projectsData:_,currentProject:b}=(0,s.C)(e=>e.project),{productsData:P}=(0,s.C)(e=>e.products),C=(0,s.T)(),[w,N]=(0,u.useState)(!0),k=(0,j.default)(()=>r.e(4649).then(r.bind(r,54649)),{loadableGenerated:{webpack:()=>[54649]},ssr:!1});(0,u.useEffect)(()=>{(async()=>{await C((0,p.bl)()),await C((0,p.tr)(y)),await C((0,f.t2)()),N(!1)})()},[C,y]);let D=null==b?void 0:b._id,L=_.filter(e=>{var t,r;return e.published&&(null==e?void 0:null===(t=e.category)||void 0===t?void 0:t._id)===(null==b?void 0:null===(r=b.category)||void 0===r?void 0:r._id)&&e._id!==D})||[],A=_.filter(e=>{var t,r;return e.published&&(null==e?void 0:null===(t=e.category)||void 0===t?void 0:t._id)!==(null==b?void 0:null===(r=b.category)||void 0===r?void 0:r._id)&&e._id!==D&&!L.includes(e)}),O=L.length>=4?L:[...L,...A.slice(0,4-L.length)],z=P.filter(e=>e.published);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Z,{mainPage:!1,title:x("projects_title"),slug:(0,g.L)((null==b?void 0:null===(t=b.category)||void 0===t?void 0:t._id)||"",z,m),imgSrc:"/imgs/page-head/banner-steel-str.jpg",locale:m}),(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"row mt-5",children:[(0,a.jsxs)("div",{className:"col-12 col-lg-9 mb-4",children:[(0,a.jsx)("div",{className:"proj-img mb-3",children:(0,a.jsx)("img",{src:"".concat("https://stagingsrv.gazala.net/api","/").concat(null==b?void 0:b.images[0])||0,alt:(null==b?void 0:b.title)||""})}),(0,a.jsx)(i.Z,{locale:m,item:b&&{project:b}})]}),(0,a.jsx)("div",{className:"col-12 col-lg-3",children:(0,a.jsxs)("div",{className:"pro-side-menu",children:[(0,a.jsx)("h2",{children:x("other_products")}),(0,a.jsx)(k,{locale:m,slug:h,scope:!1,currentProject:null!=b?b:void 0})]})})]})}),O.length>0&&(0,a.jsx)(d.Z,{projects:O,products:z}),(0,a.jsxs)("div",{className:"fluid-container form-container",style:{backgroundColor:"#eee",position:"relative",padding:"50px"},children:[(0,a.jsx)(o.default,{src:"/imgs/from-bg.jpg",alt:"Form Image",className:"form-bg",layout:"fill",objectFit:"cover"}),(0,a.jsx)(n.Z,{inner:!0,title:x("quick_enquiries")})]})]})}},50023:function(e,t,r){"use strict";r.d(t,{$B:function(){return v},$L:function(){return u},Bu:function(){return j},C2:function(){return d},bl:function(){return c},r7:function(){return h},th:function(){return p},tr:function(){return s},ty:function(){return f}});var a=r(1455),n=r(83464),l=r(43577),o=r(64131);let d=e=>[...e.project.projectsData].sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),i="".concat("https://stagingsrv.gazala.net/api","/edit-website/projects"),c=(0,a.hg)("projects/fetchProjects",async(e,t)=>{let{rejectWithValue:r}=t;try{return(await n.default.get(i,{headers:{Authorization:"Bearer ".concat(o.Z.get("auth_token"))}})).data.data}catch(e){var a;return r(e instanceof l.d7?null===(a=e.response)||void 0===a?void 0:a.data:"An unexpected error occurred.")}}),s=(0,a.hg)("projects/fetchProjectById",async(e,t)=>{let{rejectWithValue:r}=t;try{return(await n.default.get("".concat(i,"/").concat(e),{headers:{Authorization:"Bearer ".concat(o.Z.get("auth_token"))}})).data.data}catch(e){var a;return r(e instanceof l.d7?null===(a=e.response)||void 0===a?void 0:a.data:"An unexpected error occurred.")}}),u=(0,a.hg)("projects/createProject",async(e,t)=>{let{rejectWithValue:r}=t;try{return(await n.default.post(i,e,{headers:{Authorization:"Bearer ".concat(o.Z.get("auth_token"))}})).data}catch(e){var a;return r(e instanceof l.d7?null==e?void 0:null===(a=e.response)||void 0===a?void 0:a.data:"Error Creating Project.")}}),p=(0,a.hg)("projects/deleteProject",async(e,t)=>{let{dispatch:r,rejectWithValue:a}=t;try{return await n.default.delete("".concat(i,"/").concat(e),{headers:{Authorization:"Bearer ".concat(o.Z.get("auth_token"))}}),r(m(e)),e}catch(e){var d;return a(e instanceof l.d7?null==e?void 0:null===(d=e.response)||void 0===d?void 0:d.data:"An unexpected error occurred.")}}),f=(0,a.hg)("projects/updateProject",async(e,t)=>{let{updatedProject:r,slug:a}=e,{dispatch:d,rejectWithValue:c}=t;try{let e=await n.default.patch("".concat(i,"/").concat(a),r,{headers:{Authorization:"Bearer ".concat(o.Z.get("auth_token"))}});return d(y(e.data.doc)),e.data}catch(e){var s;return c(e instanceof l.d7?null==e?void 0:null===(s=e.response)||void 0===s?void 0:s.data:"An unexpected error occurred.")}}),g=(0,a.oM)({name:"projects",initialState:{projectsData:[],activeTab:"1",currentProject:null,loading:!1,dataLoaded:!1,error:null},reducers:{setActiveTab:(e,t)=>{e.activeTab=t.payload},removeProject:(e,t)=>{e.projectsData=e.projectsData.filter(e=>e._id!==t.payload)},setCurrentProject:(e,t)=>{e.currentProject=t.payload},clearCurrentProject:e=>{e.currentProject=null}},extraReducers:e=>{e.addCase(c.pending,e=>{e.loading=!0,e.error=null}).addCase(c.fulfilled,(e,t)=>{e.loading=!1,e.projectsData=t.payload}).addCase(c.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to load projects data."}).addCase(s.pending,e=>{e.loading=!0,e.dataLoaded=!1,e.error=null}).addCase(s.fulfilled,(e,t)=>{e.loading=!1,e.dataLoaded=!0,e.currentProject=t.payload}).addCase(s.rejected,(e,t)=>{e.loading=!1,e.dataLoaded=!0,e.error=t.error.message||"Unknown error"}).addCase(u.pending,e=>{e.loading=!0,e.error=null}).addCase(u.fulfilled,(e,t)=>{e.loading=!1,e.projectsData.push(t.payload)}).addCase(u.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message}).addCase(f.pending,e=>{e.loading=!0,e.error=null}).addCase(f.fulfilled,(e,t)=>{e.loading=!1;let r=e.projectsData.findIndex(e=>e._id===t.payload._id);-1!==r&&(e.projectsData[r]=t.payload),e.currentProject=t.payload}).addCase(f.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to update project."})}}),j=e=>{var t;let r={pending:0,inProgress:0,completed:0};return(null===(t=e.project)||void 0===t?void 0:t.projectsData)&&e.project.projectsData.forEach(e=>{"pending"===e.status?r.pending+=1:"in progress"===e.status?r.inProgress+=1:"completed"===e.status&&(r.completed+=1)}),r},v=e=>{var t,r;return(null===(r=e.project)||void 0===r?void 0:null===(t=r.projectsData)||void 0===t?void 0:t.length)||0},{setActiveTab:h,removeProject:m,setCurrentProject:y,clearCurrentProject:x}=g.actions;t.ZP=g.reducer},23438:function(e,t,r){"use strict";r.d(t,{L:function(){return a}});let a=(e,t,r)=>{let a=t.find(t=>t._id===e);return a?"en"===r?a.name:a.name_ar:""}}},function(e){e.O(0,[2292,2586,3464,7648,5878,5414,2971,2117,1744],function(){return e(e.s=87359)}),_N_E=e.O()}]);