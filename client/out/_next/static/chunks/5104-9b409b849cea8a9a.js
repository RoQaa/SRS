(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5104],{75104:function(e,r,a){Promise.resolve().then(a.bind(a,84324))},73215:function(e,r,a){"use strict";var n=a(2265),t=a(40718),s=a.n(t),i=a(36760),l=a.n(i),c=a(28137),o=["className","cssModule","innerRef","tag"];function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var u={className:s().string,cssModule:s().object,innerRef:s().oneOfType([s().object,s().string,s().func]),tag:c.iC};function m(e){var r=e.className,a=e.cssModule,t=e.innerRef,s=e.tag,i=function(e,r){if(null==e)return{};var a,n,t=function(e,r){if(null==e)return{};var a,n,t={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],r.indexOf(a)>=0||(t[a]=e[a]);return t}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}(e,o),u=(0,c.mx)(l()(r,"card-body"),a);return n.createElement(void 0===s?"div":s,d({},i,{className:u,ref:t}))}m.propTypes=u,r.Z=m},99914:function(e,r,a){"use strict";var n=a(2265),t=a(40718),s=a.n(t),i=a(36760),l=a.n(i),c=a(28137),o=["className","cssModule","fluid","tag"];function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var u={tag:c.iC,fluid:s().oneOfType([s().bool,s().string]),className:s().string,cssModule:s().object};function m(e){var r=e.className,a=e.cssModule,t=e.fluid,s=e.tag,i=function(e,r){if(null==e)return{};var a,n,t=function(e,r){if(null==e)return{};var a,n,t={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],r.indexOf(a)>=0||(t[a]=e[a]);return t}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}(e,o),u="container";!0===t?u="container-fluid":t&&(u="container-".concat(t));var m=(0,c.mx)(l()(r,u),a);return n.createElement(void 0===s?"div":s,d({},i,{className:m}))}m.propTypes=u,r.Z=m},41221:function(e,r,a){"use strict";var n=a(2265),t=a(40718),s=a.n(t),i=a(36760),l=a.n(i),c=a(28137),o=["className","cssModule","type","size","color","children","tag"];function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var u={tag:c.iC,type:s().oneOf(["border","grow"]),size:s().oneOf(["sm"]),color:s().oneOf(["primary","secondary","success","danger","warning","info","light","dark"]),className:s().string,cssModule:s().object,children:s().string};function m(e){var r=e.className,a=e.cssModule,t=e.type,s=void 0===t?"border":t,i=e.size,u=e.color,m=e.children,p=void 0===m?"Loading...":m,h=e.tag,f=function(e,r){if(null==e)return{};var a,n,t=function(e,r){if(null==e)return{};var a,n,t={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],r.indexOf(a)>=0||(t[a]=e[a]);return t}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}(e,o),g=(0,c.mx)(l()(r,!!i&&"spinner-".concat(s,"-").concat(i),"spinner-".concat(s),!!u&&"text-".concat(u)),a);return n.createElement(void 0===h?"div":h,d({role:"status"},f,{className:g}),p&&n.createElement("span",{className:(0,c.mx)("visually-hidden",a)},p))}m.propTypes=u,r.Z=m},79205:function(e,r,a){"use strict";var n=a(57437);a(2265),r.Z=e=>{let{iconId:r,className:a,style:t}=e;return(0,n.jsx)("svg",{className:a,style:t,children:(0,n.jsx)("use",{href:"/assets/svg/icon-sprite.svg#".concat(r)})})}},84324:function(e,r,a){"use strict";a.d(r,{default:function(){return P}});var n=a(57437),t=a(2265),s=a(99914),i=a(50288),l=a(98723),c=a(65051),o=a(73215),d=a(77314),u=a(99376),m=a(43207),p=a(82097);let h=e=>{let{lang:r="en"}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(i.Z,{children:(0,n.jsx)(l.Z,{children:(0,n.jsxs)(m.Z,{children:[(0,n.jsx)(p.Z,{check:!0,children:"en"===r?"Title":"Title (Arabic)"}),(0,n.jsx)(d.gN,{name:"en"===r?"title":"title_ar",type:"text",className:"form-control",placeholder:"Enter Title"}),"en"===r?(0,n.jsx)(d.Bc,{name:"title",component:"span",className:"text-danger"}):(0,n.jsx)(d.Bc,{name:"title_ar",component:"span",className:"text-danger"})]})})})})},f=()=>(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(l.Z,{sm:"6",children:(0,n.jsxs)(m.Z,{children:[(0,n.jsx)(p.Z,{children:"Publish"}),(0,n.jsxs)(d.gN,{name:"publish",as:"select",className:"form-control form-select",children:[(0,n.jsx)("option",{value:"true",children:"Publish"}),(0,n.jsx)("option",{value:"false",children:"Un Publish"})]})]})}),(0,n.jsx)(l.Z,{sm:"6",children:(0,n.jsxs)(m.Z,{children:[(0,n.jsx)(p.Z,{check:!0,children:"Link"}),(0,n.jsx)(d.gN,{name:"link",type:"text",className:"form-control",placeholder:"Enter Button Link"}),(0,n.jsx)(d.Bc,{name:"link",component:"span",className:"text-danger"})]})})]});var g=a(71008);let j=e=>{let{lang:r="en"}=e;return(0,n.jsx)(i.Z,{children:(0,n.jsx)(l.Z,{children:(0,n.jsxs)(m.Z,{children:[(0,n.jsx)(p.Z,{check:!0,children:"en"===r?g.mz3:g.mz3+" (Arabic)"}),(0,n.jsx)(d.gN,{name:"en"===r?"description":"description_ar",as:"textarea",className:"form-control",rows:3,placeholder:"Enter Description"}),(0,n.jsx)(d.Bc,{name:"en"===r?"description":"description_ar",component:"span",className:"text-danger"})]})})})};var x=a(42586),y=a(27648),b=a(80201);let v=e=>{let{id:r=""}=e,a=(0,x.useLocale)();return(0,n.jsx)(i.Z,{children:(0,n.jsx)(l.Z,{children:(0,n.jsxs)("div",{className:"text-end",children:[(0,n.jsx)(b.Z,{type:"submit",color:"success",className:"me-3",children:r?"Update":"Create"}),(0,n.jsx)(y.default,{className:"btn btn-danger",href:"".concat("https://stagingsrv.gazala.net","/").concat(a,"/dashboard/edit-home/main-carousels"),children:"Cancel"})]})})})};var C=a(94926),N=a(79205),O=e=>{let{setFieldValue:r}=e,[a,s]=(0,t.useState)([]),[i,l]=(0,t.useState)(null),c=e=>{l(e),r("image",e.file)};return(0,n.jsx)("div",{className:"sidebar-body mt-4",children:(0,n.jsxs)("div",{className:"product-upload",children:[(0,n.jsxs)("p",{children:["Carousel Image",(0,n.jsx)("span",{className:"txt-danger",children:" *"})]}),(0,n.jsxs)(C.fh,{onChange:e=>{e.length>0&&c(e[0])},value:i?[i]:[],maxFiles:1,header:!1,footer:!1,minHeight:"80px",name:"image",children:[i&&(0,n.jsx)(C.Q$,{...i,onDelete:()=>{l(null),r("image",null)},info:!0},i.id),0===a.length&&!i&&(0,n.jsxs)("div",{className:"dz-message needsclick",children:[(0,n.jsx)(N.Z,{iconId:"file-upload"}),(0,n.jsxs)("h5",{children:["Drag your image here, or",(0,n.jsx)(y.default,{className:"txt-primary",href:g.zOc,children:"\xa0browse"})]}),(0,n.jsx)("span",{className:"note needsclick",children:"SVG, PNG, JPG "})]})]}),(0,n.jsx)(d.Bc,{name:"image",component:"span",className:"text-danger"}),(0,n.jsx)("br",{})]})})},Z=a(18206),_=a(34422),k=a(45394),w=a(626),E=()=>{let e=(0,u.useRouter)(),r=(0,k.T)(),a=(0,x.useLocale)(),t=async n=>{let t=new FormData;Object.entries(n).forEach(e=>{let[r,a]=e;"image"!==r&&null!=a&&t.append(r,String(a))}),n.image&&t.append("image",n.image),t.append("type","MainCarousel");try{await r((0,w.cS)(t)).unwrap(),Z.Am.success("Carousel Created successfully!"),e.push("/".concat(a,"/dashboard/edit-home/main-carousels/"))}catch(e){e instanceof Error?(Z.Am.error(e.message||"Error Creating Carousel."),console.error("Error Creating Carousel:",e)):Z.Am.error("An unknown error occurred please try again.")}};return(0,n.jsx)(d.J9,{initialValues:{title:"",title_ar:"",description:"",description_ar:"",link:"",publish:!0},validationSchema:q,onSubmit:t,children:e=>{let{setFieldValue:r}=e;return(0,n.jsxs)(d.l0,{className:"theme-form",children:[(0,n.jsx)(h,{lang:"en"}),(0,n.jsx)(j,{lang:"en"}),(0,n.jsx)(f,{}),(0,n.jsx)(O,{setFieldValue:r}),(0,n.jsxs)("h3",{className:"py-2 my-3",children:[(0,n.jsx)("span",{className:"text-danger",children:"*"}),"Add Details In Arabic"]}),(0,n.jsx)(h,{lang:"ar"}),(0,n.jsx)(j,{lang:"ar"}),(0,n.jsx)(v,{id:""})]})}})};let q=_.Ry().shape({title:_.Z_().required("Title is required"),title_ar:_.Z_().required("Arabic Title is required"),description:_.Z_().required("Description is required"),description_ar:_.Z_().required("Arabic description is required"),link:_.Z_().url("Link must be a valid URL").required("Link is required"),publish:_.O7().required("Published status is required")});var A=a(41221),S=e=>{let{id:r}=e,a=(0,u.useRouter)(),s=(0,k.T)(),i=(0,k.C)(w.Ey),l=(0,k.C)(w.LS),c=(0,x.useLocale)();(0,t.useEffect)(()=>{r&&s((0,w.q5)(r))},[r,s]);let m={title:(null==i?void 0:i.title)||"",title_ar:(null==i?void 0:i.title_ar)||"",description:(null==i?void 0:i.description)||"",description_ar:(null==i?void 0:i.description_ar)||"",link:(null==i?void 0:i.link)||"",image:(null==i?void 0:i.image)||"",publish:(null==i?void 0:i.publish)||!1},p=async e=>{let n=new FormData;Object.entries(e).forEach(e=>{let[r,a]=e;"image"!==r&&null!=a&&n.append(r,String(a))}),e.image&&n.append("image",e.image),n.append("type","MainCarousel");try{let e=await s((0,w.Jj)({id:r,updatedItem:n})).unwrap();e.status?(Z.Am.success("Carousel Updated successfully!"),a.push("/".concat(c,"/dashboard/edit-home/main-carousels/"))):Z.Am.error(e.message||"Error Updating Carousel.")}catch(e){e instanceof Error?Z.Am.error(e.message||"Error Updating Carousel."):Z.Am.error("An unknown error occurred please try again.")}};return(0,n.jsx)(n.Fragment,{children:l?(0,n.jsx)(o.Z,{className:"text-center mt-2 mb-5 p-2",children:(0,n.jsx)(A.Z,{color:"primary"})}):(0,n.jsx)(d.J9,{initialValues:m,validationSchema:M,onSubmit:p,children:e=>{let{setFieldValue:a}=e;return(0,n.jsxs)(d.l0,{className:"theme-form",children:[(0,n.jsx)(h,{lang:"en"}),(0,n.jsx)(j,{lang:"en"}),(0,n.jsx)(f,{}),(0,n.jsx)(O,{setFieldValue:a}),(0,n.jsxs)("h3",{className:"py-2 my-3",children:[(0,n.jsx)("span",{className:"text-danger",children:"*"}),"Add Details In Arabic"]}),(0,n.jsx)(h,{lang:"ar"}),(0,n.jsx)(j,{lang:"ar"}),(0,n.jsx)(v,{id:r})]})}})})};let M=_.Ry().shape({title:_.Z_().required("Title is required"),title_ar:_.Z_().required("Arabic Title is required"),description:_.Z_().required("Description is required"),description_ar:_.Z_().required("Arabic description is required"),link:_.Z_().url("Link must be a valid URL").required("Link is required"),publish:_.O7().required("Published status is required")});var P=()=>{let e=(0,u.useSearchParams)().get("id");return(0,n.jsx)(s.Z,{fluid:!0,children:(0,n.jsx)(i.Z,{children:(0,n.jsx)(l.Z,{sm:"12",children:(0,n.jsx)(c.Z,{children:(0,n.jsx)(o.Z,{children:e?(0,n.jsx)(S,{id:e}):(0,n.jsx)(E,{})})})})})})}},45394:function(e,r,a){"use strict";a.d(r,{C:function(){return s},T:function(){return t}});var n=a(68575);let t=n.I0,s=n.v9},626:function(e,r,a){"use strict";a.d(r,{Ey:function(){return h},Jj:function(){return u},LS:function(){return f},cS:function(){return d},nI:function(){return c},q5:function(){return o},vy:function(){return m}});var n=a(1455),t=a(83464),s=a(64131);let i="".concat("https://stagingsrv.gazala.net/api","/edit-website/slide"),l=s.Z.get("auth_token"),c=(0,n.hg)("carousel/fetchMainCarousels",async(e,r)=>{let{rejectWithValue:a}=r;try{return(await t.default.get("".concat(i,"/?type=MainCarousel"),{headers:{Authorization:"Bearer ".concat(l)}})).data.data}catch(e){if(e instanceof Error)return a((null==e?void 0:e.message)||"Failed to fetch main carousels")}}),o=(0,n.hg)("carousel/fetchMainCarouselById",async(e,r)=>{let{rejectWithValue:a}=r;try{return(await t.default.get("".concat(i,"/").concat(e),{headers:{Authorization:"Bearer ".concat(l)}})).data.data}catch(e){if(e instanceof Error)return a((null==e?void 0:e.message)||"Failed to fetch carousel")}}),d=(0,n.hg)("carousel/addMainCarousel",async(e,r)=>{let{rejectWithValue:a}=r;try{return(await t.default.post(i,e,{headers:{Authorization:"Bearer ".concat(l)}})).data}catch(e){if(e instanceof Error)return a((null==e?void 0:e.message)||"Failed to add main carousel")}}),u=(0,n.hg)("carousel/updateMainCarousel",async(e,r)=>{let{id:a,updatedItem:n}=e,{rejectWithValue:s}=r;try{return(await t.default.patch("".concat(i,"/").concat(a),n,{headers:{Authorization:"Bearer ".concat(l)}})).data}catch(e){if(e instanceof Error)return s((null==e?void 0:e.message)||"Failed to Update carousel")}}),m=(0,n.hg)("carousel/deleteMainCarousel",async(e,r)=>{let{dispatch:a,rejectWithValue:n}=r;try{return await t.default.delete("".concat(i,"/").concat(e),{headers:{Authorization:"Bearer ".concat(l)}}),a(x(e)),e}catch(e){if(e instanceof Error)return n((null==e?void 0:e.message)||"Failed to delete carousel")}}),p=(0,n.oM)({name:"carousel",initialState:{mainCarousels:[],currentCarousel:null,loading:!1,error:null},reducers:{resetError(e){e.error=null},clearCurrentCarousel(e){e.currentCarousel=null},removeMainCarousel:(e,r)=>{e.mainCarousels=e.mainCarousels.filter(e=>e._id!==r.payload)}},extraReducers:e=>{e.addCase(c.pending,e=>{e.loading=!0,e.error=null}).addCase(c.fulfilled,(e,r)=>{e.loading=!1,e.mainCarousels=r.payload}).addCase(c.rejected,(e,r)=>{e.loading=!1,e.error=r.payload}).addCase(o.pending,e=>{e.loading=!0,e.error=null}).addCase(o.fulfilled,(e,r)=>{e.loading=!1,e.currentCarousel=r.payload}).addCase(o.rejected,(e,r)=>{e.loading=!1,e.error=r.payload}).addCase(d.pending,e=>{e.loading=!0,e.error=null}).addCase(d.fulfilled,(e,r)=>{e.mainCarousels.push(r.payload)}).addCase(d.rejected,(e,r)=>{e.error=r.payload}).addCase(u.pending,e=>{e.loading=!0,e.error=null}).addCase(u.fulfilled,(e,r)=>{let a=e.mainCarousels.findIndex(e=>e.id===r.payload.id);-1!==a&&(e.mainCarousels[a]=r.payload)}).addCase(u.rejected,(e,r)=>{e.error=r.payload})}}),h=e=>e.mainCarousels.currentCarousel,f=e=>e.mainCarousels.loading,{resetError:g,clearCurrentCarousel:j,removeMainCarousel:x}=p.actions;r.ZP=p.reducer}}]);