(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5991],{5991:function(e,a,r){Promise.resolve().then(r.bind(r,22884))},73215:function(e,a,r){"use strict";var t=r(2265),n=r(40718),s=r.n(n),i=r(36760),l=r.n(i),c=r(28137),o=["className","cssModule","innerRef","tag"];function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}var u={className:s().string,cssModule:s().object,innerRef:s().oneOfType([s().object,s().string,s().func]),tag:c.iC};function p(e){var a=e.className,r=e.cssModule,n=e.innerRef,s=e.tag,i=function(e,a){if(null==e)return{};var r,t,n=function(e,a){if(null==e)return{};var r,t,n={},s=Object.keys(e);for(t=0;t<s.length;t++)r=s[t],a.indexOf(r)>=0||(n[r]=e[r]);return n}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)r=s[t],!(a.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,o),u=(0,c.mx)(l()(a,"card-body"),r);return t.createElement(void 0===s?"div":s,d({},i,{className:u,ref:n}))}p.propTypes=u,a.Z=p},99914:function(e,a,r){"use strict";var t=r(2265),n=r(40718),s=r.n(n),i=r(36760),l=r.n(i),c=r(28137),o=["className","cssModule","fluid","tag"];function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}var u={tag:c.iC,fluid:s().oneOfType([s().bool,s().string]),className:s().string,cssModule:s().object};function p(e){var a=e.className,r=e.cssModule,n=e.fluid,s=e.tag,i=function(e,a){if(null==e)return{};var r,t,n=function(e,a){if(null==e)return{};var r,t,n={},s=Object.keys(e);for(t=0;t<s.length;t++)r=s[t],a.indexOf(r)>=0||(n[r]=e[r]);return n}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)r=s[t],!(a.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,o),u="container";!0===n?u="container-fluid":n&&(u="container-".concat(n));var p=(0,c.mx)(l()(a,u),r);return t.createElement(void 0===s?"div":s,d({},i,{className:p}))}p.propTypes=u,a.Z=p},41221:function(e,a,r){"use strict";var t=r(2265),n=r(40718),s=r.n(n),i=r(36760),l=r.n(i),c=r(28137),o=["className","cssModule","type","size","color","children","tag"];function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}var u={tag:c.iC,type:s().oneOf(["border","grow"]),size:s().oneOf(["sm"]),color:s().oneOf(["primary","secondary","success","danger","warning","info","light","dark"]),className:s().string,cssModule:s().object,children:s().string};function p(e){var a=e.className,r=e.cssModule,n=e.type,s=void 0===n?"border":n,i=e.size,u=e.color,p=e.children,h=void 0===p?"Loading...":p,m=e.tag,f=function(e,a){if(null==e)return{};var r,t,n=function(e,a){if(null==e)return{};var r,t,n={},s=Object.keys(e);for(t=0;t<s.length;t++)r=s[t],a.indexOf(r)>=0||(n[r]=e[r]);return n}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)r=s[t],!(a.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,o),v=(0,c.mx)(l()(a,!!i&&"spinner-".concat(s,"-").concat(i),"spinner-".concat(s),!!u&&"text-".concat(u)),r);return t.createElement(void 0===m?"div":m,d({role:"status"},f,{className:v}),h&&t.createElement("span",{className:(0,c.mx)("visually-hidden",r)},h))}p.propTypes=u,a.Z=p},79205:function(e,a,r){"use strict";var t=r(57437);r(2265),a.Z=e=>{let{iconId:a,className:r,style:n}=e;return(0,t.jsx)("svg",{className:r,style:n,children:(0,t.jsx)("use",{href:"/assets/svg/icon-sprite.svg#".concat(a)})})}},22884:function(e,a,r){"use strict";r.d(a,{default:function(){return F}});var t=r(57437),n=r(2265),s=r(99914),i=r(50288),l=r(98723),c=r(65051),o=r(73215),d=r(77314),u=r(99376),p=r(43207),h=r(82097);let m=e=>{let{lang:a="en"}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(i.Z,{children:(0,t.jsx)(l.Z,{children:(0,t.jsxs)(p.Z,{children:[(0,t.jsx)(h.Z,{check:!0,children:"en"===a?"Title":"Title (Arabic)"}),(0,t.jsx)(d.gN,{name:"en"===a?"title":"title_ar",type:"text",className:"form-control",placeholder:"Enter Title"}),"en"===a?(0,t.jsx)(d.Bc,{name:"title",component:"span",className:"text-danger"}):(0,t.jsx)(d.Bc,{name:"title_ar",component:"span",className:"text-danger"})]})})})})};var f=r(42586),v=r(27648),g=r(80201);let j=e=>{let{id:a=""}=e,r=(0,f.useLocale)();return(0,t.jsx)(i.Z,{children:(0,t.jsx)(l.Z,{children:(0,t.jsxs)("div",{className:"text-end",children:[(0,t.jsx)(g.Z,{type:"submit",color:"success",className:"me-3",children:a?"Update":"Create"}),(0,t.jsx)(v.default,{className:"btn btn-danger",href:"".concat("https://stagingsrv.gazala.net","/").concat(r,"/dashboard/edit-home/values"),children:"Cancel"})]})})})};var x=r(94926),y=r(79205),b=r(71008),N=e=>{let{setFieldValue:a,imgName:r}=e,[s,i]=(0,n.useState)([]),[l,c]=(0,n.useState)(null),o=e=>{c(e),a(r,e.file)};return(0,t.jsx)("div",{className:"sidebar-body mt-4",children:(0,t.jsxs)("div",{className:"product-upload",children:[(0,t.jsxs)("p",{children:[r," Image",(0,t.jsx)("span",{className:"txt-danger",children:" *"})]}),(0,t.jsxs)(x.fh,{onChange:e=>{e.length>0&&o(e[0])},value:l?[l]:[],maxFiles:1,header:!1,footer:!1,minHeight:"80px",name:r,children:[l&&(0,t.jsx)(x.Q$,{...l,onDelete:()=>{c(null),a(r,null)},info:!0,preview:!0},l.id),0===s.length&&!l&&(0,t.jsxs)("div",{className:"dz-message needsclick",children:[(0,t.jsx)(y.Z,{iconId:"file-upload"}),(0,t.jsxs)("h5",{children:["Drag your image here, or",(0,t.jsx)(v.default,{className:"txt-primary",href:b.zOc,children:"\xa0browse"})]}),(0,t.jsx)("span",{className:"note needsclick",children:"SVG, PNG, JPG or GIF"})]})]}),(0,t.jsx)(d.Bc,{name:r,component:"span",className:"text-danger"}),(0,t.jsx)("br",{})]})})},O=r(18206),Z=r(34422),_=r(45394),k=r(55489);let w=()=>(0,t.jsxs)(i.Z,{children:[(0,t.jsx)(l.Z,{sm:"6",children:(0,t.jsxs)(p.Z,{children:[(0,t.jsx)(h.Z,{children:"Publish"}),(0,t.jsxs)(d.gN,{name:"published",as:"select",className:"form-control form-select",children:[(0,t.jsx)("option",{value:"true",children:"Publish"}),(0,t.jsx)("option",{value:"false",children:"Un Publish"})]})]})}),(0,t.jsx)(l.Z,{sm:"6",children:(0,t.jsxs)(p.Z,{children:[(0,t.jsx)(h.Z,{check:!0,children:"Button Link"}),(0,t.jsx)(d.gN,{name:"link",type:"text",className:"form-control",placeholder:"Enter Button Link"}),(0,t.jsx)(d.Bc,{name:"link",component:"span",className:"text-danger"})]})})]}),C=e=>{let{lang:a="en"}=e;return(0,t.jsx)(i.Z,{children:(0,t.jsx)(l.Z,{children:(0,t.jsxs)(p.Z,{children:[(0,t.jsx)(h.Z,{check:!0,children:"en"===a?b.mz3:b.mz3+" (Arabic)"}),(0,t.jsx)(d.gN,{name:"en"===a?"description":"description_ar",as:"textarea",className:"form-control",rows:3,placeholder:"Enter Description"}),(0,t.jsx)(d.Bc,{name:"en"===a?"description":"description_ar",component:"span",className:"text-danger"})]})})})};var q=()=>{let e=(0,u.useRouter)(),a=(0,_.T)(),r=(0,f.useLocale)(),n=async t=>{let n=new FormData;Object.keys(t).forEach(e=>{"main"!==e&&"icon"!==e&&void 0!==t[e]&&null!==t[e]&&n.append(e,String(t[e]))}),t.main&&n.append("main",t.main),t.rotate&&n.append("rotate",t.rotate);try{await a((0,k.x6)(n)).unwrap(),O.Am.success("Value Created successfully!"),e.push("/".concat(r,"/dashboard/edit-home/values/"))}catch(e){e instanceof Error&&(O.Am.error(e.message||"Error Creating Carousel."),console.error("Error Creating Carousel:",e.message))}};return(0,t.jsx)(d.J9,{initialValues:{title:"",title_ar:"",description:"",description_ar:"",main:"",rotate:"",link:"",published:!1},validationSchema:V,onSubmit:n,children:e=>{let{setFieldValue:a}=e;return(0,t.jsxs)(d.l0,{className:"theme-form",children:[(0,t.jsx)(m,{lang:"en"}),(0,t.jsx)(C,{lang:"en"}),(0,t.jsx)(w,{}),(0,t.jsx)(N,{imgName:"main",setFieldValue:a}),(0,t.jsx)(N,{imgName:"rotate",setFieldValue:a}),(0,t.jsxs)("h3",{className:"py-2 my-3",children:[(0,t.jsx)("span",{className:"text-danger",children:"*"}),"Add Details In Arabic"]}),(0,t.jsx)(m,{lang:"ar"}),(0,t.jsx)(C,{lang:"ar"}),(0,t.jsx)(j,{id:""})]})}})};let V=Z.Ry().shape({title:Z.Z_().required("Title is required"),title_ar:Z.Z_().required("Arabic Title is required"),description:Z.Z_().required("Description is required"),description_ar:Z.Z_().required("Arabic Description is required"),link:Z.Z_().url().required("Button Link is required"),published:Z.O7().required("Published status is required")});var L=r(41221),A=e=>{var a,r;let{id:s}=e,i=(0,u.useRouter)(),l=(0,_.T)(),c=(0,f.useLocale)(),{selectedValue:p,isLoading:h}=(0,_.C)(e=>e.values);(0,n.useEffect)(()=>{s&&l((0,k.M6)(s))},[s,l]);let v={title:(null==p?void 0:p.title)||"",title_ar:(null==p?void 0:p.title_ar)||"",description:(null==p?void 0:p.description)||"",description_ar:(null==p?void 0:p.description_ar)||"",link:(null==p?void 0:p.link)||"",main:(null==p?void 0:null===(a=p.images)||void 0===a?void 0:a.main)||"",rotate:(null==p?void 0:null===(r=p.images)||void 0===r?void 0:r.rotate)||"",published:(null==p?void 0:p.published)||!1},g=async e=>{let a=new FormData;Object.keys(e).forEach(r=>{"main"!==r&&"rotate"!==r&&void 0!==e[r]&&null!==e[r]&&a.append(r,String(e[r]))}),e.main&&a.append("main",e.main),e.rotate&&a.append("rotate",e.rotate);try{await l((0,k.sW)({updatedValue:a,id:s})).unwrap(),O.Am.success("Value Updated successfully!"),i.push("/".concat(c,"/dashboard/edit-home/values/"))}catch(e){e instanceof Error&&O.Am.error(e.message||"Error Updating Value.")}};return(0,t.jsx)(t.Fragment,{children:h?(0,t.jsx)(o.Z,{className:"text-center mt-2 mb-5 p-2",children:(0,t.jsx)(L.Z,{color:"primary"})}):(0,t.jsx)(d.J9,{initialValues:v,validationSchema:E,onSubmit:g,children:e=>{let{setFieldValue:a}=e;return(0,t.jsxs)(d.l0,{className:"theme-form",children:[(0,t.jsx)(m,{lang:"en"}),(0,t.jsx)(C,{lang:"en"}),(0,t.jsx)(w,{}),(0,t.jsx)(N,{imgName:"main",setFieldValue:a}),(0,t.jsx)(N,{imgName:"rotate",setFieldValue:a}),(0,t.jsxs)("h3",{className:"py-2 my-3",children:[(0,t.jsx)("span",{className:"text-danger",children:"*"}),"Add Details In Arabic"]}),(0,t.jsx)(m,{lang:"ar"}),(0,t.jsx)(C,{lang:"ar"}),(0,t.jsx)(j,{id:s})]})}})})};let E=Z.Ry().shape({title:Z.Z_().required("Title is required"),title_ar:Z.Z_().required("Arabic Title is required"),description:Z.Z_().required("Description is required"),description_ar:Z.Z_().required("Arabic Description is required"),link:Z.Z_().url().required("Button Link is required"),published:Z.O7().required("Published status is required")});var F=()=>{let e=(0,u.useSearchParams)().get("id");return(0,t.jsx)(s.Z,{fluid:!0,children:(0,t.jsx)(i.Z,{children:(0,t.jsx)(l.Z,{sm:"12",children:(0,t.jsx)(c.Z,{children:(0,t.jsx)(o.Z,{children:e?(0,t.jsx)(A,{id:e}):(0,t.jsx)(q,{})})})})})})}},45394:function(e,a,r){"use strict";r.d(a,{C:function(){return s},T:function(){return n}});var t=r(68575);let n=t.I0,s=t.v9},55489:function(e,a,r){"use strict";r.d(a,{M6:function(){return o},QV:function(){return p},jQ:function(){return c},r7:function(){return f},sW:function(){return u},x6:function(){return d}});var t=r(1455),n=r(83464),s=r(43577),i=r(64131);let l="".concat("https://stagingsrv.gazala.net/api","/edit-website/values"),c=(0,t.hg)("values/fetchValues",async(e,a)=>{let{rejectWithValue:r}=a;try{return(await n.default.get(l,{headers:{Authorization:"Bearer "+i.Z.get("auth_token")}})).data.data}catch(e){if(e instanceof s.d7){var t;return r(null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.data)||"Failed to fetch values"}}}),o=(0,t.hg)("values/fetchValueById",async(e,a)=>{let{rejectWithValue:r}=a;try{return(await n.default.get("".concat(l,"/").concat(e),{headers:{Authorization:"Bearer ".concat(i.Z.get("auth_token"))}})).data.data}catch(e){if(e instanceof s.d7){var t;return r((null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.data)||"Failed to fetch value")}}}),d=(0,t.hg)("values/addValue",async(e,a)=>{let{rejectWithValue:r}=a;try{return(await n.default.post(l,e,{headers:{Authorization:"Bearer ".concat(i.Z.get("auth_token"))}})).data}catch(e){if(e instanceof s.d7){var t;return r((null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.data)||"Failed to add value")}}}),u=(0,t.hg)("values/updateValue",async(e,a)=>{let{updatedValue:r,id:t}=e,{rejectWithValue:c}=a;try{return(await n.default.patch("".concat(l,"/").concat(t),r,{headers:{Authorization:"Bearer ".concat(i.Z.get("auth_token"))}})).data.doc}catch(e){if(e instanceof s.d7){var o;return c((null==e?void 0:null===(o=e.response)||void 0===o?void 0:o.data)||"Failed to update value")}}}),p=(0,t.hg)("values/deleteValue",async(e,a)=>{let{dispatch:r,rejectWithValue:t}=a;try{return await n.default.delete("".concat(l,"/").concat(e),{headers:{Authorization:"Bearer ".concat(i.Z.get("auth_token"))}}),r(v(e)),e}catch(e){if(e instanceof s.d7){var c;return t((null==e?void 0:null===(c=e.response)||void 0===c?void 0:c.data)||"Failed to delete value")}}}),h=(0,t.oM)({name:"values",initialState:{values:[],selectedValue:null,isLoading:!1,error:null,activeTab:"1"},reducers:{setActiveTab:(e,a)=>{e.activeTab=a.payload},selectValueById:(e,a)=>{e.selectedValue=e.values.find(e=>e._id===a.payload)||null},removeValue:(e,a)=>{e.values=e.values.filter(e=>e._id!==a.payload)}},extraReducers:e=>{e.addCase(c.pending,e=>{e.isLoading=!0,e.error=null}).addCase(c.fulfilled,(e,a)=>{e.isLoading=!1,e.values=a.payload}).addCase(c.rejected,(e,a)=>{e.isLoading=!1,e.error=a.error.message||"Failed to fetch values"}).addCase(o.pending,e=>{e.isLoading=!0,e.error=null}).addCase(o.fulfilled,(e,a)=>{e.isLoading=!1,e.selectedValue=a.payload}).addCase(o.rejected,(e,a)=>{e.isLoading=!1,e.error=a.error.message||"Failed to fetch value"}).addCase(d.pending,e=>{e.isLoading=!0,e.error=null}).addCase(d.fulfilled,(e,a)=>{e.isLoading=!1,e.values.push(a.payload)}).addCase(d.rejected,(e,a)=>{e.isLoading=!1,e.error=a.error.message||"Failed to add value"}).addCase(u.pending,e=>{e.isLoading=!0,e.error=null}).addCase(u.fulfilled,(e,a)=>{e.isLoading=!1;let r=e.values.findIndex(e=>e._id===a.payload._id);-1!==r&&(e.values[r]=a.payload)}).addCase(u.rejected,(e,a)=>{e.isLoading=!1,e.error=a.error.message||"Failed to update value"})}}),{selectValueById:m,setActiveTab:f,removeValue:v}=h.actions;a.ZP=h.reducer},43577:function(e,a,r){"use strict";r.d(a,{d7:function(){return n}});let{Axios:t,AxiosError:n,CanceledError:s,isCancel:i,CancelToken:l,VERSION:c,all:o,Cancel:d,isAxiosError:u,spread:p,toFormData:h,AxiosHeaders:m,HttpStatusCode:f,formToJSON:v,getAdapter:g,mergeConfig:j}=r(83464).default}}]);