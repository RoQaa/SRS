(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1366,4649],{29388:function(e,a,t){Promise.resolve().then(t.bind(t,2111)),Promise.resolve().then(t.bind(t,27966))},2111:function(e,a,t){"use strict";var r=t(57437),o=t(74287),n=t(54649),c=t(63524),s=t(92390),i=t(45394),l=t(64301),d=t(42586),u=t(33145),p=t(99376),g=t(2265);a.default=e=>{let{slug:a,locale:t}=e,{currentScope:f}=(0,i.C)(e=>e.scopes),v=(0,i.T)(),h=(0,d.useTranslations)("scopes"),m=(0,p.useSearchParams)().get("id");return(0,g.useEffect)(()=>{v((0,l.Eb)(m))},[v,m]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.Z,{mainPage:!1,title:h("our_scope"),slug:f&&"en"===t?f.service:null==f?void 0:f.service_ar,imgSrc:"/imgs/page-head/banner-design.jpg",locale:t}),(0,r.jsx)("div",{className:"container",children:(0,r.jsxs)("div",{className:"row mt-5",children:[(0,r.jsxs)("div",{className:"col-12 col-lg-9",children:[(0,r.jsx)("div",{className:"proj-img mb-3",children:f&&(0,r.jsx)(u.default,{src:(null==f?void 0:f.mainImg)&&"".concat("https://stagingsrv.gazala.net/api","/").concat(null==f?void 0:f.mainImg),alt:"en"===t?null==f?void 0:f.service:null==f?void 0:f.service_ar,layout:"responsive",width:1920,height:1080,priority:!0})}),(0,r.jsx)(c.Z,{item:f&&{scope:f},locale:t})]}),(0,r.jsx)("div",{className:"col-12 col-lg-3",children:(0,r.jsxs)("div",{className:"pro-side-menu",children:[(0,r.jsx)("h2",{children:h("other_scopes")}),(0,r.jsx)(n.default,{locale:t,slug:a})]})})]})}),(0,r.jsxs)("div",{className:"fluid-container form-container",style:{backgroundColor:"#eee",position:"relative",padding:"50px"},children:[(0,r.jsx)(u.default,{src:"/imgs/from-bg.jpg",alt:"",className:"form-bg",layout:"fill",objectFit:"cover"}),(0,r.jsx)(o.Z,{inner:!0,title:h("quick_enquiries")})]})]})}},54649:function(e,a,t){"use strict";t.r(a);var r=t(57437),o=t(45394),n=t(50984),c=t(64301),s=t(27648),i=t(2265);a.default=e=>{let{locale:a,slug:t,scope:l=!0,currentProject:d,currentProduct:u}=e,{productsData:p}=(0,o.C)(e=>e.products),{scopesData:g}=(0,o.C)(e=>e.scopes),f=(0,o.T)();if((0,i.useEffect)(()=>{l?f((0,c.qL)()):(async()=>{p.length<1&&await f((0,n.t2)())})()},[f,p,l]),!a||!t)return console.error("Invalid locale or slug provided to SideMenu."),null;let v=p&&p.filter(e=>e.published),h=g.filter(e=>e.published);return(0,r.jsx)("ul",{children:(l?h:v||[]).map((e,o)=>{var n,c;return(0,r.jsx)("li",{className:l||u?"en"===a&&e.slug===t||"en"!==a&&e.slug_ar===t?"active":"":e._id===(null==d?void 0:null===(n=d.category)||void 0===n?void 0:n._id)?"active":"",children:(0,r.jsx)(s.default,{href:l?"/".concat(a,"/our-scopes/").concat("en"===a?"".concat(e.slug,"?id=").concat(e._id):"".concat(e.slug_ar,"?id=").concat(e._id)):"/".concat(a,"/products/").concat("en"===a?"".concat(e.slug,"?id=").concat(e._id):"".concat(e.slug_ar,"?id=").concat(e._id)),children:l?"en"===a?e.service.toUpperCase():e.service_ar:"en"===a?null===(c=e.name)||void 0===c?void 0:c.toUpperCase():e.name_ar})},o)})})}},64301:function(e,a,t){"use strict";t.d(a,{Eb:function(){return l},kQ:function(){return d},qL:function(){return i},r7:function(){return g},zd:function(){return u}});var r=t(1455),o=t(83464),n=t(43577),c=t(64131);let s="".concat("https://stagingsrv.gazala.net/api","/edit-website/scopes"),i=(0,r.hg)("scopes/fetchScopes",async(e,a)=>{let{rejectWithValue:t}=a;try{let e=await o.default.get(s,{headers:{Authorization:"Bearer ".concat(c.Z.get("auth_token"))}});if(200!==e.status)return console.error("Error: ".concat(e.status," - ").concat(e.statusText)),[];return e.data.data}catch(e){if(console.error("Fetch scopes error:",e),e instanceof n.d7){var r;return t((null==e?void 0:null===(r=e.response)||void 0===r?void 0:r.data)||"Failed to fetch scopes")}return[]}}),l=(0,r.hg)("scopes/fetchScopeById",async(e,a)=>{let{rejectWithValue:t}=a;try{let a=await o.default.get("".concat(s,"/").concat(e),{headers:{Authorization:"Bearer ".concat(c.Z.get("auth_token"))}});if(200!==a.status)return t(a.data.message||"Failed to fetch scope item.");return a.data.data}catch(e){if(e instanceof n.d7){var r;return t((null==e?void 0:null===(r=e.response)||void 0===r?void 0:r.data)||"An unexpected error occurred.")}}}),d=(0,r.hg)("scopes/deleteScope",async(e,a)=>{let{dispatch:t,rejectWithValue:r}=a;try{let a=await o.default.delete("".concat(s,"/").concat(e),{headers:{Authorization:"Bearer ".concat(c.Z.get("auth_token"))}});if(200!==a.status)return r(a.data.message||"Failed to delete scope item.");return t(f(e)),e}catch(e){if(e instanceof n.d7){var i;return r((null==e?void 0:null===(i=e.response)||void 0===i?void 0:i.data)||"An unexpected error occurred.")}}}),u=(0,r.hg)("scopes/updateScope",async(e,a)=>{let{updatedScope:t,id:r}=e,{dispatch:i,rejectWithValue:l}=a;try{let e=await o.default.patch("".concat(s,"/").concat(r),t,{headers:{Authorization:"Bearer ".concat(c.Z.get("auth_token"))}});if(200!==e.status)return l(e.data.message||"Failed to update scope item.");let a=e.data;return i(v(a)),a}catch(e){if(e instanceof n.d7){var d;return l((null==e?void 0:null===(d=e.response)||void 0===d?void 0:d.data)||"An unexpected error occurred.")}}}),p=(0,r.oM)({name:"scopes",initialState:{scopesData:[],activeTab:"1",currentScope:null,loading:!1,error:null},reducers:{setActiveTab:(e,a)=>{e.activeTab=a.payload},removeScope:(e,a)=>{e.scopesData=e.scopesData.filter(e=>e._id!==a.payload)},setCurrentScope:(e,a)=>{e.currentScope=a.payload},clearCurrentScope:e=>{e.currentScope=null}},extraReducers:e=>{e.addCase(i.pending,e=>{e.loading=!0,e.error=null}).addCase(i.fulfilled,(e,a)=>{e.loading=!1,e.scopesData=a.payload}).addCase(i.rejected,(e,a)=>{e.loading=!1,e.error=a.error.message||"Failed to load scopes data."}).addCase(l.pending,e=>{e.loading=!0,e.error=null}).addCase(l.fulfilled,(e,a)=>{e.loading=!1,e.currentScope=a.payload}).addCase(l.rejected,(e,a)=>{e.loading=!1,e.error=a.error.message||"Unknown error"}).addCase(u.pending,e=>{e.loading=!0,e.error=null}).addCase(u.fulfilled,(e,a)=>{e.loading=!1;let t=e.scopesData.findIndex(e=>e._id===a.payload._id);-1!==t&&(e.scopesData[t]=a.payload),e.currentScope=a.payload}).addCase(u.rejected,(e,a)=>{e.loading=!1,e.error=a.error.message||"Failed to update scope item."})}}),{setActiveTab:g,removeScope:f,setCurrentScope:v,clearCurrentScope:h}=p.actions;a.ZP=p.reducer}},function(e){e.O(0,[2292,2586,3464,7648,5878,5414,2971,2117,1744],function(){return e(e.s=29388)}),_N_E=e.O()}]);