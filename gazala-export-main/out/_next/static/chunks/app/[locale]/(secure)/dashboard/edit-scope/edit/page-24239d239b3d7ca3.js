(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5106],{70919:function(e,t,r){Promise.resolve().then(r.bind(r,62600))},73215:function(e,t,r){"use strict";var n=r(2265),a=r(40718),s=r.n(a),i=r(36760),o=r.n(i),c=r(28137),l=["className","cssModule","innerRef","tag"];function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u={className:s().string,cssModule:s().object,innerRef:s().oneOfType([s().object,s().string,s().func]),tag:c.iC};function p(e){var t=e.className,r=e.cssModule,a=e.innerRef,s=e.tag,i=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,l),u=(0,c.mx)(o()(t,"card-body"),r);return n.createElement(void 0===s?"div":s,d({},i,{className:u,ref:a}))}p.propTypes=u,t.Z=p},99914:function(e,t,r){"use strict";var n=r(2265),a=r(40718),s=r.n(a),i=r(36760),o=r.n(i),c=r(28137),l=["className","cssModule","fluid","tag"];function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u={tag:c.iC,fluid:s().oneOfType([s().bool,s().string]),className:s().string,cssModule:s().object};function p(e){var t=e.className,r=e.cssModule,a=e.fluid,s=e.tag,i=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,l),u="container";!0===a?u="container-fluid":a&&(u="container-".concat(a));var p=(0,c.mx)(o()(t,u),r);return n.createElement(void 0===s?"div":s,d({},i,{className:p}))}p.propTypes=u,t.Z=p},95029:function(e,t,r){"use strict";var n=r(2265),a=r(40718),s=r.n(a),i=r(36760),o=r.n(i),c=r(28137);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"];function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){return(p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h={children:s().node,type:s().string,size:s().oneOfType([s().number,s().string]),bsSize:s().string,valid:s().bool,invalid:s().bool,tag:c.iC,innerRef:s().oneOfType([s().object,s().func,s().string]),plaintext:s().bool,addon:s().bool,className:s().string,cssModule:s().object},g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(s,e);var t,r,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=m(s);return e=t?Reflect.construct(r,arguments,m(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return f(e)}(this,e)});function s(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).getRef=t.getRef.bind(f(t)),t.focus=t.focus.bind(f(t)),t}return r=[{key:"getRef",value:function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e}},{key:"focus",value:function(){this.ref&&this.ref.focus()}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.cssModule,a=e.type,s=void 0===a?"text":a,i=e.bsSize,l=e.valid,p=e.invalid,f=e.tag,m=e.addon,h=e.plaintext,g=e.innerRef,v=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,d),y=["switch","radio","checkbox"].indexOf(s)>-1,x="textarea"===s,b="select"===s,j="range"===s,O=f||(b||x?s:"input"),N="form-control";h?(N="".concat(N,"-plaintext"),O=f||"input"):j?N="form-range":b?N="form-select":y&&(N=m?null:"form-check-input"),v.size&&/\D/g.test(v.size)&&((0,c.O4)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),i=v.size,delete v.size);var w=(0,c.mx)(o()(t,p&&"is-invalid",l&&"is-valid",!!i&&(b?"form-select-".concat(i):"form-control-".concat(i)),N),r);return("input"===O||f&&"function"==typeof f)&&(v.type="switch"===s?"checkbox":s),v.children&&!(h||"select"===s||"string"!=typeof O||"select"===O)&&((0,c.O4)('Input with a type of "'.concat(s,'" cannot have children. Please use "value"/"defaultValue" instead.')),delete v.children),n.createElement(O,u({},v,{ref:g,className:w,"aria-invalid":p}))}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(s.prototype,r),Object.defineProperty(s,"prototype",{writable:!1}),s}(n.Component);g.propTypes=h,t.Z=g},41221:function(e,t,r){"use strict";var n=r(2265),a=r(40718),s=r.n(a),i=r(36760),o=r.n(i),c=r(28137),l=["className","cssModule","type","size","color","children","tag"];function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u={tag:c.iC,type:s().oneOf(["border","grow"]),size:s().oneOf(["sm"]),color:s().oneOf(["primary","secondary","success","danger","warning","info","light","dark"]),className:s().string,cssModule:s().object,children:s().string};function p(e){var t=e.className,r=e.cssModule,a=e.type,s=void 0===a?"border":a,i=e.size,u=e.color,p=e.children,f=void 0===p?"Loading...":p,m=e.tag,h=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,l),g=(0,c.mx)(o()(t,!!i&&"spinner-".concat(s,"-").concat(i),"spinner-".concat(s),!!u&&"text-".concat(u)),r);return n.createElement(void 0===m?"div":m,d({role:"status"},h,{className:g}),f&&n.createElement("span",{className:(0,c.mx)("visually-hidden",r)},f))}p.propTypes=u,t.Z=p},49810:function(e,t,r){"use strict";r.d(t,{Fx:function(){return l},YB:function(){return i},dH:function(){return o},my:function(){return c}});var n=r(1455);let a={navId:1,tabId:1,formValue:{service:"",service_ar:"",details:"",details_ar:"",iconImg:"",mainImg:"",slug:"",slug_ar:"",published:""}},s=(0,n.oM)({name:"editScope",initialState:a,reducers:{setNavId:(e,t)=>{e.navId=t.payload},setTabId:(e,t)=>{e.tabId=t.payload},setFormValue:(e,t)=>{e.formValue={...e.formValue,[t.payload.name]:t.payload.value}},resetForm:e=>{e.formValue=a.formValue}}}),{setNavId:i,setTabId:o,setFormValue:c,resetForm:l}=s.actions;t.ZP=s.reducer},64301:function(e,t,r){"use strict";r.d(t,{Eb:function(){return l},kQ:function(){return d},qL:function(){return c},r7:function(){return f},zd:function(){return u}});var n=r(1455),a=r(83464),s=r(43577),i=r(64131);let o="".concat("https://stagingsrv.gazala.net/api","/edit-website/scopes"),c=(0,n.hg)("scopes/fetchScopes",async(e,t)=>{let{rejectWithValue:r}=t;try{let e=await a.default.get(o,{headers:{Authorization:"Bearer ".concat(i.Z.get("auth_token"))}});if(200!==e.status)return console.error("Error: ".concat(e.status," - ").concat(e.statusText)),[];return e.data.data}catch(e){if(console.error("Fetch scopes error:",e),e instanceof s.d7){var n;return r((null==e?void 0:null===(n=e.response)||void 0===n?void 0:n.data)||"Failed to fetch scopes")}return[]}}),l=(0,n.hg)("scopes/fetchScopeById",async(e,t)=>{let{rejectWithValue:r}=t;try{let t=await a.default.get("".concat(o,"/").concat(e),{headers:{Authorization:"Bearer ".concat(i.Z.get("auth_token"))}});if(200!==t.status)return r(t.data.message||"Failed to fetch scope item.");return t.data.data}catch(e){if(e instanceof s.d7){var n;return r((null==e?void 0:null===(n=e.response)||void 0===n?void 0:n.data)||"An unexpected error occurred.")}}}),d=(0,n.hg)("scopes/deleteScope",async(e,t)=>{let{dispatch:r,rejectWithValue:n}=t;try{let t=await a.default.delete("".concat(o,"/").concat(e),{headers:{Authorization:"Bearer ".concat(i.Z.get("auth_token"))}});if(200!==t.status)return n(t.data.message||"Failed to delete scope item.");return r(m(e)),e}catch(e){if(e instanceof s.d7){var c;return n((null==e?void 0:null===(c=e.response)||void 0===c?void 0:c.data)||"An unexpected error occurred.")}}}),u=(0,n.hg)("scopes/updateScope",async(e,t)=>{let{updatedScope:r,id:n}=e,{dispatch:c,rejectWithValue:l}=t;try{let e=await a.default.patch("".concat(o,"/").concat(n),r,{headers:{Authorization:"Bearer ".concat(i.Z.get("auth_token"))}});if(200!==e.status)return l(e.data.message||"Failed to update scope item.");let t=e.data;return c(h(t)),t}catch(e){if(e instanceof s.d7){var d;return l((null==e?void 0:null===(d=e.response)||void 0===d?void 0:d.data)||"An unexpected error occurred.")}}}),p=(0,n.oM)({name:"scopes",initialState:{scopesData:[],activeTab:"1",currentScope:null,loading:!1,error:null},reducers:{setActiveTab:(e,t)=>{e.activeTab=t.payload},removeScope:(e,t)=>{e.scopesData=e.scopesData.filter(e=>e._id!==t.payload)},setCurrentScope:(e,t)=>{e.currentScope=t.payload},clearCurrentScope:e=>{e.currentScope=null}},extraReducers:e=>{e.addCase(c.pending,e=>{e.loading=!0,e.error=null}).addCase(c.fulfilled,(e,t)=>{e.loading=!1,e.scopesData=t.payload}).addCase(c.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to load scopes data."}).addCase(l.pending,e=>{e.loading=!0,e.error=null}).addCase(l.fulfilled,(e,t)=>{e.loading=!1,e.currentScope=t.payload}).addCase(l.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Unknown error"}).addCase(u.pending,e=>{e.loading=!0,e.error=null}).addCase(u.fulfilled,(e,t)=>{e.loading=!1;let r=e.scopesData.findIndex(e=>e._id===t.payload._id);-1!==r&&(e.scopesData[r]=t.payload),e.currentScope=t.payload}).addCase(u.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to update scope item."})}}),{setActiveTab:f,removeScope:m,setCurrentScope:h,clearCurrentScope:g}=p.actions;t.ZP=p.reducer},62600:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return H}});var n=r(57437),a=r(2265),s=r(99914),i=r(50288),o=r(98723),c=r(41221),l=r(65051),d=r(75722),u=r(73215),p=r(79205),f=r(17851),m=r(45394),h=r(49810),g=r(5551),v=r(53514),y=r(12121),x=()=>{let{navId:e}=(0,m.C)(e=>e.editScope),t=(0,m.T)();return(0,n.jsx)(o.Z,{xxl:"3",xl:"4",className:"box-col-4e sidebar-left-wrapper mb-2 edit-product-tab",children:(0,n.jsx)(g.Z,{pills:!0,className:"sidebar-left-icons border-0",tabs:!0,children:f.HE.map((r,a)=>(0,n.jsx)(v.Z,{children:(0,n.jsxs)(y.Z,{className:"border-0",active:e===r.id,onClick:()=>t((0,h.YB)(r.id)),children:[(0,n.jsx)("div",{className:"nav-rounded",children:(0,n.jsx)("div",{className:"product-icons",children:(0,n.jsx)(p.Z,{className:"stroke-icon",iconId:r.icon})})}),(0,n.jsxs)("div",{className:"product-tab-content",children:[(0,n.jsx)("h5",{children:r.title}),(0,n.jsx)("p",{children:r.detail})]})]})},a))})})},b=r(67061),j=r(62302),O=r(50720),N=r(82097),w=r(95029),I=e=>{let{titleName:t="service",contentName:r="details",lang:s="en"}=e,{formValue:c}=(0,m.C)(e=>e.editScope),l=(0,m.T)(),d=e=>/^[\u0600-\u06FF0-9\s.,،؛:؟!"'()\[\]{}\-…&]+$/u.test(e),u=e=>/^[A-Za-z0-9\s.,:;!?'"()\[\]{}\-…&]+$/u.test(e),p=e=>"ar"===s?d(e):u(e);return(0,a.useEffect)(()=>{c&&void 0===c[t]&&l((0,h.my)({name:t,value:""})),c&&void 0===c[r]&&l((0,h.my)({name:r,value:""}))},[c,l,t,r]),(0,n.jsx)("div",{className:"sidebar-body",children:(0,n.jsx)(O.Z,{children:(0,n.jsxs)(i.Z,{className:"g-2",children:[(0,n.jsx)(o.Z,{xs:"12",children:(0,n.jsxs)(N.Z,{className:"m-0",check:!0,children:["ar"===s?S:Z,(0,n.jsx)("span",{className:"txt-danger",children:" *"})]})}),(0,n.jsx)(o.Z,{xs:"12",children:(0,n.jsxs)("div",{className:"custom-input",children:[(0,n.jsx)(w.Z,{type:"text",name:t,className:c[t]&&p(c[t])?"valid":"is-invalid",required:!0,value:c[t]||"",onChange:e=>l((0,h.my)({name:t,value:e.target.value}))}),c[t]&&!p(c[t])&&(0,n.jsx)("small",{className:"text-danger",children:"ar"===s?"Please enter a valid Arabic title.":"Please enter a valid English title."})]})}),(0,n.jsx)(o.Z,{xs:"12",children:(0,n.jsx)(N.Z,{className:"m-0",check:!0,children:"ar"===s?"Service Details (Arabic)":"Service Details"})}),(0,n.jsx)(o.Z,{xs:"12",children:(0,n.jsxs)("div",{className:"custom-input",children:[(0,n.jsx)(w.Z,{type:"textarea",name:r,className:c[r]&&p(c[r])?"valid":"is-invalid",required:!0,value:c[r]||"",onChange:e=>l((0,h.my)({name:r,value:e.target.value}))}),c[r]&&!p(c[r])&&(0,n.jsx)("small",{className:"text-danger",children:"ar"===s?"Please enter valid Arabic details.":"Please enter valid English details."})]})})]})})})};let Z="Service",S="Service (Arabic)";var P=r(94926),k=r(27648),C=r(71008),z=r(180),E=r(48055),_=()=>{let[e,t]=(0,a.useState)([]),r=(0,m.T)(),{formValue:s}=(0,m.C)(e=>e.editScope),i=e=>{if(e.length>0){var n;t(e);let a=e.filter(e=>!0===e.valid);r((0,h.my)({name:"mainImg",value:null===(n=a[0])||void 0===n?void 0:n.file}))}},o=n=>{e.length>0&&(t(e.filter(e=>e.id!==n)),r((0,h.my)({name:"mainImg",value:""})))};return(0,a.useEffect)(()=>{(async()=>{if((null==s?void 0:s.mainImg)&&!Array.isArray(s.mainImg)&&"string"==typeof s.mainImg)try{let e=await (0,z.f)("".concat("https://stagingsrv.gazala.net/api","/").concat(s.mainImg),(0,E.w)("".concat("https://stagingsrv.gazala.net/api","/").concat(s.mainImg))),r={id:e.name,name:e.name,size:e.size,type:e.type,valid:!0,file:e,preview:!0};t([r])}catch(e){console.error("Failed to convert main image URL to file:",e)}})()},[null==s?void 0:s.mainImg]),(0,n.jsx)("div",{className:"sidebar-body",children:(0,n.jsxs)("div",{className:"product-upload",children:[(0,n.jsxs)("p",{children:["Scope Main Image",(0,n.jsx)("span",{className:"txt-danger",children:" *"})," "]}),(0,n.jsxs)(P.fh,{onChange:e=>i(e),value:e,maxFiles:1,header:!1,footer:!1,minHeight:"80px",name:"mainImg",children:[e.map(e=>(0,n.jsx)(P.Q$,{...e,onDelete:o,info:!0,preview:!0},e.id)),0===e.length&&(0,n.jsxs)("div",{className:"dz-message needsclick",children:[(0,n.jsx)(p.Z,{iconId:"file-upload"}),(0,n.jsxs)("h5",{children:["Drag your main image here, or",(0,n.jsx)(k.default,{className:"txt-primary",href:C.zOc,children:"\xa0browse"})]}),(0,n.jsx)("span",{className:"note needsclick",children:"SVG,PNG,JPG or GIF"})]})]})]})})},F=()=>{let[e,t]=(0,a.useState)([]),r=(0,m.T)(),{formValue:s}=(0,m.C)(e=>e.editScope),i=e=>{if(e.length>0){t(e);let n=e.filter(e=>!0===e.valid);r((0,h.my)({name:"iconImg",value:n[0].file}))}},o=n=>{e.length>0&&(t(e.filter(e=>e.id!==n)),r((0,h.my)({name:"iconImg",value:""})))};return(0,a.useEffect)(()=>{(async()=>{if((null==s?void 0:s.iconImg)&&"string"==typeof s.iconImg)try{let e=await (0,z.f)("".concat("https://stagingsrv.gazala.net/api","/").concat(s.iconImg),(0,E.w)("".concat("https://stagingsrv.gazala.net/api","/").concat(s.iconImg))),r={id:e.name,name:e.name,size:e.size,type:e.type,valid:!0,file:e,preview:!0};t([r])}catch(e){console.error("Failed to convert icon image URL to file:",e)}})()},[null==s?void 0:s.iconImg]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"sidebar-body mb-4",children:(0,n.jsxs)("div",{className:"icon-image-upload",children:[(0,n.jsxs)("p",{children:["Scope Icon Image",(0,n.jsx)("span",{className:"txt-danger",children:" *"})]}),(0,n.jsxs)(P.fh,{onChange:e=>i(e),value:e,maxFiles:1,header:!1,footer:!1,minHeight:"80px",name:"iconImg",children:[e.map(e=>(0,n.jsx)(P.Q$,{...e,onDelete:o,info:!0,preview:!0},e.id)),0===e.length&&(0,n.jsxs)("div",{className:"dz-message needsclick",children:[(0,n.jsx)(p.Z,{iconId:"file-upload"}),(0,n.jsxs)("h5",{children:["Drag your icon image here, or",(0,n.jsx)(k.default,{className:"txt-primary",href:C.zOc,children:"\xa0browse"})]}),(0,n.jsx)("span",{className:"note needsclick",children:"SVG,PNG,JPG or GIF"})]})]})]})}),(0,n.jsx)(_,{})]})},R=()=>{let e=(0,m.T)(),{formValue:t}=(0,m.C)(e=>e.editScope),r=t=>{e((0,h.my)({name:"published",value:t}))};return(0,n.jsx)(o.Z,{sm:"6",children:(0,n.jsx)(i.Z,{children:(0,n.jsxs)(o.Z,{xs:"12",children:[(0,n.jsxs)(N.Z,{for:"validationServer01",check:!0,children:["Publish",(0,n.jsx)("span",{className:"txt-danger",children:" *"})]}),(0,n.jsxs)(w.Z,{type:"select",name:"published",value:t.published,onChange:e=>r(e.target.value),children:[(0,n.jsx)("option",{value:"true",children:"Publish"}),(0,n.jsx)("option",{value:"false",children:"UnPublish"})]}),(0,n.jsx)("p",{className:"f-light",children:"Choose the status"})]})})})},T=()=>(0,n.jsx)("div",{className:"sidebar-body",children:(0,n.jsx)(O.Z,{children:(0,n.jsx)(i.Z,{className:"g-lg-4 g-3",children:(0,n.jsx)(o.Z,{xs:"12",children:(0,n.jsx)(i.Z,{className:"g-3",children:(0,n.jsx)(R,{})})})})})}),A=r(64301),D=r(42586),M=r(99376),B=r(18206),L=r(80201),U=e=>{let{slug:t}=e,{navId:r,formValue:a,tabId:s}=(0,m.C)(e=>e.editScope),i=(0,m.T)(),o=(0,M.useRouter)(),c=(0,D.useLocale)(),l=async e=>{try{let r=await i((0,A.zd)({updatedScope:e,id:t})).unwrap();r.status?(B.Am.success("Scope updated successfully!"),o.push("/".concat(c,"/dashboard/edit-scope/")),i((0,h.Fx)()),i((0,h.YB)(1))):B.Am.error((null==r?void 0:r.message)||"Failed to update scope data.")}catch(e){e instanceof Error?B.Am.error(e.message):B.Am.error("Error submitting data. Please try again.")}},d=()=>1!==r||a.service&&a.details?2!==r||a.service_ar&&a.details_ar?3!==r||!!a.iconImg&&!!a.mainImg||(B.Am.error("Please upload both icon and main images."),!1):(B.Am.error("Please fill all fields in Arabic details."),!1):(B.Am.error("Please fill all fields in English details."),!1);return(0,n.jsxs)("div",{className:"product-buttons border-0",children:[r>1&&(0,n.jsx)(L.Z,{color:"transparent",onClick:()=>{r>1&&(s>1?i((0,h.dH)(s-1)):i((0,h.YB)(r-1)))},children:(0,n.jsxs)("div",{className:"d-flex align-items-center gap-sm-2 gap-1",children:[(0,n.jsx)(p.Z,{iconId:"back-arrow"}),C.L$3]})}),(0,n.jsx)(L.Z,{color:"transparent",className:"ms-2",onClick:()=>{if(d()){if(1===r)i((0,h.YB)(2));else if(2===r)i((0,h.YB)(3));else if(3===r)i((0,h.YB)(4));else if(4===r){let e=new FormData;e.append("service",a.service),e.append("service_ar",a.service_ar),e.append("details",a.details),e.append("details_ar",a.details_ar),a.iconImg&&"string"!=typeof a.iconImg&&e.append("iconImg",a.iconImg),a.mainImg&&"string"!=typeof a.mainImg&&e.append("mainImg",a.mainImg),e.append("published",a.published),l(e)}}},children:(0,n.jsxs)("div",{className:"d-flex align-items-center gap-sm-2 gap-1",children:[4===r?"Update":"Next"," ",(0,n.jsx)(p.Z,{iconId:"front-arrow"})]})})]})},V=e=>{let{slug:t}=e,{navId:r}=(0,m.C)(e=>e.editScope);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{xxl:"9",xl:"8",className:"box-col-8 position-relative",children:(0,n.jsxs)(b.Z,{activeTab:r,children:[(0,n.jsx)(j.Z,{tabId:1,children:(0,n.jsx)(I,{titleName:"service",contentName:"details",lang:"en"})}),(0,n.jsx)(j.Z,{tabId:2,children:(0,n.jsx)(I,{titleName:"service_ar",contentName:"details_ar",lang:"ar"})}),(0,n.jsx)(j.Z,{tabId:3,children:(0,n.jsx)(F,{})}),(0,n.jsx)(j.Z,{tabId:4,children:(0,n.jsx)(T,{})})]})}),(0,n.jsx)(U,{slug:t})]})},G=a.memo(e=>{let{slug:t}=e;return(0,n.jsxs)(i.Z,{className:"g-xl-5 g-3",children:[(0,n.jsx)(x,{}),(0,n.jsx)(V,{slug:t})]})}),Y=e=>{let{slug:t}=e,r=(0,m.T)(),{currentScope:p,loading:f}=(0,m.C)(e=>e.scopes);return((0,a.useEffect)(()=>{r((0,A.Eb)(t))},[r,t]),(0,a.useEffect)(()=>{p&&Object.keys(p).forEach(e=>{if("date"===e){let t=new Date(p[e]);isNaN(t.getTime())?console.error("Invalid date value:",p[e]):r((0,h.my)({name:e,value:t}))}else r((0,h.my)({name:e,value:p[e]}))})},[p,r]),f)?(0,n.jsx)(s.Z,{fluid:!0,children:(0,n.jsx)(i.Z,{children:(0,n.jsx)(o.Z,{xs:"12",className:"text-center",children:(0,n.jsx)(c.Z,{color:"primary"})})})}):(0,n.jsx)(s.Z,{fluid:!0,children:(0,n.jsx)(i.Z,{children:(0,n.jsx)(o.Z,{xs:"12",children:(0,n.jsxs)(l.Z,{children:[(0,n.jsx)(d.Z,{}),(0,n.jsx)(u.Z,{children:(0,n.jsx)(G,{slug:t})})]})})})})},H=()=>{let e=(0,M.useSearchParams)().get("id");return(0,n.jsx)(Y,{slug:e})}},180:function(e,t,r){"use strict";r.d(t,{f:function(){return n}});let n=async(e,t)=>{if(e instanceof File)return e;if(!e||"string"!=typeof e)throw Error("Invalid URL provided: "+e);try{let r=await fetch(e);if(!r.ok){if(404===r.status)return console.warn("File not found at URL: ".concat(e)),new File([],t);throw Error("Failed to fetch image from URL: ".concat(e))}let n=await r.blob();return new File([n],t,{type:n.type})}catch(e){return console.error("Error converting URL to file:",e),new File([],t)}}},48055:function(e,t,r){"use strict";r.d(t,{w:function(){return n}});let n=e=>{try{return new URL(e).pathname.split("/").pop()||"default_filename.png"}catch(t){return console.error("Invalid URL provided:",e),"default_filename.png"}}},43577:function(e,t,r){"use strict";r.d(t,{d7:function(){return a}});let{Axios:n,AxiosError:a,CanceledError:s,isCancel:i,CancelToken:o,VERSION:c,all:l,Cancel:d,isAxiosError:u,spread:p,toFormData:f,AxiosHeaders:m,HttpStatusCode:h,formToJSON:g,getAdapter:v,mergeConfig:y}=r(83464).default}},function(e){e.O(0,[2292,2586,3464,7648,3537,8206,6474,3181,1008,4196,2971,2117,1744],function(){return e(e.s=70919)}),_N_E=e.O()}]);