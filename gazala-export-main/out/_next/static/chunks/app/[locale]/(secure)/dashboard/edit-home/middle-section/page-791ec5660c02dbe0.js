(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4088],{17278:function(e,t,n){Promise.resolve().then(n.bind(n,49e3))},95029:function(e,t,n){"use strict";var r=n(2265),i=n(40718),a=n.n(i),o=n(36760),l=n.n(o),c=n(28137);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"];function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g={children:a().node,type:a().string,size:a().oneOfType([a().number,a().string]),bsSize:a().string,valid:a().bool,invalid:a().bool,tag:c.iC,innerRef:a().oneOfType([a().object,a().func,a().string]),plaintext:a().bool,addon:a().bool,className:a().string,cssModule:a().object},m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(a,e);var t,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,n=h(a);return e=t?Reflect.construct(n,arguments,h(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return p(e)}(this,e)});function a(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).getRef=t.getRef.bind(p(t)),t.focus=t.focus.bind(p(t)),t}return n=[{key:"getRef",value:function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e}},{key:"focus",value:function(){this.ref&&this.ref.focus()}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.cssModule,i=e.type,a=void 0===i?"text":i,o=e.bsSize,d=e.valid,f=e.invalid,p=e.tag,h=e.addon,g=e.plaintext,m=e.innerRef,v=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,s),y=["switch","radio","checkbox"].indexOf(a)>-1,b="textarea"===a,x="select"===a,j="range"===a,w=p||(x||b?a:"input"),O="form-control";g?(O="".concat(O,"-plaintext"),w=p||"input"):j?O="form-range":x?O="form-select":y&&(O=h?null:"form-check-input"),v.size&&/\D/g.test(v.size)&&((0,c.O4)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),o=v.size,delete v.size);var S=(0,c.mx)(l()(t,f&&"is-invalid",d&&"is-valid",!!o&&(x?"form-select-".concat(o):"form-control-".concat(o)),O),n);return("input"===w||p&&"function"==typeof p)&&(v.type="switch"===a?"checkbox":a),v.children&&!(g||"select"===a||"string"!=typeof w||"select"===w)&&((0,c.O4)('Input with a type of "'.concat(a,'" cannot have children. Please use "value"/"defaultValue" instead.')),delete v.children),r.createElement(w,u({},v,{ref:m,className:S,"aria-invalid":f}))}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(a.prototype,n),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component);m.propTypes=g,t.Z=m},41221:function(e,t,n){"use strict";var r=n(2265),i=n(40718),a=n.n(i),o=n(36760),l=n.n(o),c=n(28137),d=["className","cssModule","type","size","color","children","tag"];function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u={tag:c.iC,type:a().oneOf(["border","grow"]),size:a().oneOf(["sm"]),color:a().oneOf(["primary","secondary","success","danger","warning","info","light","dark"]),className:a().string,cssModule:a().object,children:a().string};function f(e){var t=e.className,n=e.cssModule,i=e.type,a=void 0===i?"border":i,o=e.size,u=e.color,f=e.children,p=void 0===f?"Loading...":f,h=e.tag,g=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,d),m=(0,c.mx)(l()(t,!!o&&"spinner-".concat(a,"-").concat(o),"spinner-".concat(a),!!u&&"text-".concat(u)),n);return r.createElement(void 0===h?"div":h,s({role:"status"},g,{className:m}),p&&r.createElement("span",{className:(0,c.mx)("visually-hidden",n)},p))}f.propTypes=u,t.Z=f},79205:function(e,t,n){"use strict";var r=n(57437);n(2265),t.Z=e=>{let{iconId:t,className:n,style:i}=e;return(0,r.jsx)("svg",{className:n,style:i,children:(0,r.jsx)("use",{href:"/assets/svg/icon-sprite.svg#".concat(t)})})}},49e3:function(e,t,n){"use strict";n.d(t,{default:function(){return z}});var r=n(57437),i=n(41221),a=n(65051),o=n(2265),l=n(45394),c=n(77314),d=n(50288),s=n(98723),u=n(43207),f=n(82097),p=n(95029),h=n(18206),g=n(80201);let m=e=>{let{loading:t}=e;return(0,r.jsx)(d.Z,{children:(0,r.jsx)(s.Z,{children:(0,r.jsx)("div",{className:"text-end",children:(0,r.jsx)(g.Z,{type:"submit",color:t?"secondary":"primary",className:"me-3",disabled:t,children:t?(0,r.jsxs)(r.Fragment,{children:["Saving... ",(0,r.jsx)(i.Z,{size:"sm"})]}):"Save"})})})})};var v=n(34422),y=n(94926),b=n(79205),x=n(27648),j=n(71008),w=n(180),O=n(48055);let S=["image/jpeg","image/png","image/gif","image/webp"];var T=e=>{let{setFieldValue:t,oldThumbnail:n}=e,[i,a]=(0,o.useState)([]),[l,d]=(0,o.useState)(null),s=e=>{if(e.file){if(!S.includes(e.file.type))return h.Am.error("Invalid file type. Allowed types are PNG, JPEG, GIF, and WebP."),!1;if(e.file.size>5242880)return h.Am.error("File size exceeds 2 MB limit."),!1}return!0},u=e=>{e.file instanceof File?(d(e),t("backgroundImg",e.file)):console.error("Invalid file provided for Image.")};return(0,o.useEffect)(()=>{(async()=>{if(n)try{let e=(0,O.w)(n),t=await (0,w.f)(n,e);if(t instanceof File){let e={id:t.name,file:t,name:t.name,size:t.size,type:t.type,preview:!0};d(e)}else console.error("Image is not a valid file.")}catch(e){console.error("Failed to load Image:",e)}})()},[n]),(0,r.jsx)("div",{className:"sidebar-body mt-4",children:(0,r.jsxs)("div",{className:"product-upload",children:[(0,r.jsxs)("p",{children:["Middle Section Background Image",(0,r.jsx)("span",{className:"txt-danger",children:" *"})]}),(0,r.jsxs)(y.fh,{onChange:e=>{let t=e.filter(s);t.length>0&&u(t[0])},value:l?[l]:[],maxFiles:1,header:!1,footer:!1,minHeight:"80px",name:"backgroundImg",children:[l&&(0,r.jsx)(y.Q$,{...l,onDelete:()=>{d(null),t("backgroundImg",null)},info:!0,preview:!0},l.id),0===i.length&&!l&&(0,r.jsxs)("div",{className:"dz-message needsclick",children:[(0,r.jsx)(b.Z,{iconId:"file-upload"}),(0,r.jsxs)("h5",{children:["Drag your image here, or",(0,r.jsx)(x.default,{className:"txt-primary",href:j.zOc,children:"\xa0browse"})]}),(0,r.jsx)("span",{className:"note needsclick",children:"SVG, PNG, JPG or GIF"})]})]}),(0,r.jsx)(c.Bc,{name:"backgroundImg",component:"span",className:"text-danger"}),(0,r.jsx)("br",{})]})})},_=n(26655),Z=e=>{var t,n,i,a,g;let{middleSection:v}=e,[y,b]=(0,o.useState)(!1),x=(0,l.T)(),j=v?{titleOne:(null===(t=v[0])||void 0===t?void 0:t.titleOne)||"",titleOne_ar:(null===(n=v[0])||void 0===n?void 0:n.titleOne_ar)||"",titleTwo:(null===(i=v[0])||void 0===i?void 0:i.titleTwo)||"",titleTwo_ar:(null===(a=v[0])||void 0===a?void 0:a.titleTwo_ar)||"",backgroundImg:(null===(g=v[0])||void 0===g?void 0:g.backgroundImg)||""}:{titleOne:"",titleOne_ar:"",titleTwo:"",titleTwo_ar:"",backgroundImg:""},w=async e=>{b(!0);let t=new FormData;Object.keys(e).forEach(n=>{void 0!==e[n]&&null!==e[n]&&t.append(n,e[n])});try{if(0===v.length)(await x((0,_.bz)(t)).unwrap()).status?h.Am.success("Middle Section created successfully!"):h.Am.error("Failed to create Middle Section");else{var n;await x((0,_.iV)({updatedData:t,id:null===(n=v[0])||void 0===n?void 0:n._id})).unwrap(),h.Am.success("Middle Section updated successfully!")}}catch(e){h.Am.error("Error updating Middle Section."),console.error("Error updating Middle Section:",e)}b(!1)};return(0,r.jsx)(c.J9,{initialValues:j,validationSchema:N,onSubmit:w,children:e=>{var t;let{setFieldValue:n}=e;return(0,r.jsxs)(c.l0,{className:"theme-form",children:[(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(s.Z,{md:"6",children:(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(f.Z,{for:"titleOne",children:"Title One"}),(0,r.jsx)(c.gN,{name:"titleOne",children:e=>{let{field:t}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)(p.Z,{...t,placeholder:"Enter Title One"}),(0,r.jsx)(c.Bc,{name:"titleOne",component:"div",className:"text-danger"})]})}})]})}),(0,r.jsx)(s.Z,{md:"6",children:(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(f.Z,{for:"titleOne_ar",children:"Title One (Ar)"}),(0,r.jsx)(c.gN,{name:"titleOne_ar",children:e=>{let{field:t}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)(p.Z,{...t,placeholder:"Enter Title One In Arabic"}),(0,r.jsx)(c.Bc,{name:"titleOne_ar",component:"div",className:"text-danger"})]})}})]})})]}),(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(s.Z,{md:"6",children:(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(f.Z,{for:"titleTwo",children:"Title Two"}),(0,r.jsx)(c.gN,{name:"titleTwo",children:e=>{let{field:t}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)(p.Z,{...t,placeholder:"Enter Title Two"}),(0,r.jsx)(c.Bc,{name:"titleTwo",component:"div",className:"text-danger"})]})}})]})}),(0,r.jsx)(s.Z,{md:"6",children:(0,r.jsxs)(u.Z,{children:[(0,r.jsx)(f.Z,{for:"titleTwo_ar",children:"Title Two (Ar)"}),(0,r.jsx)(c.gN,{name:"titleTwo_ar",children:e=>{let{field:t}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)(p.Z,{...t,placeholder:"Enter Title Two In Arabic"}),(0,r.jsx)(c.Bc,{name:"titleTwo_ar",component:"div",className:"text-danger"})]})}})]})})]}),(0,r.jsx)(T,{setFieldValue:n,oldThumbnail:v.length>0?"".concat("https://stagingsrv.gazala.net/api","/").concat(null===(t=v[0])||void 0===t?void 0:t.backgroundImg):""}),(0,r.jsx)(m,{loading:y})]})}})};let N=v.Ry({titleOne:v.Z_().required("Title One is required").min(3,"Title One must be at least 3 characters long"),titleTwo:v.Z_().required("Title Two is required").min(3,"Title Two must be at least 3 characters long"),titleOne_ar:v.Z_().required("Title One is required").min(3,"Title One must be at least 3 characters long"),titleTwo_ar:v.Z_().required("Title Two is required").min(3,"Title Two must be at least 3 characters long"),backgroundImg:v.nK().required("Background Image is required")}),k=()=>{let e=(0,l.T)(),t=(0,l.C)(e=>e.middleSection.data),n=(0,l.C)(e=>e.middleSection.loading),r=(0,l.C)(e=>e.middleSection.error);return(0,o.useEffect)(()=>{e((0,_.Wi)())},[e]),{middleSection:t,loading:n,error:r,dispatch:e}};var z=()=>{let{middleSection:e,loading:t}=k();return(0,r.jsx)(r.Fragment,{children:t?(0,r.jsx)("div",{className:"text-center py-5",children:(0,r.jsx)(i.Z,{color:"primary"})}):(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-weight-bold text-xl mb-8 text-center my-4",children:"Middle Section"}),(0,r.jsx)(a.Z,{body:!0,children:(0,r.jsx)(Z,{middleSection:null!=e?e:[]})})]})})}},45394:function(e,t,n){"use strict";n.d(t,{C:function(){return a},T:function(){return i}});var r=n(68575);let i=r.I0,a=r.v9},26655:function(e,t,n){"use strict";n.d(t,{Wi:function(){return c},bz:function(){return s},iV:function(){return u}});var r=n(1455),i=n(83464),a=n(43577),o=n(64131);let l="".concat("https://stagingsrv.gazala.net/api","/edit-website/middle-section"),c=(0,r.hg)("middleSection/fetchMiddleSection",async(e,t)=>{let{rejectWithValue:n}=t;try{return(await i.default.get(l,{headers:{Authorization:"Bearer ".concat(o.Z.get("auth_token"))}})).data.data}catch(e){var r;if(e instanceof a.d7)return n((null==e?void 0:null===(r=e.response)||void 0===r?void 0:r.data)||"Failed to fetch Middle Section data.")}}),d=(0,r.hg)("middleSection/fetchOneMiddleSection",async(e,t)=>{let{rejectWithValue:n}=t;try{return(await i.default.get("".concat(l,"/").concat(e),{headers:{Authorization:"Bearer ".concat(o.Z.get("auth_token"))}})).data.data}catch(e){var r;if(e instanceof a.d7)return n((null==e?void 0:null===(r=e.response)||void 0===r?void 0:r.data)||"Failed to fetch Middle Section data.")}}),s=(0,r.hg)("middleSection/createMiddleSection",async(e,t)=>{let{rejectWithValue:n}=t;try{return(await i.default.post(l,e,{headers:{Authorization:"Bearer ".concat(o.Z.get("auth_token"))}})).data}catch(e){if(e instanceof a.d7){var r;return n((null==e?void 0:null===(r=e.response)||void 0===r?void 0:r.data)||"Failed to Add new Middle Section data.")}}}),u=(0,r.hg)("middleSection/updateMiddleSection",async(e,t)=>{let{updatedData:n,id:r}=e,{rejectWithValue:c}=t;try{return(await i.default.patch("".concat(l,"/").concat(r),n,{headers:{Authorization:"Bearer ".concat(o.Z.get("auth_token"))}})).data.doc}catch(e){if(e instanceof a.d7){var d;return c((null==e?void 0:null===(d=e.response)||void 0===d?void 0:d.data)||"Failed to update Middle Section data.")}}});(0,r.hg)("middleSection/deleteMiddleSection",async(e,t)=>{let{rejectWithValue:n}=t;try{return(await i.default.delete("".concat(l,"/").concat(e),{headers:{Authorization:"Bearer ".concat(o.Z.get("auth_token"))}})).data}catch(e){if(e instanceof a.d7){var r;return n((null==e?void 0:null===(r=e.response)||void 0===r?void 0:r.data)||"Failed to delete Middle Section data.")}}});let f=(0,r.oM)({name:"middleSection",initialState:{data:[],loading:!1,error:null},reducers:{resetMiddleSectionState:e=>{e.data=[],e.loading=!1,e.error=null}},extraReducers:e=>{e.addCase(c.pending,e=>{e.loading=!0,e.error=null}),e.addCase(c.fulfilled,(e,t)=>{t.payload&&(e.data=t.payload),e.loading=!1}),e.addCase(c.rejected,(e,t)=>{var n;e.loading=!1,e.error=null!==(n=t.payload)&&void 0!==n?n:"An error occurred while fetching data."}),e.addCase(d.pending,e=>{e.loading=!0,e.error=null}),e.addCase(d.fulfilled,(e,t)=>{t.payload&&(e.data=[t.payload]),e.loading=!1}),e.addCase(d.rejected,(e,t)=>{var n;e.loading=!1,e.error=null!==(n=t.payload)&&void 0!==n?n:"An error occurred while fetching data."}),e.addCase(s.pending,e=>{e.loading=!0,e.error=null}),e.addCase(s.fulfilled,(e,t)=>{t.payload&&(e.data=(e.data||[]).concat(t.payload.data)),e.loading=!1}),e.addCase(s.rejected,(e,t)=>{var n;e.loading=!1,e.error=null!==(n=t.payload)&&void 0!==n?n:"An error occurred while creating data."}),e.addCase(u.pending,e=>{e.loading=!0,e.error=null}),e.addCase(u.fulfilled,(e,t)=>{t.payload&&(e.data=e.data.map(e=>{var n;return(null==e?void 0:e._id)===(null===(n=t.payload)||void 0===n?void 0:n._id)?t.payload:e})),e.loading=!1}),e.addCase(u.rejected,(e,t)=>{var n;e.loading=!1,e.error=null!==(n=t.payload)&&void 0!==n?n:"An error occurred while updating data."})}}),{resetMiddleSectionState:p}=f.actions;t.ZP=f.reducer},180:function(e,t,n){"use strict";n.d(t,{f:function(){return r}});let r=async(e,t)=>{if(e instanceof File)return e;if(!e||"string"!=typeof e)throw Error("Invalid URL provided: "+e);try{let n=await fetch(e);if(!n.ok){if(404===n.status)return console.warn("File not found at URL: ".concat(e)),new File([],t);throw Error("Failed to fetch image from URL: ".concat(e))}let r=await n.blob();return new File([r],t,{type:r.type})}catch(e){return console.error("Error converting URL to file:",e),new File([],t)}}},48055:function(e,t,n){"use strict";n.d(t,{w:function(){return r}});let r=e=>{try{return new URL(e).pathname.split("/").pop()||"default_filename.png"}catch(t){return console.error("Invalid URL provided:",e),"default_filename.png"}}},43577:function(e,t,n){"use strict";n.d(t,{d7:function(){return i}});let{Axios:r,AxiosError:i,CanceledError:a,isCancel:o,CancelToken:l,VERSION:c,all:d,Cancel:s,isAxiosError:u,spread:f,toFormData:p,AxiosHeaders:h,HttpStatusCode:g,formToJSON:m,getAdapter:v,mergeConfig:y}=n(83464).default}},function(e){e.O(0,[2292,3464,7648,3537,8206,6474,4520,1008,2971,2117,1744],function(){return e(e.s=17278)}),_N_E=e.O()}]);