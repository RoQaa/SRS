(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8108],{36403:function(e,t,r){Promise.resolve().then(r.bind(r,72689))},80551:function(e,t,r){"use strict";var n=r(2265),a=r(40718),o=r.n(a);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var i=(0,n.forwardRef)(function(e,t){var r=e.color,a=e.size,o=void 0===a?24:a,i=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,["color","size"]);return n.createElement("svg",c({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:void 0===r?"currentColor":r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),n.createElement("circle",{cx:"12",cy:"12",r:"10"}),n.createElement("circle",{cx:"12",cy:"12",r:"6"}),n.createElement("circle",{cx:"12",cy:"12",r:"2"}))});i.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},i.displayName="Target",t.Z=i},32300:function(e,t,r){"use strict";var n=r(2265),a=r(40718),o=r.n(a),c=r(36760),i=r.n(c),s=r(28137),l=["className","cssModule","color","innerRef","pill","tag"];function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var u={children:o().node,className:o().string,color:o().string,cssModule:o().object,innerRef:o().oneOfType([o().object,o().func,o().string]),pill:o().bool,tag:s.iC};function f(e){var t=e.className,r=e.cssModule,a=e.color,o=e.innerRef,c=e.pill,u=e.tag,f=void 0===u?"span":u,p=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,l),h=(0,s.mx)(i()(t,"badge","bg-"+(void 0===a?"secondary":a),!!(void 0!==c&&c)&&"rounded-pill"),r);return p.href&&"span"===f&&(f="a"),n.createElement(f,d({},p,{className:h,ref:o}))}f.propTypes=u,t.Z=f},95029:function(e,t,r){"use strict";var n=r(2265),a=r(40718),o=r.n(a),c=r(36760),i=r.n(c),s=r(28137);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"];function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m={children:o().node,type:o().string,size:o().oneOfType([o().number,o().string]),bsSize:o().string,valid:o().bool,invalid:o().bool,tag:s.iC,innerRef:o().oneOfType([o().object,o().func,o().string]),plaintext:o().bool,addon:o().bool,className:o().string,cssModule:o().object},y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(o,e);var t,r,a=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=h(o);return e=t?Reflect.construct(r,arguments,h(this).constructor):r.apply(this,arguments),function(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return p(e)}(this,e)});function o(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).getRef=t.getRef.bind(p(t)),t.focus=t.focus.bind(p(t)),t}return r=[{key:"getRef",value:function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e}},{key:"focus",value:function(){this.ref&&this.ref.focus()}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.cssModule,a=e.type,o=void 0===a?"text":a,c=e.bsSize,l=e.valid,f=e.invalid,p=e.tag,h=e.addon,m=e.plaintext,y=e.innerRef,b=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,d),g=["switch","radio","checkbox"].indexOf(o)>-1,v="textarea"===o,j="select"===o,x="range"===o,O=p||(j||v?o:"input"),P="form-control";m?(P="".concat(P,"-plaintext"),O=p||"input"):x?P="form-range":j?P="form-select":g&&(P=h?null:"form-check-input"),b.size&&/\D/g.test(b.size)&&((0,s.O4)('Please use the prop "bsSize" instead of the "size" to bootstrap\'s input sizing.'),c=b.size,delete b.size);var w=(0,s.mx)(i()(t,f&&"is-invalid",l&&"is-valid",!!c&&(j?"form-select-".concat(c):"form-control-".concat(c)),P),r);return("input"===O||p&&"function"==typeof p)&&(b.type="switch"===o?"checkbox":o),b.children&&!(m||"select"===o||"string"!=typeof O||"select"===O)&&((0,s.O4)('Input with a type of "'.concat(o,'" cannot have children. Please use "value"/"defaultValue" instead.')),delete b.children),n.createElement(O,u({},b,{ref:y,className:w,"aria-invalid":f}))}}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(o.prototype,r),Object.defineProperty(o,"prototype",{writable:!1}),o}(n.Component);y.propTypes=m,t.Z=y},13768:function(e,t,r){"use strict";var n=r(57437),a=r(2265),o=r(75722);t.Z=e=>{let{title:t,span:r,headClass:c,icon:i,tagClass:s}=e;return(0,n.jsxs)(o.Z,{className:c||"",children:[(0,n.jsxs)("h4",{className:s||"",children:[i&&i,t]}),r&&(0,n.jsx)("p",{className:"f-m-light mt-1",children:r.map((e,t)=>(0,n.jsxs)(a.Fragment,{children:[null==e?void 0:e.text," ",e.code&&(0,n.jsx)("code",{children:e.code})," ",e.mark&&(0,n.jsx)("mark",{children:e.mark})]},t))})]})}},72248:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(57437),a=r(2265),o=r(82097),c=r(95029),i=r(65051),s=r(73215),l=r(91105),d=r(71008),u=r(13768),f=e=>{let{data:t,columns:r,filterKey:f,title:p}=e,[h,m]=(0,a.useState)(""),y=Array.isArray(t)&&t.filter(e=>{var t;return null===(t=e[f])||void 0===t?void 0:t.toString().toLowerCase().includes(h.toLowerCase())}),b=(0,a.useMemo)(()=>(0,n.jsxs)("div",{id:"basic-1_filter",className:"dataTables_filter d-flex align-items-center",children:[(0,n.jsxs)(o.Z,{className:"me-1",children:[d.cCG,":"]}),(0,n.jsx)(c.Z,{onChange:e=>m(e.target.value),type:"search",value:h})]}),[h]);return(0,n.jsxs)(i.Z,{className:"basic-data-table",children:[(0,n.jsx)(u.Z,{title:p,headClass:"pb-0 card-no-border"}),(0,n.jsx)(s.Z,{children:(0,n.jsx)("div",{className:"table-responsive",children:(0,n.jsx)(l.ZP,{className:"theme-scrollbar",data:y||[],columns:r,striped:!0,highlightOnHover:!0,pagination:!0,subHeader:!0,subHeaderComponent:b})})})]})},p=e=>{let{title:t,data:r,columns:a,filterKey:o}=e;return(0,n.jsx)(f,{data:r,columns:a,filterKey:o,title:t})}},72689:function(e,t,r){"use strict";r.d(t,{default:function(){return N}});var n=r(57437),a=r(2265),o=r(32300),c=r(99914),i=r(50288),s=r(98723),l=r(41221),d=r(5515),u=r.n(d),f=r(45394),p=r(50984),h=r(42586),m=r(27648),y=r(80551),b=r(97231),g=r(62383),v=r(42391),j=r(65051),x=r(5551),O=r(53514),P=r(12121),w=e=>{let{activeTab:t}=e,r=(0,f.T)(),a=(0,h.useLocale)();return(0,n.jsx)(j.Z,{children:(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(s.Z,{md:"6",className:"p-0 d-flex",children:(0,n.jsxs)(x.Z,{tabs:!0,className:"border-tab",id:"top-tab",children:[(0,n.jsx)(O.Z,{children:(0,n.jsxs)(P.Z,{href:"#",className:"1"===t?"active":"",onClick:()=>r((0,p.r7)("1")),children:[(0,n.jsx)(y.Z,{}),"All"]})}),(0,n.jsx)(O.Z,{children:(0,n.jsxs)(P.Z,{href:"#",className:"2"===t?"active":"",onClick:()=>r((0,p.r7)("2")),children:[(0,n.jsx)(b.Z,{}),"Published"]})}),(0,n.jsx)(O.Z,{children:(0,n.jsxs)(P.Z,{href:"#",className:"3"===t?"active":"",onClick:()=>r((0,p.r7)("3")),children:[(0,n.jsx)(g.Z,{}),"Un Published"]})})]})}),(0,n.jsx)(s.Z,{md:"6",className:"text-end",children:(0,n.jsxs)(m.default,{className:"btn btn-primary",href:"/".concat(a,"/dashboard/products/add"),children:[(0,n.jsx)(v.Z,{}),"Create Product"]})})]})})},Z=r(72248),C=r(88302),N=()=>{let e=(0,f.T)(),t=(0,h.useLocale)(),{productsData:r,activeTab:d,loading:y}=(0,f.C)(e=>e.products);(0,a.useEffect)(()=>{(async()=>{await e((0,p.t2)())})()},[e]);let b=t=>{u().fire({icon:"warning",title:"Are you sure?",text:"Once deleted, this item cannot be recovered!",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Delete"}).then(r=>{r.isConfirmed&&e((0,p.Ir)(t)).unwrap().then(()=>{u().fire({icon:"success",text:"Item has been deleted!",confirmButtonColor:"#3085d6"})}).catch(e=>{u().fire({icon:"error",title:"Error!",text:e.message||"Failed to delete the item."})})})},g=Array.isArray(r)&&r.filter(e=>"1"===d||("2"===d?e.published:"3"!==d||!e.published));return(0,n.jsx)(c.Z,{fluid:!0,children:(0,n.jsxs)(i.Z,{children:[(0,n.jsx)(s.Z,{md:"12",className:"project-list",children:(0,n.jsx)(w,{activeTab:d})}),y?(0,n.jsxs)(s.Z,{sm:"12",className:"text-center",children:[(0,n.jsx)(l.Z,{color:"primary"}),(0,n.jsx)("p",{children:"Loading products data..."})]}):(0,n.jsx)(s.Z,{sm:"12",children:(0,n.jsx)(Z.Z,{data:g||[],columns:[{name:"Product Name",selector:e=>e.name,sortable:!0},{name:"Description",selector:e=>(0,C.j)(e.description).slice(0,48)+"...",sortable:!0},{name:"Image",selector:e=>(0,n.jsx)("img",{src:"".concat("https://stagingsrv.gazala.net/api","/").concat(e.thumbnail),alt:"Product Image",width:50}),sortable:!1},{name:"Status",cell:e=>(0,n.jsx)(o.Z,{pill:!0,color:!0===e.published?"success":"danger",children:!0===e.published?"Published":"UnPublished"}),sortable:!0},{name:"Action",cell:e=>(0,n.jsxs)("ul",{className:"action simple-list d-flex flex-row",children:[(0,n.jsx)("li",{className:"edit",children:(0,n.jsx)(m.default,{prefetch:!0,href:"".concat("https://stagingsrv.gazala.net","/").concat(t,"/dashboard/products/edit?id=").concat(e._id),children:(0,n.jsx)("i",{className:"icon-pencil-alt"})})}),(0,n.jsx)("li",{className:"delete",style:{cursor:"pointer"},children:(0,n.jsx)("a",{onClick:()=>b(e._id),children:(0,n.jsx)("i",{className:"icon-trash"})})})]}),sortable:!1}],filterKey:"name",title:"Products"})})]})})}},45394:function(e,t,r){"use strict";r.d(t,{C:function(){return o},T:function(){return a}});var n=r(68575);let a=n.I0,o=n.v9},50984:function(e,t,r){"use strict";r.d(t,{Ir:function(){return f},dQ:function(){return l},nM:function(){return u},r7:function(){return v},ry:function(){return d},t2:function(){return s}});var n=r(1455),a=r(83464),o=r(43577),c=r(64131);let i="".concat("https://stagingsrv.gazala.net/api","/edit-website/products"),s=(0,n.hg)("products/fetchProducts",async(e,t)=>{let{rejectWithValue:r}=t;try{let e=await a.default.get(i,{headers:{Authorization:"Bearer ".concat(c.Z.get("auth_token"))}});if(200!==e.status)throw Error("Failed to fetch products. Status: ".concat(e.status));return e.data.data}catch(e){if(e instanceof o.d7){var n;return r((null==e?void 0:null===(n=e.response)||void 0===n?void 0:n.data)||"Failed to fetch products")}}}),l=(0,n.hg)("products/fetchProductBySlug",async(e,t)=>{let{rejectWithValue:r}=t;try{let t=await a.default.get("".concat(i,"/").concat(e),{headers:{Authorization:"Bearer ".concat(c.Z.get("auth_token"))}});if(200!==t.status)return r(t.data.message||"Failed to fetch product.");return t.data.data}catch(e){if(e instanceof o.d7){var n;return r((null==e?void 0:null===(n=e.response)||void 0===n?void 0:n.data)||"An unexpected error occurred.")}}}),d=(0,n.hg)("products/createProduct",async(e,t)=>{let{dispatch:r,rejectWithValue:n}=t;try{let t=await a.default.post(i,e,{headers:{Authorization:"Bearer ".concat(c.Z.get("auth_token"))}});if(201!==t.status)return n(t.data.message||"Failed to create product.");let o=t.data;return r(b(o)),o}catch(e){if(e instanceof o.d7){var s;return n((null==e?void 0:null===(s=e.response)||void 0===s?void 0:s.data)||"An unexpected error occurred.")}}}),u=(0,n.hg)("products/updateProduct",async(e,t)=>{let{formData:r,slug:n}=e,{rejectWithValue:s}=t;try{let e=await a.default.patch("".concat(i,"/").concat(n),r,{headers:{Authorization:"Bearer ".concat(c.Z.get("auth_token"))}});if(200!==e.status)return s(e.data.message||"Failed to update product.");return e.data}catch(e){if(e instanceof o.d7){var l;return s((null==e?void 0:null===(l=e.response)||void 0===l?void 0:l.data)||"An unexpected error occurred.")}}}),f=(0,n.hg)("products/deleteProduct",async(e,t)=>{let{dispatch:r,rejectWithValue:n}=t;try{let t=await a.default.delete("".concat(i,"/").concat(e),{headers:{Authorization:"Bearer ".concat(c.Z.get("auth_token"))}});if(200!==t.status)return n(t.data.message||"Failed to delete product.");return r(g(e)),e}catch(e){if(e instanceof o.d7){var s;return n((null==e?void 0:null===(s=e.response)||void 0===s?void 0:s.data)||"An unexpected error occurred.")}}}),p={productsData:[],currentProduct:null,loading:!1,error:null,activeTab:"1",formValues:{name:"",name_ar:"",description:"",description_ar:"",parentProductId:null,thumbnail:"",images:[],published:!1}},h=(0,n.oM)({name:"products",initialState:p,reducers:{setCurrentProduct:(e,t)=>{e.currentProduct=t.payload},clearCurrentProduct:e=>{e.currentProduct=null},addProduct:(e,t)=>{e.productsData.push(t.payload)},removeProduct:(e,t)=>{e.productsData=e.productsData.filter(e=>e._id!==t.payload)},setActiveTab:(e,t)=>{e.activeTab=t.payload},setFormValues:(e,t)=>{e.formValues=t.payload},clearFormValues:e=>{e.formValues=p.formValues}},extraReducers:e=>{e.addCase(s.pending,e=>{e.loading=!0,e.error=null}).addCase(s.fulfilled,(e,t)=>{e.loading=!1,e.productsData=t.payload}).addCase(s.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to load products data."}).addCase(l.pending,e=>{e.loading=!0,e.error=null}).addCase(l.fulfilled,(e,t)=>{e.loading=!1,e.currentProduct=t.payload,e.formValues={name:t.payload.name,name_ar:t.payload.name_ar,description:t.payload.description,description_ar:t.payload.description_ar,parentProductId:t.payload.parentProductId,thumbnail:t.payload.thumbnail,images:t.payload.images,published:t.payload.published}}).addCase(l.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to fetch product."}).addCase(u.pending,e=>{e.loading=!0,e.error=null}).addCase(u.fulfilled,(e,t)=>{e.loading=!1;let r=e.productsData.findIndex(e=>e._id===t.payload._id);-1!==r&&(e.productsData[r]=t.payload),e.currentProduct=t.payload}).addCase(u.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to update product."})}}),{setCurrentProduct:m,clearCurrentProduct:y,addProduct:b,removeProduct:g,setActiveTab:v,setFormValues:j,clearFormValues:x}=h.actions;t.ZP=h.reducer},88302:function(e,t,r){"use strict";r.d(t,{j:function(){return n}});let n=e=>e?e.replace(/<[^>]*>?/gm,""):""}},function(e){e.O(0,[9461,2292,2586,3464,7648,3537,897,3547,1008,2971,2117,1744],function(){return e(e.s=36403)}),_N_E=e.O()}]);